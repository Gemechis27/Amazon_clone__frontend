function LM(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function XE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var e0={exports:{}},Kh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI;function UM(){if(mI)return Kh;mI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Kh.Fragment=e,Kh.jsx=t,Kh.jsxs=t,Kh}var gI;function BM(){return gI||(gI=1,e0.exports=UM()),e0.exports}var B=BM(),t0={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function FM(){if(yI)return Le;yI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function P(q,re,ge){this.props=q,this.context=re,this.refs=A,this.updater=ge||T}P.prototype.isReactComponent={},P.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},P.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function L(){}L.prototype=P.prototype;function U(q,re,ge){this.props=q,this.context=re,this.refs=A,this.updater=ge||T}var V=U.prototype=new L;V.constructor=U,b(V,P.prototype),V.isPureReactComponent=!0;var H=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function M(q,re,ge,me,Te,ke){return ge=ke.ref,{$$typeof:n,type:q,key:re,ref:ge!==void 0?ge:null,props:ke}}function R(q,re){return M(q.type,re,void 0,void 0,void 0,q.props)}function x(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function w(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ge){return re[ge]})}var O=/\/+/g;function C(q,re){return typeof q=="object"&&q!==null&&q.key!=null?w(""+q.key):re.toString(36)}function D(){}function se(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(D,D):(q.status="pending",q.then(function(re){q.status==="pending"&&(q.status="fulfilled",q.value=re)},function(re){q.status==="pending"&&(q.status="rejected",q.reason=re)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function F(q,re,ge,me,Te){var ke=typeof q;(ke==="undefined"||ke==="boolean")&&(q=null);var xe=!1;if(q===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(q.$$typeof){case n:case e:xe=!0;break;case g:return xe=q._init,F(xe(q._payload),re,ge,me,Te)}}if(xe)return Te=Te(q),xe=me===""?"."+C(q,0):me,H(Te)?(ge="",xe!=null&&(ge=xe.replace(O,"$&/")+"/"),F(Te,re,ge,"",function(Pr){return Pr})):Te!=null&&(x(Te)&&(Te=R(Te,ge+(Te.key==null||q&&q.key===Te.key?"":(""+Te.key).replace(O,"$&/")+"/")+xe)),re.push(Te)),1;xe=0;var $t=me===""?".":me+":";if(H(q))for(var rt=0;rt<q.length;rt++)me=q[rt],ke=$t+C(me,rt),xe+=F(me,re,ge,ke,Te);else if(rt=v(q),typeof rt=="function")for(q=rt.call(q),rt=0;!(me=q.next()).done;)me=me.value,ke=$t+C(me,rt++),xe+=F(me,re,ge,ke,Te);else if(ke==="object"){if(typeof q.then=="function")return F(se(q),re,ge,me,Te);throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function $(q,re,ge){if(q==null)return q;var me=[],Te=0;return F(q,me,"","",function(ke){return re.call(ge,ke,Te++)}),me}function J(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(ge){(q._status===0||q._status===-1)&&(q._status=1,q._result=ge)},function(ge){(q._status===0||q._status===-1)&&(q._status=2,q._result=ge)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var le=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function be(){}return Le.Children={map:$,forEach:function(q,re,ge){$(q,function(){re.apply(this,arguments)},ge)},count:function(q){var re=0;return $(q,function(){re++}),re},toArray:function(q){return $(q,function(re){return re})||[]},only:function(q){if(!x(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Le.Component=P,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=U,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Le.__COMPILER_RUNTIME={__proto__:null,c:function(q){return j.H.useMemoCache(q)}},Le.cache=function(q){return function(){return q.apply(null,arguments)}},Le.cloneElement=function(q,re,ge){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var me=b({},q.props),Te=q.key,ke=void 0;if(re!=null)for(xe in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(Te=""+re.key),re)!K.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(me[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)me.children=ge;else if(1<xe){for(var $t=Array(xe),rt=0;rt<xe;rt++)$t[rt]=arguments[rt+2];me.children=$t}return M(q.type,Te,void 0,void 0,ke,me)},Le.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Le.createElement=function(q,re,ge){var me,Te={},ke=null;if(re!=null)for(me in re.key!==void 0&&(ke=""+re.key),re)K.call(re,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Te[me]=re[me]);var xe=arguments.length-2;if(xe===1)Te.children=ge;else if(1<xe){for(var $t=Array(xe),rt=0;rt<xe;rt++)$t[rt]=arguments[rt+2];Te.children=$t}if(q&&q.defaultProps)for(me in xe=q.defaultProps,xe)Te[me]===void 0&&(Te[me]=xe[me]);return M(q,ke,void 0,void 0,null,Te)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(q){return{$$typeof:h,render:q}},Le.isValidElement=x,Le.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:J}},Le.memo=function(q,re){return{$$typeof:d,type:q,compare:re===void 0?null:re}},Le.startTransition=function(q){var re=j.T,ge={};j.T=ge;try{var me=q(),Te=j.S;Te!==null&&Te(ge,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(be,le)}catch(ke){le(ke)}finally{j.T=re}},Le.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Le.use=function(q){return j.H.use(q)},Le.useActionState=function(q,re,ge){return j.H.useActionState(q,re,ge)},Le.useCallback=function(q,re){return j.H.useCallback(q,re)},Le.useContext=function(q){return j.H.useContext(q)},Le.useDebugValue=function(){},Le.useDeferredValue=function(q,re){return j.H.useDeferredValue(q,re)},Le.useEffect=function(q,re,ge){var me=j.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(q,re)},Le.useId=function(){return j.H.useId()},Le.useImperativeHandle=function(q,re,ge){return j.H.useImperativeHandle(q,re,ge)},Le.useInsertionEffect=function(q,re){return j.H.useInsertionEffect(q,re)},Le.useLayoutEffect=function(q,re){return j.H.useLayoutEffect(q,re)},Le.useMemo=function(q,re){return j.H.useMemo(q,re)},Le.useOptimistic=function(q,re){return j.H.useOptimistic(q,re)},Le.useReducer=function(q,re,ge){return j.H.useReducer(q,re,ge)},Le.useRef=function(q){return j.H.useRef(q)},Le.useState=function(q){return j.H.useState(q)},Le.useSyncExternalStore=function(q,re,ge){return j.H.useSyncExternalStore(q,re,ge)},Le.useTransition=function(){return j.H.useTransition()},Le.version="19.1.0",Le}var _I;function Za(){return _I||(_I=1,t0.exports=FM()),t0.exports}var W=Za();const Ke=XE(W),j0=LM({__proto__:null,default:Ke},[W]);var n0={exports:{}},Wh={},r0={exports:{}},i0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI;function jM(){return vI||(vI=1,function(n){function e($,J){var le=$.length;$.push(J);e:for(;0<le;){var be=le-1>>>1,q=$[be];if(0<i(q,J))$[be]=J,$[le]=q,le=be;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var J=$[0],le=$.pop();if(le!==J){$[0]=le;e:for(var be=0,q=$.length,re=q>>>1;be<re;){var ge=2*(be+1)-1,me=$[ge],Te=ge+1,ke=$[Te];if(0>i(me,le))Te<q&&0>i(ke,me)?($[be]=ke,$[Te]=le,be=Te):($[be]=me,$[ge]=le,be=ge);else if(Te<q&&0>i(ke,le))$[be]=ke,$[Te]=le,be=Te;else break e}}return J}function i($,J){var le=$.sortIndex-J.sortIndex;return le!==0?le:$.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,_=null,v=3,T=!1,b=!1,A=!1,P=!1,L=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function H($){for(var J=t(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=$)r(d),J.sortIndex=J.expirationTime,e(f,J);else break;J=t(d)}}function j($){if(A=!1,H($),!b)if(t(f)!==null)b=!0,K||(K=!0,C());else{var J=t(d);J!==null&&F(j,J.startTime-$)}}var K=!1,M=-1,R=5,x=-1;function w(){return P?!0:!(n.unstable_now()-x<R)}function O(){if(P=!1,K){var $=n.unstable_now();x=$;var J=!0;try{e:{b=!1,A&&(A=!1,U(M),M=-1),T=!0;var le=v;try{t:{for(H($),_=t(f);_!==null&&!(_.expirationTime>$&&w());){var be=_.callback;if(typeof be=="function"){_.callback=null,v=_.priorityLevel;var q=be(_.expirationTime<=$);if($=n.unstable_now(),typeof q=="function"){_.callback=q,H($),J=!0;break t}_===t(f)&&r(f),H($)}else r(f);_=t(f)}if(_!==null)J=!0;else{var re=t(d);re!==null&&F(j,re.startTime-$),J=!1}}break e}finally{_=null,v=le,T=!1}J=void 0}}finally{J?C():K=!1}}}var C;if(typeof V=="function")C=function(){V(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,se=D.port2;D.port1.onmessage=O,C=function(){se.postMessage(null)}}else C=function(){L(O,0)};function F($,J){M=L(function(){$(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var le=v;v=J;try{return $()}finally{v=le}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=v;v=$;try{return J()}finally{v=le}},n.unstable_scheduleCallback=function($,J,le){var be=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?be+le:be):le=be,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=le+q,$={id:g++,callback:J,priorityLevel:$,startTime:le,expirationTime:q,sortIndex:-1},le>be?($.sortIndex=le,e(d,$),t(f)===null&&$===t(d)&&(A?(U(M),M=-1):A=!0,F(j,le-be))):($.sortIndex=q,e(f,$),b||T||(b=!0,K||(K=!0,C()))),$},n.unstable_shouldYield=w,n.unstable_wrapCallback=function($){var J=v;return function(){var le=v;v=J;try{return $.apply(this,arguments)}finally{v=le}}}}(i0)),i0}var EI;function zM(){return EI||(EI=1,r0.exports=jM()),r0.exports}var s0={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bI;function qM(){if(bI)return Bn;bI=1;var n=Za();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},Bn.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},Bn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Bn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Bn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Bn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Bn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Bn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Bn.requestFormReset=function(f){r.d.r(f)},Bn.unstable_batchedUpdates=function(f,d){return f(d)},Bn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Bn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Bn.version="19.1.0",Bn}var wI;function HM(){if(wI)return s0.exports;wI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),s0.exports=qM(),s0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI;function $M(){if(TI)return Wh;TI=1;var n=zM(),e=Za(),t=HM();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),s;if(y===c)return h(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var I=!1,N=m.child;N;){if(N===l){I=!0,l=m,c=y;break}if(N===c){I=!0,c=m,l=y;break}N=N.sibling}if(!I){for(N=y.child;N;){if(N===l){I=!0,l=y,c=m;break}if(N===c){I=!0,c=y,l=m;break}N=N.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),V=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function C(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case P:return"Profiler";case A:return"StrictMode";case j:return"Suspense";case K:return"SuspenseList";case x:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case V:return(s.displayName||"Context")+".Provider";case U:return(s._context.displayName||"Context")+".Consumer";case H:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:se(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return se(s(a))}catch{}}return null}var F=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},be=[],q=-1;function re(s){return{current:s}}function ge(s){0>q||(s.current=be[q],be[q]=null,q--)}function me(s,a){q++,be[q]=s.current,s.current=a}var Te=re(null),ke=re(null),xe=re(null),$t=re(null);function rt(s,a){switch(me(xe,a),me(ke,s),me(Te,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?qA(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=qA(a),s=HA(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ge(Te),me(Te,s)}function Pr(){ge(Te),ge(ke),ge(xe)}function ci(s){s.memoizedState!==null&&me($t,s);var a=Te.current,l=HA(a,s.type);a!==l&&(me(ke,s),me(Te,l))}function Or(s){ke.current===s&&(ge(Te),ge(ke)),$t.current===s&&(ge($t),zh._currentValue=le)}var dr=Object.prototype.hasOwnProperty,Ln=n.unstable_scheduleCallback,Qr=n.unstable_cancelCallback,lo=n.unstable_shouldYield,Ol=n.unstable_requestPaint,tr=n.unstable_now,jc=n.unstable_getCurrentPriorityLevel,uo=n.unstable_ImmediatePriority,ts=n.unstable_UserBlockingPriority,Fe=n.unstable_NormalPriority,_t=n.unstable_LowPriority,wt=n.unstable_IdlePriority,hi=n.log,Yr=n.unstable_setDisableYieldValue,st=null,Ue=null;function Gt(s){if(typeof hi=="function"&&Yr(s),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(st,s)}catch{}}var en=Math.clz32?Math.clz32:co,Jf=Math.log,n_=Math.LN2;function co(s){return s>>>=0,s===0?32:31-(Jf(s)/n_|0)|0}var ho=256,fo=4194304;function Xr(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Dl(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var N=c&134217727;return N!==0?(c=N&~y,c!==0?m=Xr(c):(I&=N,I!==0?m=Xr(I):l||(l=N&~s,l!==0&&(m=Xr(l))))):(N=c&~y,N!==0?m=Xr(N):I!==0?m=Xr(I):l||(l=c&~s,l!==0&&(m=Xr(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function po(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function zc(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qc(){var s=ho;return ho<<=1,(ho&4194048)===0&&(ho=256),s}function Hc(){var s=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),s}function ns(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function rs(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $c(s,a,l,c,m,y){var I=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var N=s.entanglements,z=s.expirationTimes,ee=s.hiddenUpdates;for(l=I&~l;0<l;){var ce=31-en(l),de=1<<ce;N[ce]=0,z[ce]=-1;var te=ee[ce];if(te!==null)for(ee[ce]=null,ce=0;ce<te.length;ce++){var ne=te[ce];ne!==null&&(ne.lane&=-536870913)}l&=~de}c!==0&&di(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(I&~a))}function di(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-en(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Gc(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-en(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Qs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Nl(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ys(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:uI(s.type))}function Zf(s,a){var l=J.p;try{return J.p=s,a()}finally{J.p=l}}var Tt=Math.random().toString(36).slice(2),dn="__reactFiber$"+Tt,tn="__reactProps$"+Tt,Dr="__reactContainer$"+Tt,Kc="__reactEvents$"+Tt,r_="__reactListeners$"+Tt,Xs="__reactHandles$"+Tt,ep="__reactResources$"+Tt,mo="__reactMarker$"+Tt;function Js(s){delete s[dn],delete s[tn],delete s[Kc],delete s[r_],delete s[Xs]}function is(s){var a=s[dn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Dr]||l[dn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=WA(s);s!==null;){if(l=s[dn])return l;s=WA(s)}return a}s=l,l=s.parentNode}return null}function fi(s){if(s=s[dn]||s[Dr]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function pi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Gn(s){var a=s[ep];return a||(a=s[ep]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Kt(s){s[mo]=!0}var Wc=new Set,kl={};function Jr(s,a){ss(s,a),ss(s+"Capture",a)}function ss(s,a){for(kl[s]=a,s=0;s<a.length;s++)Wc.add(a[s])}var tp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),np={},go={};function rp(s){return dr.call(go,s)?!0:dr.call(np,s)?!1:tp.test(s)?go[s]=!0:(np[s]=!0,!1)}function Zs(s,a,l){if(rp(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function mi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Cn(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var yo,ip;function as(s){if(yo===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);yo=a&&a[1]||"",ip=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yo+s+ip}var Ml=!1;function Vl(s,a){if(!s||Ml)return"";Ml=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var te=ne}Reflect.construct(s,[],de)}else{try{de.call()}catch(ne){te=ne}s.call(de.prototype)}}else{try{throw Error()}catch(ne){te=ne}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),I=y[0],N=y[1];if(I&&N){var z=I.split(`
`),ee=N.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===ee.length)for(c=z.length-1,m=ee.length-1;1<=c&&0<=m&&z[c]!==ee[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==ee[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==ee[m]){var ce=`
`+z[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{Ml=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?as(l):""}function Qc(s){switch(s.tag){case 26:case 27:case 5:return as(s.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return Vl(s.type,!1);case 11:return Vl(s.type.render,!1);case 1:return Vl(s.type,!0);case 31:return as("Activity");default:return""}}function Ll(s){try{var a="";do a+=Qc(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Kn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Yc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function i_(s){var a=Yc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(I){c=""+I,y.call(this,I)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ul(s){s._valueTracker||(s._valueTracker=i_(s))}function Xc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=Yc(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function _o(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var s_=/[\n"\\]/g;function nn(s){return s.replace(s_,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function fr(s,a,l,c,m,y,I,N){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),a!=null?I==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Kn(a)):s.value!==""+Kn(a)&&(s.value=""+Kn(a)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),a!=null?ea(s,I,Kn(a)):l!=null?ea(s,I,Kn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+Kn(N):s.removeAttribute("name")}function vo(s,a,l,c,m,y,I,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Kn(l):"",a=a!=null?""+Kn(a):l,N||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=N?s.checked:!!c,s.defaultChecked=!!c,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function ea(s,a,l){a==="number"&&_o(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function os(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Kn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function ct(s,a,l){if(a!=null&&(a=""+Kn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Kn(l):""}function Eo(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(F(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Kn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Nr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sp(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||bo.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Jc(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&sp(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&sp(s,y,a[y])}function Zc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),o_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(s){return o_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ls=null;function kr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var us=null,cs=null;function eh(s){var a=fi(s);if(a&&(s=a.stateNode)){var l=s[tn]||null;e:switch(s=a.stateNode,a.type){case"input":if(fr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[tn]||null;if(!m)throw Error(r(90));fr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&Xc(c)}break e;case"textarea":ct(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&os(s,!!l.multiple,a,!1)}}}var gi=!1;function ap(s,a,l){if(gi)return s(a,l);gi=!0;try{var c=s(a);return c}finally{if(gi=!1,(us!==null||cs!==null)&&(Zp(),us&&(a=us,s=cs,cs=us=null,eh(a),s)))for(a=0;a<s.length;a++)eh(s[a])}}function wo(s,a){var l=s.stateNode;if(l===null)return null;var c=l[tn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Zr)try{var To={};Object.defineProperty(To,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{Mr=!1}var yi=null,ta=null,hs=null;function th(){if(hs)return hs;var s,a=ta,l=a.length,c,m="value"in yi?yi.value:yi.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var I=l-s;for(c=1;c<=I&&a[l-c]===m[y-c];c++);return hs=m.slice(s,1<c?1-c:void 0)}function _i(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function vi(){return!0}function nh(){return!1}function vn(s){function a(l,c,m,y,I){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vi:nh,this.isPropagationStopped=nh,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),a}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=vn(it),So=g({},it,{view:0,detail:0}),op=vn(So),jl,zl,Ei,Ao=g({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ei&&(Ei&&s.type==="mousemove"?(jl=s.screenX-Ei.screenX,zl=s.screenY-Ei.screenY):zl=jl=0,Ei=s),jl)},movementY:function(s){return"movementY"in s?s.movementY:zl}}),Vr=vn(Ao),lp=g({},Ao,{dataTransfer:0}),l_=vn(lp),Io=g({},So,{relatedTarget:0}),ql=vn(Io),rh=g({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Hl=vn(rh),up=g({},it,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$l=vn(up),u_=g({},it,{data:0}),ih=vn(u_),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=hp[s])?!!a[s]:!1}function Co(){return sh}var dp=g({},So,{key:function(s){if(s.key){var a=Ro[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=_i(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?cp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(s){return s.type==="keypress"?_i(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_i(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Gl=vn(dp),fp=g({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ah=vn(fp),ds=g({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),pp=vn(ds),mp=g({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),gp=vn(mp),yp=g({},Ao,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Kl=vn(yp),Wn=g({},it,{newState:0,oldState:0}),_p=vn(Wn),vp=[9,13,27,32],bi=Zr&&"CompositionEvent"in window,p=null;Zr&&"documentMode"in document&&(p=document.documentMode);var E=Zr&&"TextEvent"in window&&!p,S=Zr&&(!bi||p&&8<p&&11>=p),k=" ",Y=!1;function ae(s,a){switch(s){case"keyup":return vp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function fn(s,a){switch(s){case"compositionend":return _e(a);case"keypress":return a.which!==32?null:(Y=!0,k);case"textInput":return s=a.data,s===k&&Y?null:s;default:return null}}function Qe(s,a){if(We)return s==="compositionend"||!bi&&ae(s,a)?(s=th(),hs=ta=yi=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!En[s.type]:a==="textarea"}function fs(s,a,l,c){us?cs?cs.push(c):cs=[c]:us=c,a=sm(a,"onChange"),0<a.length&&(l=new Fl("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var xn=null,wi=null;function oh(s){UA(s,0)}function Ep(s){var a=pi(s);if(Xc(a))return s}function sT(s,a){if(s==="change")return a}var aT=!1;if(Zr){var c_;if(Zr){var h_="oninput"in document;if(!h_){var oT=document.createElement("div");oT.setAttribute("oninput","return;"),h_=typeof oT.oninput=="function"}c_=h_}else c_=!1;aT=c_&&(!document.documentMode||9<document.documentMode)}function lT(){xn&&(xn.detachEvent("onpropertychange",uT),wi=xn=null)}function uT(s){if(s.propertyName==="value"&&Ep(wi)){var a=[];fs(a,wi,s,kr(s)),ap(oh,a)}}function fk(s,a,l){s==="focusin"?(lT(),xn=a,wi=l,xn.attachEvent("onpropertychange",uT)):s==="focusout"&&lT()}function pk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ep(wi)}function mk(s,a){if(s==="click")return Ep(a)}function gk(s,a){if(s==="input"||s==="change")return Ep(a)}function yk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var pr=typeof Object.is=="function"?Object.is:yk;function lh(s,a){if(pr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!dr.call(a,m)||!pr(s[m],a[m]))return!1}return!0}function cT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hT(s,a){var l=cT(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cT(l)}}function dT(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?dT(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function fT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=_o(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=_o(s.document)}return a}function d_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var _k=Zr&&"documentMode"in document&&11>=document.documentMode,Wl=null,f_=null,uh=null,p_=!1;function pT(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;p_||Wl==null||Wl!==_o(c)||(c=Wl,"selectionStart"in c&&d_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),uh&&lh(uh,c)||(uh=c,c=sm(f_,"onSelect"),0<c.length&&(a=new Fl("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Wl)))}function xo(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Ql={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionrun:xo("Transition","TransitionRun"),transitionstart:xo("Transition","TransitionStart"),transitioncancel:xo("Transition","TransitionCancel"),transitionend:xo("Transition","TransitionEnd")},m_={},mT={};Zr&&(mT=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function Po(s){if(m_[s])return m_[s];if(!Ql[s])return s;var a=Ql[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in mT)return m_[s]=a[l];return s}var gT=Po("animationend"),yT=Po("animationiteration"),_T=Po("animationstart"),vk=Po("transitionrun"),Ek=Po("transitionstart"),bk=Po("transitioncancel"),vT=Po("transitionend"),ET=new Map,g_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");g_.push("scrollEnd");function ei(s,a){ET.set(s,a),Jr(a,[s])}var bT=new WeakMap;function Lr(s,a){if(typeof s=="object"&&s!==null){var l=bT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Ll(a)},bT.set(s,a),a)}return{value:s,source:a,stack:Ll(a)}}var Ur=[],Yl=0,y_=0;function bp(){for(var s=Yl,a=y_=Yl=0;a<s;){var l=Ur[a];Ur[a++]=null;var c=Ur[a];Ur[a++]=null;var m=Ur[a];Ur[a++]=null;var y=Ur[a];if(Ur[a++]=null,c!==null&&m!==null){var I=c.pending;I===null?m.next=m:(m.next=I.next,I.next=m),c.pending=m}y!==0&&wT(l,m,y)}}function wp(s,a,l,c){Ur[Yl++]=s,Ur[Yl++]=a,Ur[Yl++]=l,Ur[Yl++]=c,y_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function __(s,a,l,c){return wp(s,a,l,c),Tp(s)}function Xl(s,a){return wp(s,null,null,a),Tp(s)}function wT(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&a!==null&&(m=31-en(l),s=y.hiddenUpdates,c=s[m],c===null?s[m]=[a]:c.push(a),a.lane=l|536870912),y):null}function Tp(s){if(50<kh)throw kh=0,Sv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Jl={};function wk(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(s,a,l,c){return new wk(s,a,l,c)}function v_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ps(s,a){var l=s.alternate;return l===null?(l=mr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function TT(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Sp(s,a,l,c,m,y){var I=0;if(c=s,typeof s=="function")v_(s)&&(I=1);else if(typeof s=="string")I=SM(s,l,Te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case x:return s=mr(31,l,a,m),s.elementType=x,s.lanes=y,s;case b:return Oo(l.children,m,y,a);case A:I=8,m|=24;break;case P:return s=mr(12,l,a,m|2),s.elementType=P,s.lanes=y,s;case j:return s=mr(13,l,a,m),s.elementType=j,s.lanes=y,s;case K:return s=mr(19,l,a,m),s.elementType=K,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:case V:I=10;break e;case U:I=9;break e;case H:I=11;break e;case M:I=14;break e;case R:I=16,c=null;break e}I=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=mr(I,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function Oo(s,a,l,c){return s=mr(7,s,c,a),s.lanes=l,s}function E_(s,a,l){return s=mr(6,s,null,a),s.lanes=l,s}function b_(s,a,l){return a=mr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Zl=[],eu=0,Ap=null,Ip=0,Br=[],Fr=0,Do=null,ms=1,gs="";function No(s,a){Zl[eu++]=Ip,Zl[eu++]=Ap,Ap=s,Ip=a}function ST(s,a,l){Br[Fr++]=ms,Br[Fr++]=gs,Br[Fr++]=Do,Do=s;var c=ms;s=gs;var m=32-en(c)-1;c&=~(1<<m),l+=1;var y=32-en(a)+m;if(30<y){var I=m-m%5;y=(c&(1<<I)-1).toString(32),c>>=I,m-=I,ms=1<<32-en(a)+m|l<<m|c,gs=y+s}else ms=1<<y|l<<m|c,gs=s}function w_(s){s.return!==null&&(No(s,1),ST(s,1,0))}function T_(s){for(;s===Ap;)Ap=Zl[--eu],Zl[eu]=null,Ip=Zl[--eu],Zl[eu]=null;for(;s===Do;)Do=Br[--Fr],Br[Fr]=null,gs=Br[--Fr],Br[Fr]=null,ms=Br[--Fr],Br[Fr]=null}var Qn=null,Ut=null,et=!1,ko=null,Ti=!1,S_=Error(r(519));function Mo(s){var a=Error(r(418,""));throw dh(Lr(a,s)),S_}function AT(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[dn]=s,a[tn]=c,l){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(l=0;l<Vh.length;l++)qe(Vh[l],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qe("invalid",a),vo(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ul(a);break;case"select":qe("invalid",a);break;case"textarea":qe("invalid",a),Eo(a,c.value,c.defaultValue,c.children),Ul(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||zA(a.textContent,l)?(c.popover!=null&&(qe("beforetoggle",a),qe("toggle",a)),c.onScroll!=null&&qe("scroll",a),c.onScrollEnd!=null&&qe("scrollend",a),c.onClick!=null&&(a.onclick=am),a=!0):a=!1,a||Mo(s)}function IT(s){for(Qn=s.return;Qn;)switch(Qn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:Qn=Qn.return}}function ch(s){if(s!==Qn)return!1;if(!et)return IT(s),et=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Fv(s.type,s.memoizedProps)),l=!l),l&&Ut&&Mo(s),IT(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ut=ni(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ut=null}}else a===27?(a=Ut,ya(s.type)?(s=Hv,Hv=null,Ut=s):Ut=a):Ut=Qn?ni(s.stateNode.nextSibling):null;return!0}function hh(){Ut=Qn=null,et=!1}function RT(){var s=ko;return s!==null&&(ir===null?ir=s:ir.push.apply(ir,s),ko=null),s}function dh(s){ko===null?ko=[s]:ko.push(s)}var A_=re(null),Vo=null,ys=null;function na(s,a,l){me(A_,a._currentValue),a._currentValue=l}function _s(s){s._currentValue=A_.current,ge(A_)}function I_(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function R_(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var I=m.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=m;for(var z=0;z<a.length;z++)if(N.context===a[z]){y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),I_(y.return,l,s),c||(I=null);break e}y=N.next}}else if(m.tag===18){if(I=m.return,I===null)throw Error(r(341));I.lanes|=l,y=I.alternate,y!==null&&(y.lanes|=l),I_(I,l,s),I=null}else I=m.child;if(I!==null)I.return=m;else for(I=m;I!==null;){if(I===s){I=null;break}if(m=I.sibling,m!==null){m.return=I.return,I=m;break}I=I.return}m=I}}function fh(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var I=m.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var N=m.type;pr(m.pendingProps.value,I.value)||(s!==null?s.push(N):s=[N])}}else if(m===$t.current){if(I=m.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(zh):s=[zh])}m=m.return}s!==null&&R_(a,s,l,c),a.flags|=262144}function Rp(s){for(s=s.firstContext;s!==null;){if(!pr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Lo(s){Vo=s,ys=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Un(s){return CT(Vo,s)}function Cp(s,a){return Vo===null&&Lo(s),CT(s,a)}function CT(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ys===null){if(s===null)throw Error(r(308));ys=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ys=ys.next=a;return l}var Tk=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Sk=n.unstable_scheduleCallback,Ak=n.unstable_NormalPriority,mn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function C_(){return{controller:new Tk,data:new Map,refCount:0}}function ph(s){s.refCount--,s.refCount===0&&Sk(Ak,function(){s.controller.abort()})}var mh=null,x_=0,tu=0,nu=null;function Ik(s,a){if(mh===null){var l=mh=[];x_=0,tu=Ov(),nu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return x_++,a.then(xT,xT),a}function xT(){if(--x_===0&&mh!==null){nu!==null&&(nu.status="fulfilled");var s=mh;mh=null,tu=0,nu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Rk(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var PT=$.S;$.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Ik(s,a),PT!==null&&PT(s,a)};var Uo=re(null);function P_(){var s=Uo.current;return s!==null?s:vt.pooledCache}function xp(s,a){a===null?me(Uo,Uo.current):me(Uo,a.pool)}function OT(){var s=P_();return s===null?null:{parent:mn._currentValue,pool:s}}var gh=Error(r(460)),DT=Error(r(474)),Pp=Error(r(542)),O_={then:function(){}};function NT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Op(){}function kT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Op,Op),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,VT(s),s;default:if(typeof a.status=="string")a.then(Op,Op);else{if(s=vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,VT(s),s}throw yh=a,gh}}var yh=null;function MT(){if(yh===null)throw Error(r(459));var s=yh;return yh=null,s}function VT(s){if(s===gh||s===Pp)throw Error(r(483))}var ra=!1;function D_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function N_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ia(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function sa(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(at&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Tp(s),wT(s,null,l),a}return wp(s,c,a,l),Tp(s)}function _h(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Gc(s,l)}}function k_(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=I:y=y.next=I,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var M_=!1;function vh(){if(M_){var s=nu;if(s!==null)throw s}}function Eh(s,a,l,c){M_=!1;var m=s.updateQueue;ra=!1;var y=m.firstBaseUpdate,I=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var z=N,ee=z.next;z.next=null,I===null?y=ee:I.next=ee,I=z;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==I&&(N===null?ce.firstBaseUpdate=ee:N.next=ee,ce.lastBaseUpdate=z))}if(y!==null){var de=m.baseState;I=0,ce=ee=z=null,N=y;do{var te=N.lane&-536870913,ne=te!==N.lane;if(ne?(Ye&te)===te:(c&te)===te){te!==0&&te===tu&&(M_=!0),ce!==null&&(ce=ce.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ne=s,Pe=N;te=a;var ft=l;switch(Pe.tag){case 1:if(Ne=Pe.payload,typeof Ne=="function"){de=Ne.call(ft,de,te);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Pe.payload,te=typeof Ne=="function"?Ne.call(ft,de,te):Ne,te==null)break e;de=g({},de,te);break e;case 2:ra=!0}}te=N.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(ee=ce=ne,z=de):ce=ce.next=ne,I|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ce===null&&(z=de),m.baseState=z,m.firstBaseUpdate=ee,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),fa|=I,s.lanes=I,s.memoizedState=de}}function LT(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function UT(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)LT(l[s],a)}var ru=re(null),Dp=re(0);function BT(s,a){s=As,me(Dp,s),me(ru,a),As=s|a.baseLanes}function V_(){me(Dp,As),me(ru,ru.current)}function L_(){As=Dp.current,ge(ru),ge(Dp)}var aa=0,Be=null,ht=null,rn=null,Np=!1,iu=!1,Bo=!1,kp=0,bh=0,su=null,Ck=0;function Wt(){throw Error(r(321))}function U_(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!pr(s[l],a[l]))return!1;return!0}function B_(s,a,l,c,m,y){return aa=y,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=s===null||s.memoizedState===null?wS:TS,Bo=!1,y=l(c,m),Bo=!1,iu&&(y=jT(a,l,c,m)),FT(s),y}function FT(s){$.H=Fp;var a=ht!==null&&ht.next!==null;if(aa=0,rn=ht=Be=null,Np=!1,bh=0,su=null,a)throw Error(r(300));s===null||bn||(s=s.dependencies,s!==null&&Rp(s)&&(bn=!0))}function jT(s,a,l,c){Be=s;var m=0;do{if(iu&&(su=null),bh=0,iu=!1,25<=m)throw Error(r(301));if(m+=1,rn=ht=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=Mk,y=a(l,c)}while(iu);return y}function xk(){var s=$.H,a=s.useState()[0];return a=typeof a.then=="function"?wh(a):a,s=s.useState()[0],(ht!==null?ht.memoizedState:null)!==s&&(Be.flags|=1024),a}function F_(){var s=kp!==0;return kp=0,s}function j_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function z_(s){if(Np){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Np=!1}aa=0,rn=ht=Be=null,iu=!1,bh=kp=0,su=null}function nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Be.memoizedState=rn=s:rn=rn.next=s,rn}function sn(){if(ht===null){var s=Be.alternate;s=s!==null?s.memoizedState:null}else s=ht.next;var a=rn===null?Be.memoizedState:rn.next;if(a!==null)rn=a,ht=s;else{if(s===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ht=s,s={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},rn===null?Be.memoizedState=rn=s:rn=rn.next=s}return rn}function q_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wh(s){var a=bh;return bh+=1,su===null&&(su=[]),s=kT(su,s,a),a=Be,(rn===null?a.memoizedState:rn.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?wS:TS),s}function Mp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wh(s);if(s.$$typeof===V)return Un(s)}throw Error(r(438,String(s)))}function H_(s){var a=null,l=Be.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=q_(),Be.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=w;return a.index++,l}function vs(s,a){return typeof a=="function"?a(s):a}function Vp(s){var a=sn();return $_(a,ht,s)}function $_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var I=m.next;m.next=y.next,y.next=I}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var N=I=null,z=null,ee=a,ce=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(Ye&de)===de:(aa&de)===de){var te=ee.revertLane;if(te===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===tu&&(ce=!0);else if((aa&te)===te){ee=ee.next,te===tu&&(ce=!0);continue}else de={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},z===null?(N=z=de,I=y):z=z.next=de,Be.lanes|=te,fa|=te;de=ee.action,Bo&&l(y,de),y=ee.hasEagerState?ee.eagerState:l(y,de)}else te={lane:de,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},z===null?(N=z=te,I=y):z=z.next=te,Be.lanes|=de,fa|=de;ee=ee.next}while(ee!==null&&ee!==a);if(z===null?I=y:z.next=N,!pr(y,s.memoizedState)&&(bn=!0,ce&&(l=nu,l!==null)))throw l;s.memoizedState=y,s.baseState=I,s.baseQueue=z,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function G_(s){var a=sn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var I=m=m.next;do y=s(y,I.action),I=I.next;while(I!==m);pr(y,a.memoizedState)||(bn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function zT(s,a,l){var c=Be,m=sn(),y=et;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var I=!pr((ht||m).memoizedState,l);I&&(m.memoizedState=l,bn=!0),m=m.queue;var N=$T.bind(null,c,m,s);if(Th(2048,8,N,[s]),m.getSnapshot!==a||I||rn!==null&&rn.memoizedState.tag&1){if(c.flags|=2048,au(9,Lp(),HT.bind(null,c,m,l,a),null),vt===null)throw Error(r(349));y||(aa&124)!==0||qT(c,a,l)}return l}function qT(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Be.updateQueue,a===null?(a=q_(),Be.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function HT(s,a,l,c){a.value=l,a.getSnapshot=c,GT(a)&&KT(s)}function $T(s,a,l){return l(function(){GT(a)&&KT(s)})}function GT(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!pr(s,l)}catch{return!0}}function KT(s){var a=Xl(s,2);a!==null&&Er(a,s,2)}function K_(s){var a=nr();if(typeof s=="function"){var l=s;if(s=l(),Bo){Gt(!0);try{l()}finally{Gt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:s},a}function WT(s,a,l,c){return s.baseState=l,$_(s,ht,typeof c=="function"?c:vs)}function Pk(s,a,l,c,m){if(Bp(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){y.listeners.push(I)}};$.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,QT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function QT(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=$.T,I={};$.T=I;try{var N=l(m,c),z=$.S;z!==null&&z(I,N),YT(s,a,N)}catch(ee){W_(s,a,ee)}finally{$.T=y}}else try{y=l(m,c),YT(s,a,y)}catch(ee){W_(s,a,ee)}}function YT(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){XT(s,a,c)},function(c){return W_(s,a,c)}):XT(s,a,l)}function XT(s,a,l){a.status="fulfilled",a.value=l,JT(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,QT(s,l)))}function W_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,JT(a),a=a.next;while(a!==c)}s.action=null}function JT(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function ZT(s,a){return a}function eS(s,a){if(et){var l=vt.formState;if(l!==null){e:{var c=Be;if(et){if(Ut){t:{for(var m=Ut,y=Ti;m.nodeType!==8;){if(!y){m=null;break t}if(m=ni(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Ut=ni(m.nextSibling),c=m.data==="F!";break e}}Mo(c)}c=!1}c&&(a=l[0])}}return l=nr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZT,lastRenderedState:a},l.queue=c,l=vS.bind(null,Be,c),c.dispatch=l,c=K_(!1),y=Z_.bind(null,Be,!1,c.queue),c=nr(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=Pk.bind(null,Be,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function tS(s){var a=sn();return nS(a,ht,s)}function nS(s,a,l){if(a=$_(s,a,ZT)[0],s=Vp(vs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=wh(a)}catch(I){throw I===gh?Pp:I}else c=a;a=sn();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&(Be.flags|=2048,au(9,Lp(),Ok.bind(null,m,l),null)),[c,y,s]}function Ok(s,a){s.action=a}function rS(s){var a=sn(),l=ht;if(l!==null)return nS(a,l,s);sn(),a=a.memoizedState,l=sn();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function au(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=q_(),Be.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function Lp(){return{destroy:void 0,resource:void 0}}function iS(){return sn().memoizedState}function Up(s,a,l,c){var m=nr();c=c===void 0?null:c,Be.flags|=s,m.memoizedState=au(1|a,Lp(),l,c)}function Th(s,a,l,c){var m=sn();c=c===void 0?null:c;var y=m.memoizedState.inst;ht!==null&&c!==null&&U_(c,ht.memoizedState.deps)?m.memoizedState=au(a,y,l,c):(Be.flags|=s,m.memoizedState=au(1|a,y,l,c))}function sS(s,a){Up(8390656,8,s,a)}function aS(s,a){Th(2048,8,s,a)}function oS(s,a){return Th(4,2,s,a)}function lS(s,a){return Th(4,4,s,a)}function uS(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function cS(s,a,l){l=l!=null?l.concat([s]):null,Th(4,4,uS.bind(null,a,s),l)}function Q_(){}function hS(s,a){var l=sn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&U_(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function dS(s,a){var l=sn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&U_(a,c[1]))return c[0];if(c=s(),Bo){Gt(!0);try{s()}finally{Gt(!1)}}return l.memoizedState=[c,a],c}function Y_(s,a,l){return l===void 0||(aa&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=mA(),Be.lanes|=s,fa|=s,l)}function fS(s,a,l,c){return pr(l,a)?l:ru.current!==null?(s=Y_(s,l,c),pr(s,a)||(bn=!0),s):(aa&42)===0?(bn=!0,s.memoizedState=l):(s=mA(),Be.lanes|=s,fa|=s,a)}function pS(s,a,l,c,m){var y=J.p;J.p=y!==0&&8>y?y:8;var I=$.T,N={};$.T=N,Z_(s,!1,a,l);try{var z=m(),ee=$.S;if(ee!==null&&ee(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ce=Rk(z,c);Sh(s,a,ce,vr(s))}else Sh(s,a,c,vr(s))}catch(de){Sh(s,a,{then:function(){},status:"rejected",reason:de},vr())}finally{J.p=y,$.T=I}}function Dk(){}function X_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=mS(s).queue;pS(s,m,a,le,l===null?Dk:function(){return gS(s),l(c)})}function mS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:le},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function gS(s){var a=mS(s).next.queue;Sh(s,a,{},vr())}function J_(){return Un(zh)}function yS(){return sn().memoizedState}function _S(){return sn().memoizedState}function Nk(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=vr();s=ia(l);var c=sa(a,s,l);c!==null&&(Er(c,a,l),_h(c,a,l)),a={cache:C_()},s.payload=a;return}a=a.return}}function kk(s,a,l){var c=vr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Bp(s)?ES(a,l):(l=__(s,a,l,c),l!==null&&(Er(l,s,c),bS(l,a,c)))}function vS(s,a,l){var c=vr();Sh(s,a,l,c)}function Sh(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bp(s))ES(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var I=a.lastRenderedState,N=y(I,l);if(m.hasEagerState=!0,m.eagerState=N,pr(N,I))return wp(s,a,m,0),vt===null&&bp(),!1}catch{}finally{}if(l=__(s,a,m,c),l!==null)return Er(l,s,c),bS(l,a,c),!0}return!1}function Z_(s,a,l,c){if(c={lane:2,revertLane:Ov(),action:c,hasEagerState:!1,eagerState:null,next:null},Bp(s)){if(a)throw Error(r(479))}else a=__(s,l,c,2),a!==null&&Er(a,s,2)}function Bp(s){var a=s.alternate;return s===Be||a!==null&&a===Be}function ES(s,a){iu=Np=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function bS(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Gc(s,l)}}var Fp={readContext:Un,use:Mp,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},wS={readContext:Un,use:Mp,useCallback:function(s,a){return nr().memoizedState=[s,a===void 0?null:a],s},useContext:Un,useEffect:sS,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Up(4194308,4,uS.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Up(4194308,4,s,a)},useInsertionEffect:function(s,a){Up(4,2,s,a)},useMemo:function(s,a){var l=nr();a=a===void 0?null:a;var c=s();if(Bo){Gt(!0);try{s()}finally{Gt(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=nr();if(l!==void 0){var m=l(a);if(Bo){Gt(!0);try{l(a)}finally{Gt(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=kk.bind(null,Be,s),[c.memoizedState,s]},useRef:function(s){var a=nr();return s={current:s},a.memoizedState=s},useState:function(s){s=K_(s);var a=s.queue,l=vS.bind(null,Be,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Q_,useDeferredValue:function(s,a){var l=nr();return Y_(l,s,a)},useTransition:function(){var s=K_(!1);return s=pS.bind(null,Be,s.queue,!0,!1),nr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Be,m=nr();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),vt===null)throw Error(r(349));(Ye&124)!==0||qT(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,sS($T.bind(null,c,y,s),[s]),c.flags|=2048,au(9,Lp(),HT.bind(null,c,y,l,a),null),l},useId:function(){var s=nr(),a=vt.identifierPrefix;if(et){var l=gs,c=ms;l=(c&~(1<<32-en(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=kp++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Ck++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:J_,useFormState:eS,useActionState:eS,useOptimistic:function(s){var a=nr();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Z_.bind(null,Be,!0,l),l.dispatch=a,[s,a]},useMemoCache:H_,useCacheRefresh:function(){return nr().memoizedState=Nk.bind(null,Be)}},TS={readContext:Un,use:Mp,useCallback:hS,useContext:Un,useEffect:aS,useImperativeHandle:cS,useInsertionEffect:oS,useLayoutEffect:lS,useMemo:dS,useReducer:Vp,useRef:iS,useState:function(){return Vp(vs)},useDebugValue:Q_,useDeferredValue:function(s,a){var l=sn();return fS(l,ht.memoizedState,s,a)},useTransition:function(){var s=Vp(vs)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:wh(s),a]},useSyncExternalStore:zT,useId:yS,useHostTransitionStatus:J_,useFormState:tS,useActionState:tS,useOptimistic:function(s,a){var l=sn();return WT(l,ht,s,a)},useMemoCache:H_,useCacheRefresh:_S},Mk={readContext:Un,use:Mp,useCallback:hS,useContext:Un,useEffect:aS,useImperativeHandle:cS,useInsertionEffect:oS,useLayoutEffect:lS,useMemo:dS,useReducer:G_,useRef:iS,useState:function(){return G_(vs)},useDebugValue:Q_,useDeferredValue:function(s,a){var l=sn();return ht===null?Y_(l,s,a):fS(l,ht.memoizedState,s,a)},useTransition:function(){var s=G_(vs)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:wh(s),a]},useSyncExternalStore:zT,useId:yS,useHostTransitionStatus:J_,useFormState:rS,useActionState:rS,useOptimistic:function(s,a){var l=sn();return ht!==null?WT(l,ht,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:H_,useCacheRefresh:_S},ou=null,Ah=0;function jp(s){var a=Ah;return Ah+=1,ou===null&&(ou=[]),kT(ou,s,a)}function Ih(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function zp(s,a){throw a.$$typeof===_?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function SS(s){var a=s._init;return a(s._payload)}function AS(s){function a(Q,G){if(s){var Z=Q.deletions;Z===null?(Q.deletions=[G],Q.flags|=16):Z.push(G)}}function l(Q,G){if(!s)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=ps(Q,G),Q.index=0,Q.sibling=null,Q}function y(Q,G,Z){return Q.index=Z,s?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<G?(Q.flags|=67108866,G):Z):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function I(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,G,Z,he){return G===null||G.tag!==6?(G=E_(Z,Q.mode,he),G.return=Q,G):(G=m(G,Z),G.return=Q,G)}function z(Q,G,Z,he){var Se=Z.type;return Se===b?ce(Q,G,Z.props.children,he,Z.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&SS(Se)===G.type)?(G=m(G,Z.props),Ih(G,Z),G.return=Q,G):(G=Sp(Z.type,Z.key,Z.props,null,Q.mode,he),Ih(G,Z),G.return=Q,G)}function ee(Q,G,Z,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=b_(Z,Q.mode,he),G.return=Q,G):(G=m(G,Z.children||[]),G.return=Q,G)}function ce(Q,G,Z,he,Se){return G===null||G.tag!==7?(G=Oo(Z,Q.mode,he,Se),G.return=Q,G):(G=m(G,Z),G.return=Q,G)}function de(Q,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=E_(""+G,Q.mode,Z),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return Z=Sp(G.type,G.key,G.props,null,Q.mode,Z),Ih(Z,G),Z.return=Q,Z;case T:return G=b_(G,Q.mode,Z),G.return=Q,G;case R:var he=G._init;return G=he(G._payload),de(Q,G,Z)}if(F(G)||C(G))return G=Oo(G,Q.mode,Z,null),G.return=Q,G;if(typeof G.then=="function")return de(Q,jp(G),Z);if(G.$$typeof===V)return de(Q,Cp(Q,G),Z);zp(Q,G)}return null}function te(Q,G,Z,he){var Se=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:N(Q,G,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Se?z(Q,G,Z,he):null;case T:return Z.key===Se?ee(Q,G,Z,he):null;case R:return Se=Z._init,Z=Se(Z._payload),te(Q,G,Z,he)}if(F(Z)||C(Z))return Se!==null?null:ce(Q,G,Z,he,null);if(typeof Z.then=="function")return te(Q,G,jp(Z),he);if(Z.$$typeof===V)return te(Q,G,Cp(Q,Z),he);zp(Q,Z)}return null}function ne(Q,G,Z,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(Z)||null,N(G,Q,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return Q=Q.get(he.key===null?Z:he.key)||null,z(G,Q,he,Se);case T:return Q=Q.get(he.key===null?Z:he.key)||null,ee(G,Q,he,Se);case R:var je=he._init;return he=je(he._payload),ne(Q,G,Z,he,Se)}if(F(he)||C(he))return Q=Q.get(Z)||null,ce(G,Q,he,Se,null);if(typeof he.then=="function")return ne(Q,G,Z,jp(he),Se);if(he.$$typeof===V)return ne(Q,G,Z,Cp(G,he),Se);zp(G,he)}return null}function Ne(Q,G,Z,he){for(var Se=null,je=null,Re=G,Oe=G=0,Tn=null;Re!==null&&Oe<Z.length;Oe++){Re.index>Oe?(Tn=Re,Re=null):Tn=Re.sibling;var Je=te(Q,Re,Z[Oe],he);if(Je===null){Re===null&&(Re=Tn);break}s&&Re&&Je.alternate===null&&a(Q,Re),G=y(Je,G,Oe),je===null?Se=Je:je.sibling=Je,je=Je,Re=Tn}if(Oe===Z.length)return l(Q,Re),et&&No(Q,Oe),Se;if(Re===null){for(;Oe<Z.length;Oe++)Re=de(Q,Z[Oe],he),Re!==null&&(G=y(Re,G,Oe),je===null?Se=Re:je.sibling=Re,je=Re);return et&&No(Q,Oe),Se}for(Re=c(Re);Oe<Z.length;Oe++)Tn=ne(Re,Q,Oe,Z[Oe],he),Tn!==null&&(s&&Tn.alternate!==null&&Re.delete(Tn.key===null?Oe:Tn.key),G=y(Tn,G,Oe),je===null?Se=Tn:je.sibling=Tn,je=Tn);return s&&Re.forEach(function(wa){return a(Q,wa)}),et&&No(Q,Oe),Se}function Pe(Q,G,Z,he){if(Z==null)throw Error(r(151));for(var Se=null,je=null,Re=G,Oe=G=0,Tn=null,Je=Z.next();Re!==null&&!Je.done;Oe++,Je=Z.next()){Re.index>Oe?(Tn=Re,Re=null):Tn=Re.sibling;var wa=te(Q,Re,Je.value,he);if(wa===null){Re===null&&(Re=Tn);break}s&&Re&&wa.alternate===null&&a(Q,Re),G=y(wa,G,Oe),je===null?Se=wa:je.sibling=wa,je=wa,Re=Tn}if(Je.done)return l(Q,Re),et&&No(Q,Oe),Se;if(Re===null){for(;!Je.done;Oe++,Je=Z.next())Je=de(Q,Je.value,he),Je!==null&&(G=y(Je,G,Oe),je===null?Se=Je:je.sibling=Je,je=Je);return et&&No(Q,Oe),Se}for(Re=c(Re);!Je.done;Oe++,Je=Z.next())Je=ne(Re,Q,Oe,Je.value,he),Je!==null&&(s&&Je.alternate!==null&&Re.delete(Je.key===null?Oe:Je.key),G=y(Je,G,Oe),je===null?Se=Je:je.sibling=Je,je=Je);return s&&Re.forEach(function(VM){return a(Q,VM)}),et&&No(Q,Oe),Se}function ft(Q,G,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Se=Z.key;G!==null;){if(G.key===Se){if(Se=Z.type,Se===b){if(G.tag===7){l(Q,G.sibling),he=m(G,Z.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&SS(Se)===G.type){l(Q,G.sibling),he=m(G,Z.props),Ih(he,Z),he.return=Q,Q=he;break e}l(Q,G);break}else a(Q,G);G=G.sibling}Z.type===b?(he=Oo(Z.props.children,Q.mode,he,Z.key),he.return=Q,Q=he):(he=Sp(Z.type,Z.key,Z.props,null,Q.mode,he),Ih(he,Z),he.return=Q,Q=he)}return I(Q);case T:e:{for(Se=Z.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){l(Q,G.sibling),he=m(G,Z.children||[]),he.return=Q,Q=he;break e}else{l(Q,G);break}else a(Q,G);G=G.sibling}he=b_(Z,Q.mode,he),he.return=Q,Q=he}return I(Q);case R:return Se=Z._init,Z=Se(Z._payload),ft(Q,G,Z,he)}if(F(Z))return Ne(Q,G,Z,he);if(C(Z)){if(Se=C(Z),typeof Se!="function")throw Error(r(150));return Z=Se.call(Z),Pe(Q,G,Z,he)}if(typeof Z.then=="function")return ft(Q,G,jp(Z),he);if(Z.$$typeof===V)return ft(Q,G,Cp(Q,Z),he);zp(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(l(Q,G.sibling),he=m(G,Z),he.return=Q,Q=he):(l(Q,G),he=E_(Z,Q.mode,he),he.return=Q,Q=he),I(Q)):l(Q,G)}return function(Q,G,Z,he){try{Ah=0;var Se=ft(Q,G,Z,he);return ou=null,Se}catch(Re){if(Re===gh||Re===Pp)throw Re;var je=mr(29,Re,null,Q.mode);return je.lanes=he,je.return=Q,je}finally{}}}var lu=AS(!0),IS=AS(!1),jr=re(null),Si=null;function oa(s){var a=s.alternate;me(gn,gn.current&1),me(jr,s),Si===null&&(a===null||ru.current!==null||a.memoizedState!==null)&&(Si=s)}function RS(s){if(s.tag===22){if(me(gn,gn.current),me(jr,s),Si===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Si=s)}}else la()}function la(){me(gn,gn.current),me(jr,jr.current)}function Es(s){ge(jr),Si===s&&(Si=null),ge(gn)}var gn=re(0);function qp(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||qv(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ev(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var tv={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=vr(),m=ia(c);m.payload=a,l!=null&&(m.callback=l),a=sa(s,m,c),a!==null&&(Er(a,s,c),_h(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=vr(),m=ia(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=sa(s,m,c),a!==null&&(Er(a,s,c),_h(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=vr(),c=ia(l);c.tag=2,a!=null&&(c.callback=a),a=sa(s,c,l),a!==null&&(Er(a,s,l),_h(a,s,l))}};function CS(s,a,l,c,m,y,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,I):a.prototype&&a.prototype.isPureReactComponent?!lh(l,c)||!lh(m,y):!0}function xS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&tv.enqueueReplaceState(a,a.state,null)}function Fo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=g({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Hp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function PS(s){Hp(s)}function OS(s){console.error(s)}function DS(s){Hp(s)}function $p(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function NS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function nv(s,a,l){return l=ia(l),l.tag=3,l.payload={element:null},l.callback=function(){$p(s,a)},l}function kS(s){return s=ia(s),s.tag=3,s}function MS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){NS(a,l,c)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){NS(a,l,c),typeof m!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function Vk(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&fh(a,l,m,!0),l=jr.current,l!==null){switch(l.tag){case 13:return Si===null?Iv():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===O_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Cv(s,c,m)),!1;case 22:return l.flags|=65536,c===O_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Cv(s,c,m)),!1}throw Error(r(435,l.tag))}return Cv(s,c,m),Iv(),!1}if(et)return a=jr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==S_&&(s=Error(r(422),{cause:c}),dh(Lr(s,l)))):(c!==S_&&(a=Error(r(423),{cause:c}),dh(Lr(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Lr(c,l),m=nv(s.stateNode,c,m),k_(s,m),Bt!==4&&(Bt=2)),!1;var y=Error(r(520),{cause:c});if(y=Lr(y,l),Nh===null?Nh=[y]:Nh.push(y),Bt!==4&&(Bt=2),a===null)return!0;c=Lr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=nv(l.stateNode,c,s),k_(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pa===null||!pa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=kS(m),MS(m,s,l,c),k_(l,m),!1}l=l.return}while(l!==null);return!1}var VS=Error(r(461)),bn=!1;function Pn(s,a,l,c){a.child=s===null?IS(a,null,l,c):lu(a,s.child,l,c)}function LS(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var I={};for(var N in c)N!=="ref"&&(I[N]=c[N])}else I=c;return Lo(a),c=B_(s,a,l,I,y,m),N=F_(),s!==null&&!bn?(j_(s,a,m),bs(s,a,m)):(et&&N&&w_(a),a.flags|=1,Pn(s,a,c,m),a.child)}function US(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!v_(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,BS(s,a,y,c,m)):(s=Sp(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!cv(s,m)){var I=y.memoizedProps;if(l=l.compare,l=l!==null?l:lh,l(I,c)&&s.ref===a.ref)return bs(s,a,m)}return a.flags|=1,s=ps(y,c),s.ref=a.ref,s.return=a,a.child=s}function BS(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(lh(y,c)&&s.ref===a.ref)if(bn=!1,a.pendingProps=c=y,cv(s,m))(s.flags&131072)!==0&&(bn=!0);else return a.lanes=s.lanes,bs(s,a,m)}return rv(s,a,l,c,m)}function FS(s,a,l){var c=a.pendingProps,m=c.children,y=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return jS(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&xp(a,y!==null?y.cachePool:null),y!==null?BT(a,y):V_(),RS(a);else return a.lanes=a.childLanes=536870912,jS(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(xp(a,y.cachePool),BT(a,y),la(),a.memoizedState=null):(s!==null&&xp(a,null),V_(),la());return Pn(s,a,m,l),a.child}function jS(s,a,l,c){var m=P_();return m=m===null?null:{parent:mn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&xp(a,null),V_(),RS(a),s!==null&&fh(s,a,c,!0),null}function Gp(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function rv(s,a,l,c,m){return Lo(a),l=B_(s,a,l,c,void 0,m),c=F_(),s!==null&&!bn?(j_(s,a,m),bs(s,a,m)):(et&&c&&w_(a),a.flags|=1,Pn(s,a,l,m),a.child)}function zS(s,a,l,c,m,y){return Lo(a),a.updateQueue=null,l=jT(a,c,l,m),FT(s),c=F_(),s!==null&&!bn?(j_(s,a,y),bs(s,a,y)):(et&&c&&w_(a),a.flags|=1,Pn(s,a,l,y),a.child)}function qS(s,a,l,c,m){if(Lo(a),a.stateNode===null){var y=Jl,I=l.contextType;typeof I=="object"&&I!==null&&(y=Un(I)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=tv,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},D_(a),I=l.contextType,y.context=typeof I=="object"&&I!==null?Un(I):Jl,y.state=a.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(ev(a,l,I,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(I=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),I!==y.state&&tv.enqueueReplaceState(y,y.state,null),Eh(a,c,y,m),vh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var N=a.memoizedProps,z=Fo(l,N);y.props=z;var ee=y.context,ce=l.contextType;I=Jl,typeof ce=="object"&&ce!==null&&(I=Un(ce));var de=l.getDerivedStateFromProps;ce=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||ee!==I)&&xS(a,y,c,I),ra=!1;var te=a.memoizedState;y.state=te,Eh(a,c,y,m),vh(),ee=a.memoizedState,N||te!==ee||ra?(typeof de=="function"&&(ev(a,l,de,c),ee=a.memoizedState),(z=ra||CS(a,l,z,c,te,ee,I))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=ee),y.props=c,y.state=ee,y.context=I,c=z):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,N_(s,a),I=a.memoizedProps,ce=Fo(l,I),y.props=ce,de=a.pendingProps,te=y.context,ee=l.contextType,z=Jl,typeof ee=="object"&&ee!==null&&(z=Un(ee)),N=l.getDerivedStateFromProps,(ee=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I!==de||te!==z)&&xS(a,y,c,z),ra=!1,te=a.memoizedState,y.state=te,Eh(a,c,y,m),vh();var ne=a.memoizedState;I!==de||te!==ne||ra||s!==null&&s.dependencies!==null&&Rp(s.dependencies)?(typeof N=="function"&&(ev(a,l,N,c),ne=a.memoizedState),(ce=ra||CS(a,l,ce,c,te,ne,z)||s!==null&&s.dependencies!==null&&Rp(s.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ne,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ne,z)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ne),y.props=c,y.state=ne,y.context=z,c=ce):(typeof y.componentDidUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,Gp(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=lu(a,s.child,null,m),a.child=lu(a,null,l,m)):Pn(s,a,l,m),a.memoizedState=y.state,s=a.child):s=bs(s,a,m),s}function HS(s,a,l,c){return hh(),a.flags|=256,Pn(s,a,l,c),a.child}var iv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sv(s){return{baseLanes:s,cachePool:OT()}}function av(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=zr),s}function $S(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,I;if((I=y)||(I=s!==null&&s.memoizedState===null?!1:(gn.current&2)!==0),I&&(m=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?oa(a):la(),et){var N=Ut,z;if(z=N){e:{for(z=N,N=Ti;z.nodeType!==8;){if(!N){N=null;break e}if(z=ni(z.nextSibling),z===null){N=null;break e}}N=z}N!==null?(a.memoizedState={dehydrated:N,treeContext:Do!==null?{id:ms,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},z=mr(18,null,null,0),z.stateNode=N,z.return=a,a.child=z,Qn=a,Ut=null,z=!0):z=!1}z||Mo(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return qv(N)?a.lanes=32:a.lanes=536870912,null;Es(a)}return N=c.children,c=c.fallback,m?(la(),m=a.mode,N=Kp({mode:"hidden",children:N},m),c=Oo(c,m,l,null),N.return=a,c.return=a,N.sibling=c,a.child=N,m=a.child,m.memoizedState=sv(l),m.childLanes=av(s,I,l),a.memoizedState=iv,c):(oa(a),ov(a,N))}if(z=s.memoizedState,z!==null&&(N=z.dehydrated,N!==null)){if(y)a.flags&256?(oa(a),a.flags&=-257,a=lv(s,a,l)):a.memoizedState!==null?(la(),a.child=s.child,a.flags|=128,a=null):(la(),m=c.fallback,N=a.mode,c=Kp({mode:"visible",children:c.children},N),m=Oo(m,N,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,lu(a,s.child,null,l),c=a.child,c.memoizedState=sv(l),c.childLanes=av(s,I,l),a.memoizedState=iv,a=m);else if(oa(a),qv(N)){if(I=N.nextSibling&&N.nextSibling.dataset,I)var ee=I.dgst;I=ee,c=Error(r(419)),c.stack="",c.digest=I,dh({value:c,source:null,stack:null}),a=lv(s,a,l)}else if(bn||fh(s,a,l,!1),I=(l&s.childLanes)!==0,bn||I){if(I=vt,I!==null&&(c=l&-l,c=(c&42)!==0?1:Qs(c),c=(c&(I.suspendedLanes|l))!==0?0:c,c!==0&&c!==z.retryLane))throw z.retryLane=c,Xl(s,c),Er(I,s,c),VS;N.data==="$?"||Iv(),a=lv(s,a,l)}else N.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=z.treeContext,Ut=ni(N.nextSibling),Qn=a,et=!0,ko=null,Ti=!1,s!==null&&(Br[Fr++]=ms,Br[Fr++]=gs,Br[Fr++]=Do,ms=s.id,gs=s.overflow,Do=a),a=ov(a,c.children),a.flags|=4096);return a}return m?(la(),m=c.fallback,N=a.mode,z=s.child,ee=z.sibling,c=ps(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,ee!==null?m=ps(ee,m):(m=Oo(m,N,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,N=s.child.memoizedState,N===null?N=sv(l):(z=N.cachePool,z!==null?(ee=mn._currentValue,z=z.parent!==ee?{parent:ee,pool:ee}:z):z=OT(),N={baseLanes:N.baseLanes|l,cachePool:z}),m.memoizedState=N,m.childLanes=av(s,I,l),a.memoizedState=iv,c):(oa(a),l=s.child,s=l.sibling,l=ps(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(I=a.deletions,I===null?(a.deletions=[s],a.flags|=16):I.push(s)),a.child=l,a.memoizedState=null,l)}function ov(s,a){return a=Kp({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Kp(s,a){return s=mr(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function lv(s,a,l){return lu(a,s.child,null,l),s=ov(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function GS(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),I_(s.return,a,l)}function uv(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function KS(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(Pn(s,a,c.children,l),c=gn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&GS(s,l,a);else if(s.tag===19)GS(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(me(gn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&qp(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),uv(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&qp(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}uv(a,!0,l,null,y);break;case"together":uv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function bs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),fa|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(fh(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=ps(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=ps(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function cv(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Rp(s)))}function Lk(s,a,l){switch(a.tag){case 3:rt(a,a.stateNode.containerInfo),na(a,mn,s.memoizedState.cache),hh();break;case 27:case 5:ci(a);break;case 4:rt(a,a.stateNode.containerInfo);break;case 10:na(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(oa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?$S(s,a,l):(oa(a),s=bs(s,a,l),s!==null?s.sibling:null);oa(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(fh(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return KS(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),me(gn,gn.current),c)break;return null;case 22:case 23:return a.lanes=0,FS(s,a,l);case 24:na(a,mn,s.memoizedState.cache)}return bs(s,a,l)}function WS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)bn=!0;else{if(!cv(s,l)&&(a.flags&128)===0)return bn=!1,Lk(s,a,l);bn=(s.flags&131072)!==0}else bn=!1,et&&(a.flags&1048576)!==0&&ST(a,Ip,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")v_(c)?(s=Fo(c,s),a.tag=1,a=qS(null,a,c,s,l)):(a.tag=0,a=rv(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===H){a.tag=11,a=LS(null,a,c,s,l);break e}else if(m===M){a.tag=14,a=US(null,a,c,s,l);break e}}throw a=se(c)||c,Error(r(306,a,""))}}return a;case 0:return rv(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Fo(c,a.pendingProps),qS(s,a,c,m,l);case 3:e:{if(rt(a,a.stateNode.containerInfo),s===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;m=y.element,N_(s,a),Eh(a,c,null,l);var I=a.memoizedState;if(c=I.cache,na(a,mn,c),c!==y.cache&&R_(a,[mn],l,!0),vh(),c=I.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=HS(s,a,c,l);break e}else if(c!==m){m=Lr(Error(r(424)),a),dh(m),a=HS(s,a,c,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ut=ni(s.firstChild),Qn=a,et=!0,ko=null,Ti=!0,l=IS(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(hh(),c===m){a=bs(s,a,l);break e}Pn(s,a,c,l)}a=a.child}return a;case 26:return Gp(s,a),s===null?(l=JA(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,s=a.pendingProps,c=om(xe.current).createElement(l),c[dn]=a,c[tn]=s,Dn(c,l,s),Kt(c),a.stateNode=c):a.memoizedState=JA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ci(a),s===null&&et&&(c=a.stateNode=QA(a.type,a.pendingProps,xe.current),Qn=a,Ti=!0,m=Ut,ya(a.type)?(Hv=m,Ut=ni(c.firstChild)):Ut=m),Pn(s,a,a.pendingProps.children,l),Gp(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&et&&((m=c=Ut)&&(c=hM(c,a.type,a.pendingProps,Ti),c!==null?(a.stateNode=c,Qn=a,Ut=ni(c.firstChild),Ti=!1,m=!0):m=!1),m||Mo(a)),ci(a),m=a.type,y=a.pendingProps,I=s!==null?s.memoizedProps:null,c=y.children,Fv(m,y)?c=null:I!==null&&Fv(m,I)&&(a.flags|=32),a.memoizedState!==null&&(m=B_(s,a,xk,null,null,l),zh._currentValue=m),Gp(s,a),Pn(s,a,c,l),a.child;case 6:return s===null&&et&&((s=l=Ut)&&(l=dM(l,a.pendingProps,Ti),l!==null?(a.stateNode=l,Qn=a,Ut=null,s=!0):s=!1),s||Mo(a)),null;case 13:return $S(s,a,l);case 4:return rt(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=lu(a,null,c,l):Pn(s,a,c,l),a.child;case 11:return LS(s,a,a.type,a.pendingProps,l);case 7:return Pn(s,a,a.pendingProps,l),a.child;case 8:return Pn(s,a,a.pendingProps.children,l),a.child;case 12:return Pn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,na(a,a.type,c.value),Pn(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Lo(a),m=Un(m),c=c(m),a.flags|=1,Pn(s,a,c,l),a.child;case 14:return US(s,a,a.type,a.pendingProps,l);case 15:return BS(s,a,a.type,a.pendingProps,l);case 19:return KS(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=Kp(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=ps(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return FS(s,a,l);case 24:return Lo(a),c=Un(mn),s===null?(m=P_(),m===null&&(m=vt,y=C_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},D_(a),na(a,mn,m)):((s.lanes&l)!==0&&(N_(s,a),Eh(a,null,null,l),vh()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),na(a,mn,c)):(c=y.cache,na(a,mn,c),c!==m.cache&&R_(a,[mn],l,!0))),Pn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ws(s){s.flags|=4}function QS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!rI(a)){if(a=jr.current,a!==null&&((Ye&4194048)===Ye?Si!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||a!==Si))throw yh=O_,DT;s.flags|=8192}}function Wp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Hc():536870912,s.lanes|=a,du|=a)}function Rh(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Dt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function Uk(s,a,l){var c=a.pendingProps;switch(T_(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(a),null;case 1:return Dt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),_s(mn),Pr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(ch(a)?ws(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,RT())),Dt(a),null;case 26:return l=a.memoizedState,s===null?(ws(a),l!==null?(Dt(a),QS(a,l)):(Dt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ws(a),Dt(a),QS(a,l)):(Dt(a),a.flags&=-16777217):(s.memoizedProps!==c&&ws(a),Dt(a),a.flags&=-16777217),null;case 27:Or(a),l=xe.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ws(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}s=Te.current,ch(a)?AT(a):(s=QA(m,c,l),a.stateNode=s,ws(a))}return Dt(a),null;case 5:if(Or(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ws(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}if(s=Te.current,ch(a))AT(a);else{switch(m=om(xe.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[dn]=a,s[tn]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(Dn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ws(a)}}return Dt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&ws(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=xe.current,ch(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=Qn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[dn]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||zA(s.nodeValue,l)),s||Mo(a)}else s=om(s).createTextNode(c),s[dn]=a,a.stateNode=s}return Dt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=ch(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[dn]=a}else hh(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dt(a),m=!1}else m=RT(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Es(a),a):(Es(a),null)}if(Es(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Wp(a,a.updateQueue),Dt(a),null;case 4:return Pr(),s===null&&Mv(a.stateNode.containerInfo),Dt(a),null;case 10:return _s(a.type),Dt(a),null;case 19:if(ge(gn),m=a.memoizedState,m===null)return Dt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)Rh(m,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=qp(s),y!==null){for(a.flags|=128,Rh(m,!1),s=y.updateQueue,a.updateQueue=s,Wp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)TT(l,s),l=l.sibling;return me(gn,gn.current&1|2),a.child}s=s.sibling}m.tail!==null&&tr()>Xp&&(a.flags|=128,c=!0,Rh(m,!1),a.lanes=4194304)}else{if(!c)if(s=qp(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,Wp(a,s),Rh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return Dt(a),null}else 2*tr()-m.renderingStartTime>Xp&&l!==536870912&&(a.flags|=128,c=!0,Rh(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=tr(),a.sibling=null,s=gn.current,me(gn,c?s&1|2:s&1),a):(Dt(a),null);case 22:case 23:return Es(a),L_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Dt(a),a.subtreeFlags&6&&(a.flags|=8192)):Dt(a),l=a.updateQueue,l!==null&&Wp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ge(Uo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),_s(mn),Dt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Bk(s,a){switch(T_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return _s(mn),Pr(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Or(a),null;case 13:if(Es(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));hh()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ge(gn),null;case 4:return Pr(),null;case 10:return _s(a.type),null;case 22:case 23:return Es(a),L_(),s!==null&&ge(Uo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return _s(mn),null;case 25:return null;default:return null}}function YS(s,a){switch(T_(a),a.tag){case 3:_s(mn),Pr();break;case 26:case 27:case 5:Or(a);break;case 4:Pr();break;case 13:Es(a);break;case 19:ge(gn);break;case 10:_s(a.type);break;case 22:case 23:Es(a),L_(),s!==null&&ge(Uo);break;case 24:_s(mn)}}function Ch(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,I=l.inst;c=y(),I.destroy=c}l=l.next}while(l!==m)}}catch(N){mt(a,a.return,N)}}function ua(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var I=c.inst,N=I.destroy;if(N!==void 0){I.destroy=void 0,m=a;var z=l,ee=N;try{ee()}catch(ce){mt(m,z,ce)}}}c=c.next}while(c!==y)}}catch(ce){mt(a,a.return,ce)}}function XS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{UT(a,l)}catch(c){mt(s,s.return,c)}}}function JS(s,a,l){l.props=Fo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){mt(s,a,c)}}function xh(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){mt(s,a,m)}}function Ai(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){mt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){mt(s,a,m)}else l.current=null}function ZS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){mt(s,s.return,m)}}function hv(s,a,l){try{var c=s.stateNode;aM(c,s.type,l,a),c[tn]=a}catch(m){mt(s,s.return,m)}}function eA(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ya(s.type)||s.tag===4}function dv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||eA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ya(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fv(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=am));else if(c!==4&&(c===27&&ya(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(fv(s,a,l),s=s.sibling;s!==null;)fv(s,a,l),s=s.sibling}function Qp(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&ya(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Qp(s,a,l),s=s.sibling;s!==null;)Qp(s,a,l),s=s.sibling}function tA(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Dn(a,c,l),a[dn]=s,a[tn]=l}catch(y){mt(s,s.return,y)}}var Ts=!1,Qt=!1,pv=!1,nA=typeof WeakSet=="function"?WeakSet:Set,wn=null;function Fk(s,a){if(s=s.containerInfo,Uv=fm,s=fT(s),d_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var I=0,N=-1,z=-1,ee=0,ce=0,de=s,te=null;t:for(;;){for(var ne;de!==l||m!==0&&de.nodeType!==3||(N=I+m),de!==y||c!==0&&de.nodeType!==3||(z=I+c),de.nodeType===3&&(I+=de.nodeValue.length),(ne=de.firstChild)!==null;)te=de,de=ne;for(;;){if(de===s)break t;if(te===l&&++ee===m&&(N=I),te===y&&++ce===c&&(z=I),(ne=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ne}l=N===-1||z===-1?null:{start:N,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bv={focusedElem:s,selectionRange:l},fm=!1,wn=a;wn!==null;)if(a=wn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,wn=s;else for(;wn!==null;){switch(a=wn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ne=Fo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ne,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Pe){mt(l,l.return,Pe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)zv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":zv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,wn=s;break}wn=a.return}}function rA(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ca(s,l),c&4&&Ch(5,l);break;case 1:if(ca(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(I){mt(l,l.return,I)}else{var m=Fo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(I){mt(l,l.return,I)}}c&64&&XS(l),c&512&&xh(l,l.return);break;case 3:if(ca(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{UT(s,a)}catch(I){mt(l,l.return,I)}}break;case 27:a===null&&c&4&&tA(l);case 26:case 5:ca(s,l),a===null&&c&4&&ZS(l),c&512&&xh(l,l.return);break;case 12:ca(s,l);break;case 13:ca(s,l),c&4&&aA(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Qk.bind(null,l),fM(s,l))));break;case 22:if(c=l.memoizedState!==null||Ts,!c){a=a!==null&&a.memoizedState!==null||Qt,m=Ts;var y=Qt;Ts=c,(Qt=a)&&!y?ha(s,l,(l.subtreeFlags&8772)!==0):ca(s,l),Ts=m,Qt=y}break;case 30:break;default:ca(s,l)}}function iA(s){var a=s.alternate;a!==null&&(s.alternate=null,iA(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Js(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var St=null,rr=!1;function Ss(s,a,l){for(l=l.child;l!==null;)sA(s,a,l),l=l.sibling}function sA(s,a,l){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(st,l)}catch{}switch(l.tag){case 26:Qt||Ai(l,a),Ss(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Qt||Ai(l,a);var c=St,m=rr;ya(l.type)&&(St=l.stateNode,rr=!1),Ss(s,a,l),Uh(l.stateNode),St=c,rr=m;break;case 5:Qt||Ai(l,a);case 6:if(c=St,m=rr,St=null,Ss(s,a,l),St=c,rr=m,St!==null)if(rr)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(l.stateNode)}catch(y){mt(l,a,y)}else try{St.removeChild(l.stateNode)}catch(y){mt(l,a,y)}break;case 18:St!==null&&(rr?(s=St,KA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Gh(s)):KA(St,l.stateNode));break;case 4:c=St,m=rr,St=l.stateNode.containerInfo,rr=!0,Ss(s,a,l),St=c,rr=m;break;case 0:case 11:case 14:case 15:Qt||ua(2,l,a),Qt||ua(4,l,a),Ss(s,a,l);break;case 1:Qt||(Ai(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&JS(l,a,c)),Ss(s,a,l);break;case 21:Ss(s,a,l);break;case 22:Qt=(c=Qt)||l.memoizedState!==null,Ss(s,a,l),Qt=c;break;default:Ss(s,a,l)}}function aA(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Gh(s)}catch(l){mt(a,a.return,l)}}function jk(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new nA),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new nA),a;default:throw Error(r(435,s.tag))}}function mv(s,a){var l=jk(s);a.forEach(function(c){var m=Yk.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function gr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,I=a,N=I;e:for(;N!==null;){switch(N.tag){case 27:if(ya(N.type)){St=N.stateNode,rr=!1;break e}break;case 5:St=N.stateNode,rr=!1;break e;case 3:case 4:St=N.stateNode.containerInfo,rr=!0;break e}N=N.return}if(St===null)throw Error(r(160));sA(y,I,m),St=null,rr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)oA(a,s),a=a.sibling}var ti=null;function oA(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:gr(a,s),yr(s),c&4&&(ua(3,s,s.return),Ch(3,s),ua(5,s,s.return));break;case 1:gr(a,s),yr(s),c&512&&(Qt||l===null||Ai(l,l.return)),c&64&&Ts&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=ti;if(gr(a,s),yr(s),c&512&&(Qt||l===null||Ai(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[mo]||y[dn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Dn(y,c,l),y[dn]=s,Kt(y),c=y;break e;case"link":var I=tI("link","href",m).get(c+(l.href||""));if(I){for(var N=0;N<I.length;N++)if(y=I[N],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(N,1);break t}}y=m.createElement(c),Dn(y,c,l),m.head.appendChild(y);break;case"meta":if(I=tI("meta","content",m).get(c+(l.content||""))){for(N=0;N<I.length;N++)if(y=I[N],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(N,1);break t}}y=m.createElement(c),Dn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[dn]=s,Kt(y),c=y}s.stateNode=c}else nI(m,s.type,s.stateNode);else s.stateNode=eI(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?nI(m,s.type,s.stateNode):eI(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&hv(s,s.memoizedProps,l.memoizedProps)}break;case 27:gr(a,s),yr(s),c&512&&(Qt||l===null||Ai(l,l.return)),l!==null&&c&4&&hv(s,s.memoizedProps,l.memoizedProps);break;case 5:if(gr(a,s),yr(s),c&512&&(Qt||l===null||Ai(l,l.return)),s.flags&32){m=s.stateNode;try{Nr(m,"")}catch(ne){mt(s,s.return,ne)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,hv(s,m,l!==null?l.memoizedProps:m)),c&1024&&(pv=!0);break;case 6:if(gr(a,s),yr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(ne){mt(s,s.return,ne)}}break;case 3:if(cm=null,m=ti,ti=lm(a.containerInfo),gr(a,s),ti=m,yr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Gh(a.containerInfo)}catch(ne){mt(s,s.return,ne)}pv&&(pv=!1,lA(s));break;case 4:c=ti,ti=lm(s.stateNode.containerInfo),gr(a,s),yr(s),ti=c;break;case 12:gr(a,s),yr(s);break;case 13:gr(a,s),yr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(bv=tr()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,mv(s,c)));break;case 22:m=s.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,ee=Ts,ce=Qt;if(Ts=ee||m,Qt=ce||z,gr(a,s),Qt=ce,Ts=ee,yr(s),c&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||z||Ts||Qt||jo(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){z=l=a;try{if(y=z.stateNode,m)I=y.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{N=z.stateNode;var de=z.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){mt(z,z.return,ne)}}}else if(a.tag===6){if(l===null){z=a;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(ne){mt(z,z.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,mv(s,l))));break;case 19:gr(a,s),yr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,mv(s,c)));break;case 30:break;case 21:break;default:gr(a,s),yr(s)}}function yr(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if(eA(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=dv(s);Qp(s,y,m);break;case 5:var I=l.stateNode;l.flags&32&&(Nr(I,""),l.flags&=-33);var N=dv(s);Qp(s,N,I);break;case 3:case 4:var z=l.stateNode.containerInfo,ee=dv(s);fv(s,ee,z);break;default:throw Error(r(161))}}catch(ce){mt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function lA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;lA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ca(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)rA(s,a.alternate,a),a=a.sibling}function jo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ua(4,a,a.return),jo(a);break;case 1:Ai(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&JS(a,a.return,l),jo(a);break;case 27:Uh(a.stateNode);case 26:case 5:Ai(a,a.return),jo(a);break;case 22:a.memoizedState===null&&jo(a);break;case 30:jo(a);break;default:jo(a)}s=s.sibling}}function ha(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,I=y.flags;switch(y.tag){case 0:case 11:case 15:ha(m,y,l),Ch(4,y);break;case 1:if(ha(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){mt(c,c.return,ee)}if(c=y,m=c.updateQueue,m!==null){var N=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)LT(z[m],N)}catch(ee){mt(c,c.return,ee)}}l&&I&64&&XS(y),xh(y,y.return);break;case 27:tA(y);case 26:case 5:ha(m,y,l),l&&c===null&&I&4&&ZS(y),xh(y,y.return);break;case 12:ha(m,y,l);break;case 13:ha(m,y,l),l&&I&4&&aA(m,y);break;case 22:y.memoizedState===null&&ha(m,y,l),xh(y,y.return);break;case 30:break;default:ha(m,y,l)}a=a.sibling}}function gv(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ph(l))}function yv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ph(s))}function Ii(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)uA(s,a,l,c),a=a.sibling}function uA(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(s,a,l,c),m&2048&&Ch(9,a);break;case 1:Ii(s,a,l,c);break;case 3:Ii(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ph(s)));break;case 12:if(m&2048){Ii(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,I=y.id,N=y.onPostCommit;typeof N=="function"&&N(I,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){mt(a,a.return,z)}}else Ii(s,a,l,c);break;case 13:Ii(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,I=a.alternate,a.memoizedState!==null?y._visibility&2?Ii(s,a,l,c):Ph(s,a):y._visibility&2?Ii(s,a,l,c):(y._visibility|=2,uu(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&gv(I,a);break;case 24:Ii(s,a,l,c),m&2048&&yv(a.alternate,a);break;default:Ii(s,a,l,c)}}function uu(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,I=a,N=l,z=c,ee=I.flags;switch(I.tag){case 0:case 11:case 15:uu(y,I,N,z,m),Ch(8,I);break;case 23:break;case 22:var ce=I.stateNode;I.memoizedState!==null?ce._visibility&2?uu(y,I,N,z,m):Ph(y,I):(ce._visibility|=2,uu(y,I,N,z,m)),m&&ee&2048&&gv(I.alternate,I);break;case 24:uu(y,I,N,z,m),m&&ee&2048&&yv(I.alternate,I);break;default:uu(y,I,N,z,m)}a=a.sibling}}function Ph(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Ph(l,c),m&2048&&gv(c.alternate,c);break;case 24:Ph(l,c),m&2048&&yv(c.alternate,c);break;default:Ph(l,c)}a=a.sibling}}var Oh=8192;function cu(s){if(s.subtreeFlags&Oh)for(s=s.child;s!==null;)cA(s),s=s.sibling}function cA(s){switch(s.tag){case 26:cu(s),s.flags&Oh&&s.memoizedState!==null&&IM(ti,s.memoizedState,s.memoizedProps);break;case 5:cu(s);break;case 3:case 4:var a=ti;ti=lm(s.stateNode.containerInfo),cu(s),ti=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Oh,Oh=16777216,cu(s),Oh=a):cu(s));break;default:cu(s)}}function hA(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Dh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,fA(c,s)}hA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dA(s),s=s.sibling}function dA(s){switch(s.tag){case 0:case 11:case 15:Dh(s),s.flags&2048&&ua(9,s,s.return);break;case 3:Dh(s);break;case 12:Dh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Yp(s)):Dh(s);break;default:Dh(s)}}function Yp(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,fA(c,s)}hA(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ua(8,a,a.return),Yp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Yp(a));break;default:Yp(a)}s=s.sibling}}function fA(s,a){for(;wn!==null;){var l=wn;switch(l.tag){case 0:case 11:case 15:ua(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ph(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,wn=c;else e:for(l=s;wn!==null;){c=wn;var m=c.sibling,y=c.return;if(iA(c),c===l){wn=null;break e}if(m!==null){m.return=y,wn=m;break e}wn=y}}}var zk={getCacheForType:function(s){var a=Un(mn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},qk=typeof WeakMap=="function"?WeakMap:Map,at=0,vt=null,ze=null,Ye=0,ot=0,_r=null,da=!1,hu=!1,_v=!1,As=0,Bt=0,fa=0,zo=0,vv=0,zr=0,du=0,Nh=null,ir=null,Ev=!1,bv=0,Xp=1/0,Jp=null,pa=null,On=0,ma=null,fu=null,pu=0,wv=0,Tv=null,pA=null,kh=0,Sv=null;function vr(){if((at&2)!==0&&Ye!==0)return Ye&-Ye;if($.T!==null){var s=tu;return s!==0?s:Ov()}return Ys()}function mA(){zr===0&&(zr=(Ye&536870912)===0||et?qc():536870912);var s=jr.current;return s!==null&&(s.flags|=32),zr}function Er(s,a,l){(s===vt&&(ot===2||ot===9)||s.cancelPendingCommit!==null)&&(mu(s,0),ga(s,Ye,zr,!1)),rs(s,l),((at&2)===0||s!==vt)&&(s===vt&&((at&2)===0&&(zo|=l),Bt===4&&ga(s,Ye,zr,!1)),Ri(s))}function gA(s,a,l){if((at&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||po(s,a),m=c?Gk(s,a):Rv(s,a,!0),y=c;do{if(m===0){hu&&!c&&ga(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!Hk(l)){m=Rv(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;e:{var N=s;m=Nh;var z=N.current.memoizedState.isDehydrated;if(z&&(mu(N,I).flags|=256),I=Rv(N,I,!1),I!==2){if(_v&&!z){N.errorRecoveryDisabledLanes|=y,zo|=y,m=4;break e}y=ir,ir=m,y!==null&&(ir===null?ir=y:ir.push.apply(ir,y))}m=I}if(y=!1,m!==2)continue}}if(m===1){mu(s,0),ga(s,a,0,!0);break}e:{switch(c=s,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ga(c,a,zr,!da);break e;case 2:ir=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=bv+300-tr(),10<m)){if(ga(c,a,zr,!da),Dl(c,0,!0)!==0)break e;c.timeoutHandle=$A(yA.bind(null,c,l,ir,Jp,Ev,a,zr,zo,du,da,y,2,-0,0),m);break e}yA(c,l,ir,Jp,Ev,a,zr,zo,du,da,y,0,-0,0)}}break}while(!0);Ri(s)}function yA(s,a,l,c,m,y,I,N,z,ee,ce,de,te,ne){if(s.timeoutHandle=-1,de=a.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(jh={stylesheets:null,count:0,unsuspend:AM},cA(a),de=RM(),de!==null)){s.cancelPendingCommit=de(SA.bind(null,s,a,y,l,c,m,I,N,z,ce,1,te,ne)),ga(s,y,I,!ee);return}SA(s,a,y,l,c,m,I,N,z)}function Hk(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!pr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ga(s,a,l,c){a&=~vv,a&=~zo,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-en(m),I=1<<y;c[y]=-1,m&=~I}l!==0&&di(s,l,a)}function Zp(){return(at&6)===0?(Mh(0),!1):!0}function Av(){if(ze!==null){if(ot===0)var s=ze.return;else s=ze,ys=Vo=null,z_(s),ou=null,Ah=0,s=ze;for(;s!==null;)YS(s.alternate,s),s=s.return;ze=null}}function mu(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,lM(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Av(),vt=s,ze=l=ps(s.current,null),Ye=a,ot=0,_r=null,da=!1,hu=po(s,a),_v=!1,du=zr=vv=zo=fa=Bt=0,ir=Nh=null,Ev=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-en(c),y=1<<m;a|=s[m],c&=~y}return As=a,bp(),l}function _A(s,a){Be=null,$.H=Fp,a===gh||a===Pp?(a=MT(),ot=3):a===DT?(a=MT(),ot=4):ot=a===VS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,_r=a,ze===null&&(Bt=1,$p(s,Lr(a,s.current)))}function vA(){var s=$.H;return $.H=Fp,s===null?Fp:s}function EA(){var s=$.A;return $.A=zk,s}function Iv(){Bt=4,da||(Ye&4194048)!==Ye&&jr.current!==null||(hu=!0),(fa&134217727)===0&&(zo&134217727)===0||vt===null||ga(vt,Ye,zr,!1)}function Rv(s,a,l){var c=at;at|=2;var m=vA(),y=EA();(vt!==s||Ye!==a)&&(Jp=null,mu(s,a)),a=!1;var I=Bt;e:do try{if(ot!==0&&ze!==null){var N=ze,z=_r;switch(ot){case 8:Av(),I=6;break e;case 3:case 2:case 9:case 6:jr.current===null&&(a=!0);var ee=ot;if(ot=0,_r=null,gu(s,N,z,ee),l&&hu){I=0;break e}break;default:ee=ot,ot=0,_r=null,gu(s,N,z,ee)}}$k(),I=Bt;break}catch(ce){_A(s,ce)}while(!0);return a&&s.shellSuspendCounter++,ys=Vo=null,at=c,$.H=m,$.A=y,ze===null&&(vt=null,Ye=0,bp()),I}function $k(){for(;ze!==null;)bA(ze)}function Gk(s,a){var l=at;at|=2;var c=vA(),m=EA();vt!==s||Ye!==a?(Jp=null,Xp=tr()+500,mu(s,a)):hu=po(s,a);e:do try{if(ot!==0&&ze!==null){a=ze;var y=_r;t:switch(ot){case 1:ot=0,_r=null,gu(s,a,y,1);break;case 2:case 9:if(NT(y)){ot=0,_r=null,wA(a);break}a=function(){ot!==2&&ot!==9||vt!==s||(ot=7),Ri(s)},y.then(a,a);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:NT(y)?(ot=0,_r=null,wA(a)):(ot=0,_r=null,gu(s,a,y,7));break;case 5:var I=null;switch(ze.tag){case 26:I=ze.memoizedState;case 5:case 27:var N=ze;if(!I||rI(I)){ot=0,_r=null;var z=N.sibling;if(z!==null)ze=z;else{var ee=N.return;ee!==null?(ze=ee,em(ee)):ze=null}break t}}ot=0,_r=null,gu(s,a,y,5);break;case 6:ot=0,_r=null,gu(s,a,y,6);break;case 8:Av(),Bt=6;break e;default:throw Error(r(462))}}Kk();break}catch(ce){_A(s,ce)}while(!0);return ys=Vo=null,$.H=c,$.A=m,at=l,ze!==null?0:(vt=null,Ye=0,bp(),Bt)}function Kk(){for(;ze!==null&&!lo();)bA(ze)}function bA(s){var a=WS(s.alternate,s,As);s.memoizedProps=s.pendingProps,a===null?em(s):ze=a}function wA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=zS(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=zS(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:z_(a);default:YS(l,a),a=ze=TT(a,As),a=WS(l,a,As)}s.memoizedProps=s.pendingProps,a===null?em(s):ze=a}function gu(s,a,l,c){ys=Vo=null,z_(a),ou=null,Ah=0;var m=a.return;try{if(Vk(s,m,a,l,Ye)){Bt=1,$p(s,Lr(l,s.current)),ze=null;return}}catch(y){if(m!==null)throw ze=m,y;Bt=1,$p(s,Lr(l,s.current)),ze=null;return}a.flags&32768?(et||c===1?s=!0:hu||(Ye&536870912)!==0?s=!1:(da=s=!0,(c===2||c===9||c===3||c===6)&&(c=jr.current,c!==null&&c.tag===13&&(c.flags|=16384))),TA(a,s)):em(a)}function em(s){var a=s;do{if((a.flags&32768)!==0){TA(a,da);return}s=a.return;var l=Uk(a.alternate,a,As);if(l!==null){ze=l;return}if(a=a.sibling,a!==null){ze=a;return}ze=a=s}while(a!==null);Bt===0&&(Bt=5)}function TA(s,a){do{var l=Bk(s.alternate,s);if(l!==null){l.flags&=32767,ze=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){ze=s;return}ze=s=l}while(s!==null);Bt=6,ze=null}function SA(s,a,l,c,m,y,I,N,z){s.cancelPendingCommit=null;do tm();while(On!==0);if((at&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=y_,$c(s,l,y,I,N,z),s===vt&&(ze=vt=null,Ye=0),fu=a,ma=s,pu=l,wv=y,Tv=m,pA=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Xk(Fe,function(){return xA(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=J.p,J.p=2,I=at,at|=4;try{Fk(s,a,l)}finally{at=I,J.p=m,$.T=c}}On=1,AA(),IA(),RA()}}function AA(){if(On===1){On=0;var s=ma,a=fu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=J.p;J.p=2;var m=at;at|=4;try{oA(a,s);var y=Bv,I=fT(s.containerInfo),N=y.focusedElem,z=y.selectionRange;if(I!==N&&N&&N.ownerDocument&&dT(N.ownerDocument.documentElement,N)){if(z!==null&&d_(N)){var ee=z.start,ce=z.end;if(ce===void 0&&(ce=ee),"selectionStart"in N)N.selectionStart=ee,N.selectionEnd=Math.min(ce,N.value.length);else{var de=N.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ne=N.textContent.length,Pe=Math.min(z.start,Ne),ft=z.end===void 0?Pe:Math.min(z.end,Ne);!ne.extend&&Pe>ft&&(I=ft,ft=Pe,Pe=I);var Q=hT(N,Pe),G=hT(N,ft);if(Q&&G&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Z=de.createRange();Z.setStart(Q.node,Q.offset),ne.removeAllRanges(),Pe>ft?(ne.addRange(Z),ne.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ne.addRange(Z))}}}}for(de=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var he=de[N];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}fm=!!Uv,Bv=Uv=null}finally{at=m,J.p=c,$.T=l}}s.current=a,On=2}}function IA(){if(On===2){On=0;var s=ma,a=fu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=J.p;J.p=2;var m=at;at|=4;try{rA(s,a.alternate,a)}finally{at=m,J.p=c,$.T=l}}On=3}}function RA(){if(On===4||On===3){On=0,Ol();var s=ma,a=fu,l=pu,c=pA;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?On=5:(On=0,fu=ma=null,CA(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(pa=null),Nl(l),a=a.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(st,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=$.T,m=J.p,J.p=2,$.T=null;try{for(var y=s.onRecoverableError,I=0;I<c.length;I++){var N=c[I];y(N.value,{componentStack:N.stack})}}finally{$.T=a,J.p=m}}(pu&3)!==0&&tm(),Ri(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===Sv?kh++:(kh=0,Sv=s):kh=0,Mh(0)}}function CA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ph(a)))}function tm(s){return AA(),IA(),RA(),xA()}function xA(){if(On!==5)return!1;var s=ma,a=wv;wv=0;var l=Nl(pu),c=$.T,m=J.p;try{J.p=32>l?32:l,$.T=null,l=Tv,Tv=null;var y=ma,I=pu;if(On=0,fu=ma=null,pu=0,(at&6)!==0)throw Error(r(331));var N=at;if(at|=4,dA(y.current),uA(y,y.current,I,l),at=N,Mh(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(st,y)}catch{}return!0}finally{J.p=m,$.T=c,CA(s,a)}}function PA(s,a,l){a=Lr(l,a),a=nv(s.stateNode,a,2),s=sa(s,a,2),s!==null&&(rs(s,2),Ri(s))}function mt(s,a,l){if(s.tag===3)PA(s,s,l);else for(;a!==null;){if(a.tag===3){PA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(pa===null||!pa.has(c))){s=Lr(l,s),l=kS(2),c=sa(a,l,2),c!==null&&(MS(l,c,a,s),rs(c,2),Ri(c));break}}a=a.return}}function Cv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new qk;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(_v=!0,m.add(l),s=Wk.bind(null,s,a,l),a.then(s,s))}function Wk(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,vt===s&&(Ye&l)===l&&(Bt===4||Bt===3&&(Ye&62914560)===Ye&&300>tr()-bv?(at&2)===0&&mu(s,0):vv|=l,du===Ye&&(du=0)),Ri(s)}function OA(s,a){a===0&&(a=Hc()),s=Xl(s,a),s!==null&&(rs(s,a),Ri(s))}function Qk(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),OA(s,l)}function Yk(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),OA(s,l)}function Xk(s,a){return Ln(s,a)}var nm=null,yu=null,xv=!1,rm=!1,Pv=!1,qo=0;function Ri(s){s!==yu&&s.next===null&&(yu===null?nm=yu=s:yu=yu.next=s),rm=!0,xv||(xv=!0,Zk())}function Mh(s,a){if(!Pv&&rm){Pv=!0;do for(var l=!1,c=nm;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var I=c.suspendedLanes,N=c.pingedLanes;y=(1<<31-en(42|s)+1)-1,y&=m&~(I&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,MA(c,y))}else y=Ye,y=Dl(c,c===vt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||po(c,y)||(l=!0,MA(c,y));c=c.next}while(l);Pv=!1}}function Jk(){DA()}function DA(){rm=xv=!1;var s=0;qo!==0&&(oM()&&(s=qo),qo=0);for(var a=tr(),l=null,c=nm;c!==null;){var m=c.next,y=NA(c,a);y===0?(c.next=null,l===null?nm=m:l.next=m,m===null&&(yu=l)):(l=c,(s!==0||(y&3)!==0)&&(rm=!0)),c=m}Mh(s)}function NA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var I=31-en(y),N=1<<I,z=m[I];z===-1?((N&l)===0||(N&c)!==0)&&(m[I]=zc(N,a)):z<=a&&(s.expiredLanes|=N),y&=~N}if(a=vt,l=Ye,l=Dl(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&(ot===2||ot===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Qr(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||po(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Qr(c),Nl(l)){case 2:case 8:l=ts;break;case 32:l=Fe;break;case 268435456:l=wt;break;default:l=Fe}return c=kA.bind(null,s),l=Ln(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Qr(c),s.callbackPriority=2,s.callbackNode=null,2}function kA(s,a){if(On!==0&&On!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(tm()&&s.callbackNode!==l)return null;var c=Ye;return c=Dl(s,s===vt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(gA(s,c,a),NA(s,tr()),s.callbackNode!=null&&s.callbackNode===l?kA.bind(null,s):null)}function MA(s,a){if(tm())return null;gA(s,a,!0)}function Zk(){uM(function(){(at&6)!==0?Ln(uo,Jk):DA()})}function Ov(){return qo===0&&(qo=qc()),qo}function VA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Bl(""+s)}function LA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function eM(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=VA((m[tn]||null).action),I=c.submitter;I&&(a=(a=I[tn]||null)?VA(a.formAction):I.getAttribute("formAction"),a!==null&&(y=a,I=null));var N=new Fl("action","action",null,c,m);s.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(qo!==0){var z=I?LA(m,I):new FormData(m);X_(l,{pending:!0,data:z,method:m.method,action:y},null,z)}}else typeof y=="function"&&(N.preventDefault(),z=I?LA(m,I):new FormData(m),X_(l,{pending:!0,data:z,method:m.method,action:y},y,z))},currentTarget:m}]})}}for(var Dv=0;Dv<g_.length;Dv++){var Nv=g_[Dv],tM=Nv.toLowerCase(),nM=Nv[0].toUpperCase()+Nv.slice(1);ei(tM,"on"+nM)}ei(gT,"onAnimationEnd"),ei(yT,"onAnimationIteration"),ei(_T,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(vk,"onTransitionRun"),ei(Ek,"onTransitionStart"),ei(bk,"onTransitionCancel"),ei(vT,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vh));function UA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var I=c.length-1;0<=I;I--){var N=c[I],z=N.instance,ee=N.currentTarget;if(N=N.listener,z!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=ee;try{y(m)}catch(ce){Hp(ce)}m.currentTarget=null,y=z}else for(I=0;I<c.length;I++){if(N=c[I],z=N.instance,ee=N.currentTarget,N=N.listener,z!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=ee;try{y(m)}catch(ce){Hp(ce)}m.currentTarget=null,y=z}}}}function qe(s,a){var l=a[Kc];l===void 0&&(l=a[Kc]=new Set);var c=s+"__bubble";l.has(c)||(BA(a,s,2,!1),l.add(c))}function kv(s,a,l){var c=0;a&&(c|=4),BA(l,s,c,a)}var im="_reactListening"+Math.random().toString(36).slice(2);function Mv(s){if(!s[im]){s[im]=!0,Wc.forEach(function(l){l!=="selectionchange"&&(rM.has(l)||kv(l,!1,s),kv(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[im]||(a[im]=!0,kv("selectionchange",!1,a))}}function BA(s,a,l,c){switch(uI(a)){case 2:var m=PM;break;case 8:m=OM;break;default:m=Qv}l=m.bind(null,a,l,s),m=void 0,!Mr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Vv(s,a,l,c,m){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var I=c.tag;if(I===3||I===4){var N=c.stateNode.containerInfo;if(N===m)break;if(I===4)for(I=c.return;I!==null;){var z=I.tag;if((z===3||z===4)&&I.stateNode.containerInfo===m)return;I=I.return}for(;N!==null;){if(I=is(N),I===null)return;if(z=I.tag,z===5||z===6||z===26||z===27){c=y=I;continue e}N=N.parentNode}}c=c.return}ap(function(){var ee=y,ce=kr(l),de=[];e:{var te=ET.get(s);if(te!==void 0){var ne=Fl,Ne=s;switch(s){case"keypress":if(_i(l)===0)break e;case"keydown":case"keyup":ne=Gl;break;case"focusin":Ne="focus",ne=ql;break;case"focusout":Ne="blur",ne=ql;break;case"beforeblur":case"afterblur":ne=ql;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=l_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=pp;break;case gT:case yT:case _T:ne=Hl;break;case vT:ne=gp;break;case"scroll":case"scrollend":ne=op;break;case"wheel":ne=Kl;break;case"copy":case"cut":case"paste":ne=$l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=ah;break;case"toggle":case"beforetoggle":ne=_p}var Pe=(a&4)!==0,ft=!Pe&&(s==="scroll"||s==="scrollend"),Q=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var G=ee,Z;G!==null;){var he=G;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||Q===null||(he=wo(G,Q),he!=null&&Pe.push(Lh(G,he,Z))),ft)break;G=G.return}0<Pe.length&&(te=new ne(te,Ne,null,l,ce),de.push({event:te,listeners:Pe}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&l!==ls&&(Ne=l.relatedTarget||l.fromElement)&&(is(Ne)||Ne[Dr]))break e;if((ne||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ne=l.relatedTarget||l.toElement,ne=ee,Ne=Ne?is(Ne):null,Ne!==null&&(ft=o(Ne),Pe=Ne.tag,Ne!==ft||Pe!==5&&Pe!==27&&Pe!==6)&&(Ne=null)):(ne=null,Ne=ee),ne!==Ne)){if(Pe=Vr,he="onMouseLeave",Q="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=ah,he="onPointerLeave",Q="onPointerEnter",G="pointer"),ft=ne==null?te:pi(ne),Z=Ne==null?te:pi(Ne),te=new Pe(he,G+"leave",ne,l,ce),te.target=ft,te.relatedTarget=Z,he=null,is(ce)===ee&&(Pe=new Pe(Q,G+"enter",Ne,l,ce),Pe.target=Z,Pe.relatedTarget=ft,he=Pe),ft=he,ne&&Ne)t:{for(Pe=ne,Q=Ne,G=0,Z=Pe;Z;Z=_u(Z))G++;for(Z=0,he=Q;he;he=_u(he))Z++;for(;0<G-Z;)Pe=_u(Pe),G--;for(;0<Z-G;)Q=_u(Q),Z--;for(;G--;){if(Pe===Q||Q!==null&&Pe===Q.alternate)break t;Pe=_u(Pe),Q=_u(Q)}Pe=null}else Pe=null;ne!==null&&FA(de,te,ne,Pe,!1),Ne!==null&&ft!==null&&FA(de,ft,Ne,Pe,!0)}}e:{if(te=ee?pi(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Se=sT;else if(pn(te))if(aT)Se=gk;else{Se=pk;var je=fk}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Zc(ee.elementType)&&(Se=sT):Se=mk;if(Se&&(Se=Se(s,ee))){fs(de,Se,l,ce);break e}je&&je(s,te,ee),s==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&ea(te,"number",te.value)}switch(je=ee?pi(ee):window,s){case"focusin":(pn(je)||je.contentEditable==="true")&&(Wl=je,f_=ee,uh=null);break;case"focusout":uh=f_=Wl=null;break;case"mousedown":p_=!0;break;case"contextmenu":case"mouseup":case"dragend":p_=!1,pT(de,l,ce);break;case"selectionchange":if(_k)break;case"keydown":case"keyup":pT(de,l,ce)}var Re;if(bi)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else We?ae(s,l)&&(Oe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(S&&l.locale!=="ko"&&(We||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&We&&(Re=th()):(yi=ce,ta="value"in yi?yi.value:yi.textContent,We=!0)),je=sm(ee,Oe),0<je.length&&(Oe=new ih(Oe,s,null,l,ce),de.push({event:Oe,listeners:je}),Re?Oe.data=Re:(Re=_e(l),Re!==null&&(Oe.data=Re)))),(Re=E?fn(s,l):Qe(s,l))&&(Oe=sm(ee,"onBeforeInput"),0<Oe.length&&(je=new ih("onBeforeInput","beforeinput",null,l,ce),de.push({event:je,listeners:Oe}),je.data=Re)),eM(de,s,ee,l,ce)}UA(de,a)})}function Lh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function sm(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=wo(s,l),m!=null&&c.unshift(Lh(s,m,y)),m=wo(s,a),m!=null&&c.push(Lh(s,m,y))),s.tag===3)return c;s=s.return}return[]}function _u(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function FA(s,a,l,c,m){for(var y=a._reactName,I=[];l!==null&&l!==c;){var N=l,z=N.alternate,ee=N.stateNode;if(N=N.tag,z!==null&&z===c)break;N!==5&&N!==26&&N!==27||ee===null||(z=ee,m?(ee=wo(l,y),ee!=null&&I.unshift(Lh(l,ee,z))):m||(ee=wo(l,y),ee!=null&&I.push(Lh(l,ee,z)))),l=l.return}I.length!==0&&s.push({event:a,listeners:I})}var iM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function jA(s){return(typeof s=="string"?s:""+s).replace(iM,`
`).replace(sM,"")}function zA(s,a){return a=jA(a),jA(s)===a}function am(){}function dt(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Nr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Nr(s,""+c);break;case"className":mi(s,"class",c);break;case"tabIndex":mi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(s,l,c);break;case"style":Jc(s,c,y);break;case"data":if(a!=="object"){mi(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Bl(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&dt(s,a,"name",m.name,m,null),dt(s,a,"formEncType",m.formEncType,m,null),dt(s,a,"formMethod",m.formMethod,m,null),dt(s,a,"formTarget",m.formTarget,m,null)):(dt(s,a,"encType",m.encType,m,null),dt(s,a,"method",m.method,m,null),dt(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Bl(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=am);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Bl(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":qe("beforetoggle",s),qe("toggle",s),Zs(s,"popover",c);break;case"xlinkActuate":Cn(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Cn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Cn(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Cn(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Cn(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Cn(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Cn(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Cn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Cn(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zs(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=a_.get(l)||l,Zs(s,l,c))}}function Lv(s,a,l,c,m,y){switch(l){case"style":Jc(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Nr(s,c):(typeof c=="number"||typeof c=="bigint")&&Nr(s,""+c);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"onClick":c!=null&&(s.onclick=am);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[tn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Zs(s,l,c)}}}function Dn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var I=l[y];if(I!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(s,a,y,I,l,null)}}m&&dt(s,a,"srcSet",l.srcSet,l,null),c&&dt(s,a,"src",l.src,l,null);return;case"input":qe("invalid",s);var N=y=I=m=null,z=null,ee=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":I=ce;break;case"checked":z=ce;break;case"defaultChecked":ee=ce;break;case"value":y=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:dt(s,a,c,ce,l,null)}}vo(s,y,N,z,ee,I,m,!1),Ul(s);return;case"select":qe("invalid",s),c=I=y=null;for(m in l)if(l.hasOwnProperty(m)&&(N=l[m],N!=null))switch(m){case"value":y=N;break;case"defaultValue":I=N;break;case"multiple":c=N;default:dt(s,a,m,N,l,null)}a=y,l=I,s.multiple=!!c,a!=null?os(s,!!c,a,!1):l!=null&&os(s,!!c,l,!0);return;case"textarea":qe("invalid",s),y=m=c=null;for(I in l)if(l.hasOwnProperty(I)&&(N=l[I],N!=null))switch(I){case"value":c=N;break;case"defaultValue":m=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:dt(s,a,I,N,l,null)}Eo(s,c,m,y),Ul(s);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:dt(s,a,z,c,l,null)}return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(c=0;c<Vh.length;c++)qe(Vh[c],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(c=l[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(s,a,ee,c,l,null)}return;default:if(Zc(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Lv(s,a,ce,c,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null&&dt(s,a,N,c,l,null))}function aM(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,I=null,N=null,z=null,ee=null,ce=null;for(ne in l){var de=l[ne];if(l.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":z=de;default:c.hasOwnProperty(ne)||dt(s,a,ne,null,c,de)}}for(var te in c){var ne=c[te];if(de=l[te],c.hasOwnProperty(te)&&(ne!=null||de!=null))switch(te){case"type":y=ne;break;case"name":m=ne;break;case"checked":ee=ne;break;case"defaultChecked":ce=ne;break;case"value":I=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==de&&dt(s,a,te,ne,c,de)}}fr(s,I,N,z,ee,ce,y,m);return;case"select":ne=I=N=te=null;for(y in l)if(z=l[y],l.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":ne=z;default:c.hasOwnProperty(y)||dt(s,a,y,null,c,z)}for(m in c)if(y=c[m],z=l[m],c.hasOwnProperty(m)&&(y!=null||z!=null))switch(m){case"value":te=y;break;case"defaultValue":N=y;break;case"multiple":I=y;default:y!==z&&dt(s,a,m,y,c,z)}a=N,l=I,c=ne,te!=null?os(s,!!l,te,!1):!!c!=!!l&&(a!=null?os(s,!!l,a,!0):os(s,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(N in l)if(m=l[N],l.hasOwnProperty(N)&&m!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:dt(s,a,N,null,c,m)}for(I in c)if(m=c[I],y=l[I],c.hasOwnProperty(I)&&(m!=null||y!=null))switch(I){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&dt(s,a,I,m,c,y)}ct(s,te,ne);return;case"option":for(var Ne in l)if(te=l[Ne],l.hasOwnProperty(Ne)&&te!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":s.selected=!1;break;default:dt(s,a,Ne,null,c,te)}for(z in c)if(te=c[z],ne=l[z],c.hasOwnProperty(z)&&te!==ne&&(te!=null||ne!=null))switch(z){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:dt(s,a,z,te,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in l)te=l[Pe],l.hasOwnProperty(Pe)&&te!=null&&!c.hasOwnProperty(Pe)&&dt(s,a,Pe,null,c,te);for(ee in c)if(te=c[ee],ne=l[ee],c.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:dt(s,a,ee,te,c,ne)}return;default:if(Zc(a)){for(var ft in l)te=l[ft],l.hasOwnProperty(ft)&&te!==void 0&&!c.hasOwnProperty(ft)&&Lv(s,a,ft,void 0,c,te);for(ce in c)te=c[ce],ne=l[ce],!c.hasOwnProperty(ce)||te===ne||te===void 0&&ne===void 0||Lv(s,a,ce,te,c,ne);return}}for(var Q in l)te=l[Q],l.hasOwnProperty(Q)&&te!=null&&!c.hasOwnProperty(Q)&&dt(s,a,Q,null,c,te);for(de in c)te=c[de],ne=l[de],!c.hasOwnProperty(de)||te===ne||te==null&&ne==null||dt(s,a,de,te,c,ne)}var Uv=null,Bv=null;function om(s){return s.nodeType===9?s:s.ownerDocument}function qA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Fv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var jv=null;function oM(){var s=window.event;return s&&s.type==="popstate"?s===jv?!1:(jv=s,!0):(jv=null,!1)}var $A=typeof setTimeout=="function"?setTimeout:void 0,lM=typeof clearTimeout=="function"?clearTimeout:void 0,GA=typeof Promise=="function"?Promise:void 0,uM=typeof queueMicrotask=="function"?queueMicrotask:typeof GA<"u"?function(s){return GA.resolve(null).then(s).catch(cM)}:$A;function cM(s){setTimeout(function(){throw s})}function ya(s){return s==="head"}function KA(s,a){var l=a,c=0,m=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var I=s.ownerDocument;if(l&1&&Uh(I.documentElement),l&2&&Uh(I.body),l&4)for(l=I.head,Uh(l),I=l.firstChild;I;){var N=I.nextSibling,z=I.nodeName;I[mo]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&I.rel.toLowerCase()==="stylesheet"||l.removeChild(I),I=N}}if(m===0){s.removeChild(y),Gh(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Gh(a)}function zv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":zv(l),Js(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function hM(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[mo])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ni(s.nextSibling),s===null)break}return null}function dM(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ni(s.nextSibling),s===null))return null;return s}function qv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function fM(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ni(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Hv=null;function WA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function QA(s,a,l){switch(a=om(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Uh(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Js(s)}var qr=new Map,YA=new Set;function lm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Is=J.d;J.d={f:pM,r:mM,D:gM,C:yM,L:_M,m:vM,X:bM,S:EM,M:wM};function pM(){var s=Is.f(),a=Zp();return s||a}function mM(s){var a=fi(s);a!==null&&a.tag===5&&a.type==="form"?gS(a):Is.r(s)}var vu=typeof document>"u"?null:document;function XA(s,a,l){var c=vu;if(c&&typeof a=="string"&&a){var m=nn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),YA.has(m)||(YA.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Dn(a,"link",s),Kt(a),c.head.appendChild(a)))}}function gM(s){Is.D(s),XA("dns-prefetch",s,null)}function yM(s,a){Is.C(s,a),XA("preconnect",s,a)}function _M(s,a,l){Is.L(s,a,l);var c=vu;if(c&&s&&a){var m='link[rel="preload"][as="'+nn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+nn(l.imageSizes)+'"]')):m+='[href="'+nn(s)+'"]';var y=m;switch(a){case"style":y=Eu(s);break;case"script":y=bu(s)}qr.has(y)||(s=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),qr.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(Bh(y))||a==="script"&&c.querySelector(Fh(y))||(a=c.createElement("link"),Dn(a,"link",s),Kt(a),c.head.appendChild(a)))}}function vM(s,a){Is.m(s,a);var l=vu;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+nn(c)+'"][href="'+nn(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=bu(s)}if(!qr.has(y)&&(s=g({rel:"modulepreload",href:s},a),qr.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Fh(y)))return}c=l.createElement("link"),Dn(c,"link",s),Kt(c),l.head.appendChild(c)}}}function EM(s,a,l){Is.S(s,a,l);var c=vu;if(c&&s){var m=Gn(c).hoistableStyles,y=Eu(s);a=a||"default";var I=m.get(y);if(!I){var N={loading:0,preload:null};if(I=c.querySelector(Bh(y)))N.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},l),(l=qr.get(y))&&$v(s,l);var z=I=c.createElement("link");Kt(z),Dn(z,"link",s),z._p=new Promise(function(ee,ce){z.onload=ee,z.onerror=ce}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,um(I,a,c)}I={type:"stylesheet",instance:I,count:1,state:N},m.set(y,I)}}}function bM(s,a){Is.X(s,a);var l=vu;if(l&&s){var c=Gn(l).hoistableScripts,m=bu(s),y=c.get(m);y||(y=l.querySelector(Fh(m)),y||(s=g({src:s,async:!0},a),(a=qr.get(m))&&Gv(s,a),y=l.createElement("script"),Kt(y),Dn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function wM(s,a){Is.M(s,a);var l=vu;if(l&&s){var c=Gn(l).hoistableScripts,m=bu(s),y=c.get(m);y||(y=l.querySelector(Fh(m)),y||(s=g({src:s,async:!0,type:"module"},a),(a=qr.get(m))&&Gv(s,a),y=l.createElement("script"),Kt(y),Dn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function JA(s,a,l,c){var m=(m=xe.current)?lm(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Eu(l.href),l=Gn(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Eu(l.href);var y=Gn(m).hoistableStyles,I=y.get(s);if(I||(m=m.ownerDocument||m,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,I),(y=m.querySelector(Bh(s)))&&!y._p&&(I.instance=y,I.state.loading=5),qr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qr.set(s,l),y||TM(m,s,l,I.state))),a&&c===null)throw Error(r(528,""));return I}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=bu(l),l=Gn(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Eu(s){return'href="'+nn(s)+'"'}function Bh(s){return'link[rel="stylesheet"]['+s+"]"}function ZA(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function TM(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Dn(a,"link",l),Kt(a),s.head.appendChild(a))}function bu(s){return'[src="'+nn(s)+'"]'}function Fh(s){return"script[async]"+s}function eI(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+nn(l.href)+'"]');if(c)return a.instance=c,Kt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Kt(c),Dn(c,"style",m),um(c,l.precedence,s),a.instance=c;case"stylesheet":m=Eu(l.href);var y=s.querySelector(Bh(m));if(y)return a.state.loading|=4,a.instance=y,Kt(y),y;c=ZA(l),(m=qr.get(m))&&$v(c,m),y=(s.ownerDocument||s).createElement("link"),Kt(y);var I=y;return I._p=new Promise(function(N,z){I.onload=N,I.onerror=z}),Dn(y,"link",c),a.state.loading|=4,um(y,l.precedence,s),a.instance=y;case"script":return y=bu(l.src),(m=s.querySelector(Fh(y)))?(a.instance=m,Kt(m),m):(c=l,(m=qr.get(y))&&(c=g({},l),Gv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Kt(m),Dn(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,um(c,l.precedence,s));return a.instance}function um(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,I=0;I<c.length;I++){var N=c[I];if(N.dataset.precedence===a)y=N;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function $v(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Gv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var cm=null;function tI(s,a,l){if(cm===null){var c=new Map,m=cm=new Map;m.set(l,c)}else m=cm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[mo]||y[dn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var I=y.getAttribute(a)||"";I=s+I;var N=c.get(I);N?N.push(y):c.set(I,[y])}}return c}function nI(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function SM(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function rI(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var jh=null;function AM(){}function IM(s,a,l){if(jh===null)throw Error(r(475));var c=jh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Eu(l.href),y=s.querySelector(Bh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=hm.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,Kt(y);return}y=s.ownerDocument||s,l=ZA(l),(m=qr.get(m))&&$v(l,m),y=y.createElement("link"),Kt(y);var I=y;I._p=new Promise(function(N,z){I.onload=N,I.onerror=z}),Dn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=hm.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function RM(){if(jh===null)throw Error(r(475));var s=jh;return s.stylesheets&&s.count===0&&Kv(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Kv(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function hm(){if(this.count--,this.count===0){if(this.stylesheets)Kv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var dm=null;function Kv(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,dm=new Map,a.forEach(CM,s),dm=null,hm.call(s))}function CM(s,a){if(!(a.state.loading&4)){var l=dm.get(s);if(l)var c=l.get(null);else{l=new Map,dm.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var I=m[y];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),c=I)}c&&l.set(null,c)}m=a.instance,I=m.getAttribute("data-precedence"),y=l.get(I)||c,y===c&&l.set(null,m),l.set(I,m),this.count++,c=hm.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var zh={$$typeof:V,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function xM(s,a,l,c,m,y,I,N){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.hiddenUpdates=ns(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function iI(s,a,l,c,m,y,I,N,z,ee,ce,de){return s=new xM(s,a,l,I,N,z,ee,de),a=1,y===!0&&(a|=24),y=mr(3,null,null,a),s.current=y,y.stateNode=s,a=C_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},D_(y),s}function sI(s){return s?(s=Jl,s):Jl}function aI(s,a,l,c,m,y){m=sI(m),c.context===null?c.context=m:c.pendingContext=m,c=ia(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=sa(s,c,a),l!==null&&(Er(l,s,a),_h(l,s,a))}function oI(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Wv(s,a){oI(s,a),(s=s.alternate)&&oI(s,a)}function lI(s){if(s.tag===13){var a=Xl(s,67108864);a!==null&&Er(a,s,67108864),Wv(s,67108864)}}var fm=!0;function PM(s,a,l,c){var m=$.T;$.T=null;var y=J.p;try{J.p=2,Qv(s,a,l,c)}finally{J.p=y,$.T=m}}function OM(s,a,l,c){var m=$.T;$.T=null;var y=J.p;try{J.p=8,Qv(s,a,l,c)}finally{J.p=y,$.T=m}}function Qv(s,a,l,c){if(fm){var m=Yv(c);if(m===null)Vv(s,a,c,pm,l),cI(s,c);else if(NM(m,s,a,l,c))c.stopPropagation();else if(cI(s,c),a&4&&-1<DM.indexOf(s)){for(;m!==null;){var y=fi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var I=Xr(y.pendingLanes);if(I!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;I;){var z=1<<31-en(I);N.entanglements[1]|=z,I&=~z}Ri(y),(at&6)===0&&(Xp=tr()+500,Mh(0))}}break;case 13:N=Xl(y,2),N!==null&&Er(N,y,2),Zp(),Wv(y,2)}if(y=Yv(c),y===null&&Vv(s,a,c,pm,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Vv(s,a,c,null,l)}}function Yv(s){return s=kr(s),Xv(s)}var pm=null;function Xv(s){if(pm=null,s=is(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return pm=s,null}function uI(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jc()){case uo:return 2;case ts:return 8;case Fe:case _t:return 32;case wt:return 268435456;default:return 32}default:return 32}}var Jv=!1,_a=null,va=null,Ea=null,qh=new Map,Hh=new Map,ba=[],DM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cI(s,a){switch(s){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":qh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hh.delete(a.pointerId)}}function $h(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=fi(a),a!==null&&lI(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function NM(s,a,l,c,m){switch(a){case"focusin":return _a=$h(_a,s,a,l,c,m),!0;case"dragenter":return va=$h(va,s,a,l,c,m),!0;case"mouseover":return Ea=$h(Ea,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return qh.set(y,$h(qh.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Hh.set(y,$h(Hh.get(y)||null,s,a,l,c,m)),!0}return!1}function hI(s){var a=is(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,Zf(s.priority,function(){if(l.tag===13){var c=vr();c=Qs(c);var m=Xl(l,c);m!==null&&Er(m,l,c),Wv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mm(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Yv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ls=c,l.target.dispatchEvent(c),ls=null}else return a=fi(l),a!==null&&lI(a),s.blockedOn=l,!1;a.shift()}return!0}function dI(s,a,l){mm(s)&&l.delete(a)}function kM(){Jv=!1,_a!==null&&mm(_a)&&(_a=null),va!==null&&mm(va)&&(va=null),Ea!==null&&mm(Ea)&&(Ea=null),qh.forEach(dI),Hh.forEach(dI)}function gm(s,a){s.blockedOn===a&&(s.blockedOn=null,Jv||(Jv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kM)))}var ym=null;function fI(s){ym!==s&&(ym=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ym===s&&(ym=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(Xv(c||l)===null)continue;break}var y=fi(l);y!==null&&(s.splice(a,3),a-=3,X_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Gh(s){function a(z){return gm(z,s)}_a!==null&&gm(_a,s),va!==null&&gm(va,s),Ea!==null&&gm(Ea,s),qh.forEach(a),Hh.forEach(a);for(var l=0;l<ba.length;l++){var c=ba[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<ba.length&&(l=ba[0],l.blockedOn===null);)hI(l),l.blockedOn===null&&ba.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],I=m[tn]||null;if(typeof y=="function")I||fI(l);else if(I){var N=null;if(y&&y.hasAttribute("formAction")){if(m=y,I=y[tn]||null)N=I.formAction;else if(Xv(m)!==null)continue}else N=I.action;typeof N=="function"?l[c+1]=N:(l.splice(c,3),c-=3),fI(l)}}}function Zv(s){this._internalRoot=s}_m.prototype.render=Zv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=vr();aI(l,c,s,a,null,null)},_m.prototype.unmount=Zv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;aI(s.current,2,null,s,null,null),Zp(),a[Dr]=null}};function _m(s){this._internalRoot=s}_m.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ys();s={blockedOn:null,target:s,priority:a};for(var l=0;l<ba.length&&a!==0&&a<ba[l].priority;l++);ba.splice(l,0,s),l===0&&hI(s)}};var pI=e.version;if(pI!=="19.1.0")throw Error(r(527,pI,"19.1.0"));J.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var MM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{st=vm.inject(MM),Ue=vm}catch{}}return Wh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=PS,y=OS,I=DS,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=iI(s,1,!1,null,null,l,c,m,y,I,N,null),s[Dr]=a.current,Mv(s),new Zv(a)},Wh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=PS,I=OS,N=DS,z=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),a=iI(s,1,!0,a,l??null,c,m,y,I,N,z,ee),a.context=sI(null),l=a.current,c=vr(),c=Qs(c),m=ia(c),m.callback=null,sa(l,m,c),l=c,a.current.lanes=l,rs(a,l),Ri(a),s[Dr]=a.current,Mv(s),new _m(a)},Wh.version="19.1.0",Wh}var SI;function GM(){if(SI)return n0.exports;SI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),n0.exports=$M(),n0.exports}var KM=GM(),Qh={},AI;function WM(){if(AI)return Qh;AI=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.parse=u,Qh.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,T){const b=new o,A=v.length;if(A<2)return b;const P=(T==null?void 0:T.decode)||g;let L=0;do{const U=v.indexOf("=",L);if(U===-1)break;const V=v.indexOf(";",L),H=V===-1?A:V;if(U>H){L=v.lastIndexOf(";",U-1)+1;continue}const j=h(v,L,U),K=f(v,U,j),M=v.slice(j,K);if(b[M]===void 0){let R=h(v,U+1,H),x=f(v,H,R);const w=P(v.slice(R,x));b[M]=w}L=H+1}while(L<A);return b}function h(v,T,b){do{const A=v.charCodeAt(T);if(A!==32&&A!==9)return T}while(++T<b);return b}function f(v,T,b){for(;T>b;){const A=v.charCodeAt(--T);if(A!==32&&A!==9)return T+1}return b}function d(v,T,b){const A=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const P=A(T);if(!e.test(P))throw new TypeError(`argument val is invalid: ${T}`);let L=v+"="+P;if(!b)return L;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);L+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);L+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);L+="; Path="+b.path}if(b.expires){if(!_(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);L+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(L+="; HttpOnly"),b.secure&&(L+="; Secure"),b.partitioned&&(L+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return L}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return Qh}WM();var II="popstate";function QM(n={}){function e(r,i){let{pathname:o,search:u,hash:h}=r.location;return z0("",{pathname:o,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:$d(i)}return XM(e,t,null,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YM(){return Math.random().toString(36).substring(2,10)}function RI(n,e){return{usr:n.state,key:n.key,idx:e}}function z0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?wc(e):e,state:t,key:e&&e.key||r||YM()}}function $d({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function wc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function XM(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let P=g(),L=P==null?null:P-d;d=P,f&&f({action:h,location:A.location,delta:L})}function v(P,L){h="PUSH";let U=z0(A.location,P,L);d=g()+1;let V=RI(U,d),H=A.createHref(U);try{u.pushState(V,"",H)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(H)}o&&f&&f({action:h,location:A.location,delta:1})}function T(P,L){h="REPLACE";let U=z0(A.location,P,L);d=g();let V=RI(U,d),H=A.createHref(U);u.replaceState(V,"",H),o&&f&&f({action:h,location:A.location,delta:0})}function b(P){return JM(P)}let A={get action(){return h},get location(){return n(i,u)},listen(P){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(II,_),f=P,()=>{i.removeEventListener(II,_),f=null}},createHref(P){return e(i,P)},createURL:b,encodeLocation(P){let L=b(P);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:T,go(P){return u.go(P)}};return A}function JM(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:$d(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function sx(n,e,t="/"){return ZM(n,e,t,!1)}function ZM(n,e,t,r){let i=typeof e=="string"?wc(e):e,o=ks(i.pathname||"/",t);if(o==null)return null;let u=ax(n);eV(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=hV(o);h=uV(u[f],d,r)}return h}function ax(n,e=[],t=[],r=""){let i=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(kt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=Ds([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ax(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:oV(d,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let f of ox(o.path))i(o,u,f)}),e}function ox(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=ox(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),i&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function eV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var tV=/^:[\w-]+$/,nV=3,rV=2,iV=1,sV=10,aV=-2,CI=n=>n==="*";function oV(n,e){let t=n.split("/"),r=t.length;return t.some(CI)&&(r+=aV),e&&(r+=rV),t.filter(i=>!CI(i)).reduce((i,o)=>i+(tV.test(o)?nV:o===""?iV:sV),r)}function lV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function uV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],d=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=cg({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),v=f.route;if(!_&&d&&t&&!r[r.length-1].route.index&&(_=cg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:Ds([o,_.pathname]),pathnameBase:mV(Ds([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Ds([o,_.pathnameBase]))}return u}function cg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=cV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:_},v)=>{if(g==="*"){let b=h[v]||"";u=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?d[g]=void 0:d[g]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function cV(n,e=!1,t=!0){Ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ks(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function dV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?wc(n):n;return{pathname:t?t.startsWith("/")?t:fV(t,e):e,search:gV(r),hash:yV(i)}}function fV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function a0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lx(n){let e=pV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function ux(n,e,t,r=!1){let i;typeof n=="string"?i=wc(n):(i={...n},kt(!i.pathname||!i.pathname.includes("?"),a0("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),a0("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),a0("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let f=dV(i,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Ds=n=>n.join("/").replace(/\/\/+/g,"/"),mV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),gV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _V(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var cx=["POST","PUT","PATCH","DELETE"];new Set(cx);var vV=["GET",...cx];new Set(vV);var Tc=W.createContext(null);Tc.displayName="DataRouter";var $g=W.createContext(null);$g.displayName="DataRouterState";var hx=W.createContext({isTransitioning:!1});hx.displayName="ViewTransition";var EV=W.createContext(new Map);EV.displayName="Fetchers";var bV=W.createContext(null);bV.displayName="Await";var Zi=W.createContext(null);Zi.displayName="Navigation";var Ef=W.createContext(null);Ef.displayName="Location";var es=W.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var JE=W.createContext(null);JE.displayName="RouteError";function wV(n,{relative:e}={}){kt(bf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Zi),{hash:i,pathname:o,search:u}=wf(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ds([t,o])),r.createHref({pathname:h,search:u,hash:i})}function bf(){return W.useContext(Ef)!=null}function eo(){return kt(bf(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Ef).location}var dx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fx(n){W.useContext(Zi).static||W.useLayoutEffect(n)}function Gg(){let{isDataRoute:n}=W.useContext(es);return n?MV():TV()}function TV(){kt(bf(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Tc),{basename:e,navigator:t}=W.useContext(Zi),{matches:r}=W.useContext(es),{pathname:i}=eo(),o=JSON.stringify(lx(r)),u=W.useRef(!1);return fx(()=>{u.current=!0}),W.useCallback((f,d={})=>{if(Ki(u.current,dx),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=ux(f,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ds([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,i,n])}W.createContext(null);function px(){let{matches:n}=W.useContext(es),e=n[n.length-1];return e?e.params:{}}function wf(n,{relative:e}={}){let{matches:t}=W.useContext(es),{pathname:r}=eo(),i=JSON.stringify(lx(t));return W.useMemo(()=>ux(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function SV(n,e){return mx(n,e)}function mx(n,e,t,r){var U;kt(bf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(Zi),{matches:u}=W.useContext(es),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let V=_&&_.path||"";gx(d,!_||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let v=eo(),T;if(e){let V=typeof e=="string"?wc(e):e;kt(g==="/"||((U=V.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),T=V}else T=v;let b=T.pathname||"/",A=b;if(g!=="/"){let V=g.replace(/^\//,"").split("/");A="/"+b.replace(/^\//,"").split("/").slice(V.length).join("/")}let P=!o&&t&&t.matches&&t.matches.length>0?t.matches:sx(n,{pathname:A});Ki(_||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ki(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=xV(P&&P.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:Ds([g,i.encodeLocation?i.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:Ds([g,i.encodeLocation?i.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,t,r);return e&&L?W.createElement(Ef.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function AV(){let n=kV(),e=_V(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,u)}var IV=W.createElement(AV,null),RV=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(es.Provider,{value:this.props.routeContext},W.createElement(JE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CV({routeContext:n,match:e,children:t}){let r=W.useContext(Tc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(es.Provider,{value:n},t)}function xV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let f=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);kt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:_}=t,v=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((f,d,g)=>{let _,v=!1,T=null,b=null;t&&(_=o&&d.route.id?o[d.route.id]:void 0,T=d.route.errorElement||IV,u&&(h<0&&g===0?(gx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):h===g&&(v=!0,b=d.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,g+1)),P=()=>{let L;return _?L=T:v?L=b:d.route.Component?L=W.createElement(d.route.Component,null):d.route.element?L=d.route.element:L=f,W.createElement(CV,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:L})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?W.createElement(RV,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:P(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):P()},null)}function ZE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PV(n){let e=W.useContext(Tc);return kt(e,ZE(n)),e}function OV(n){let e=W.useContext($g);return kt(e,ZE(n)),e}function DV(n){let e=W.useContext(es);return kt(e,ZE(n)),e}function eb(n){let e=DV(n),t=e.matches[e.matches.length-1];return kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function NV(){return eb("useRouteId")}function kV(){var r;let n=W.useContext(JE),e=OV("useRouteError"),t=eb("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function MV(){let{router:n}=PV("useNavigate"),e=eb("useNavigate"),t=W.useRef(!1);return fx(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{Ki(t.current,dx),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var xI={};function gx(n,e,t){!e&&!xI[n]&&(xI[n]=!0,Ki(!1,t))}W.memo(VV);function VV({routes:n,future:e,state:t}){return mx(n,void 0,t,e)}function Ca(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){kt(!bf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=wc(t));let{pathname:f="/",search:d="",hash:g="",state:_=null,key:v="default"}=t,T=W.useMemo(()=>{let b=ks(f,u);return b==null?null:{location:{pathname:b,search:d,hash:g,state:_,key:v},navigationType:r}},[u,f,d,g,_,v,r]);return Ki(T!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(Zi.Provider,{value:h},W.createElement(Ef.Provider,{children:e,value:T}))}function UV({children:n,location:e}){return SV(q0(n),e)}function q0(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,q0(r.props.children,o));return}kt(r.type===Ca,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=q0(r.props.children,o)),t.push(u)}),t}var Lm="get",Um="application/x-www-form-urlencoded";function Kg(n){return n!=null&&typeof n.tagName=="string"}function BV(n){return Kg(n)&&n.tagName.toLowerCase()==="button"}function FV(n){return Kg(n)&&n.tagName.toLowerCase()==="form"}function jV(n){return Kg(n)&&n.tagName.toLowerCase()==="input"}function zV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qV(n,e){return n.button===0&&(!e||e==="_self")&&!zV(n)}var Em=null;function HV(){if(Em===null)try{new FormData(document.createElement("form"),0),Em=!1}catch{Em=!0}return Em}var $V=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function o0(n){return n!=null&&!$V.has(n)?(Ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Um}"`),null):n}function GV(n,e){let t,r,i,o,u;if(FV(n)){let h=n.getAttribute("action");r=h?ks(h,e):null,t=n.getAttribute("method")||Lm,i=o0(n.getAttribute("enctype"))||Um,o=new FormData(n)}else if(BV(n)||jV(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?ks(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Lm,i=o0(n.getAttribute("formenctype"))||o0(h.getAttribute("enctype"))||Um,o=new FormData(h,n),!HV()){let{name:d,type:g,value:_}=n;if(g==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,_)}}else{if(Kg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lm,r=null,i=Um,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function tb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function KV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function QV(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await KV(o,t);return u.links?u.links():[]}return[]}));return ZV(r.flat(1).filter(WV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function PI(n,e,t,r,i,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>{var g;return t[d].pathname!==f.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function YV(n,e,{includeHydrateFallback:t}={}){return XV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function XV(n){return[...new Set(n)]}function JV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function ZV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(JV(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eL=new Set([100,101,204,205]);function tL(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ks(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function yx(){let n=W.useContext(Tc);return tb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nL(){let n=W.useContext($g);return tb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var nb=W.createContext(void 0);nb.displayName="FrameworkContext";function _x(){let n=W.useContext(nb);return tb(n,"You must render this element inside a <HydratedRouter> element"),n}function rL(n,e){let t=W.useContext(nb),[r,i]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:_}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=L=>{L.forEach(U=>{u(U.isIntersecting)})},P=new IntersectionObserver(A,{threshold:.5});return v.current&&P.observe(v.current),()=>{P.disconnect()}}},[n]),W.useEffect(()=>{if(r){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[r]);let T=()=>{i(!0)},b=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Yh(h,T),onBlur:Yh(f,b),onMouseEnter:Yh(d,T),onMouseLeave:Yh(g,b),onTouchStart:Yh(_,T)}]:[!1,v,{}]}function Yh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function iL({page:n,...e}){let{router:t}=yx(),r=W.useMemo(()=>sx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(aL,{page:n,matches:r,...e}):null}function sL(n){let{manifest:e,routeModules:t}=_x(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return QV(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function aL({page:n,matches:e,...t}){let r=eo(),{manifest:i,routeModules:o}=_x(),{basename:u}=yx(),{loaderData:h,matches:f}=nL(),d=W.useMemo(()=>PI(n,e,f,i,r,"data"),[n,e,f,i,r]),g=W.useMemo(()=>PI(n,e,f,i,r,"assets"),[n,e,f,i,r]),_=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,A=!1;if(e.forEach(L=>{var V;let U=i.routes[L.route.id];!U||!U.hasLoader||(!d.some(H=>H.route.id===L.route.id)&&L.route.id in h&&((V=o[L.route.id])!=null&&V.shouldRevalidate)||U.hasClientLoader?A=!0:b.add(L.route.id))}),b.size===0)return[];let P=tL(n,u);return A&&b.size>0&&P.searchParams.set("_routes",e.filter(L=>b.has(L.route.id)).map(L=>L.route.id).join(",")),[P.pathname+P.search]},[u,h,r,i,d,e,n,o]),v=W.useMemo(()=>YV(g,i),[g,i]),T=sL(g);return W.createElement(W.Fragment,null,_.map(b=>W.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>W.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),T.map(({key:b,link:A})=>W.createElement("link",{key:b,...A})))}function oL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vx&&(window.__reactRouterVersion="7.6.0")}catch{}function lL({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=QM({window:t,v5Compat:!0}));let i=r.current,[o,u]=W.useState({action:i.action,location:i.location}),h=W.useCallback(f=>{W.startTransition(()=>u(f))},[u]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(LV,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var Ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fi=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:_,...v},T){let{basename:b}=W.useContext(Zi),A=typeof d=="string"&&Ex.test(d),P,L=!1;if(typeof d=="string"&&A&&(P=d,vx))try{let x=new URL(window.location.href),w=d.startsWith("//")?new URL(x.protocol+d):new URL(d),O=ks(w.pathname,b);w.origin===x.origin&&O!=null?d=O+w.search+w.hash:L=!0}catch{Ki(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=wV(d,{relative:i}),[V,H,j]=rL(r,v),K=dL(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:_});function M(x){e&&e(x),x.defaultPrevented||K(x)}let R=W.createElement("a",{...v,...j,href:P||U,onClick:L||o?e:M,ref:oL(T,H),target:f,"data-discover":!A&&t==="render"?"true":void 0});return V&&!A?W.createElement(W.Fragment,null,R,W.createElement(iL,{page:U})):R});Fi.displayName="Link";var uL=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let _=wf(u,{relative:d.relative}),v=eo(),T=W.useContext($g),{navigator:b,basename:A}=W.useContext(Zi),P=T!=null&&yL(_)&&h===!0,L=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,U=v.pathname,V=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(U=U.toLowerCase(),V=V?V.toLowerCase():null,L=L.toLowerCase()),V&&A&&(V=ks(V,A)||V);const H=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let j=U===L||!i&&U.startsWith(L)&&U.charAt(H)==="/",K=V!=null&&(V===L||!i&&V.startsWith(L)&&V.charAt(L.length)==="/"),M={isActive:j,isPending:K,isTransitioning:P},R=j?e:void 0,x;typeof r=="function"?x=r(M):x=[r,j?"active":null,K?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let w=typeof o=="function"?o(M):o;return W.createElement(Fi,{...d,"aria-current":R,className:x,ref:g,style:w,to:u,viewTransition:h},typeof f=="function"?f(M):f)});uL.displayName="NavLink";var cL=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=Lm,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:_,...v},T)=>{let b=mL(),A=gL(h,{relative:d}),P=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&Ex.test(h),U=V=>{if(f&&f(V),V.defaultPrevented)return;V.preventDefault();let H=V.nativeEvent.submitter,j=(H==null?void 0:H.getAttribute("formmethod"))||u;b(H||V.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:o,relative:d,preventScrollReset:g,viewTransition:_})};return W.createElement("form",{ref:T,method:P,action:A,onSubmit:r?f:U,...v,"data-discover":!L&&n==="render"?"true":void 0})});cL.displayName="Form";function hL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bx(n){let e=W.useContext(Tc);return kt(e,hL(n)),e}function dL(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=Gg(),f=eo(),d=wf(n,{relative:o});return W.useCallback(g=>{if(qV(g,e)){g.preventDefault();let _=t!==void 0?t:$d(f)===$d(d);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[f,h,d,t,r,e,n,i,o,u])}var fL=0,pL=()=>`__${String(++fL)}__`;function mL(){let{router:n}=bx("useSubmit"),{basename:e}=W.useContext(Zi),t=NV();return W.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=GV(r,e);if(i.navigate===!1){let g=i.fetcherKey||pL();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function gL(n,{relative:e}={}){let{basename:t}=W.useContext(Zi),r=W.useContext(es);kt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...wf(n||".",{relative:e})},u=eo();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ds([t,o.pathname])),$d(o)}function yL(n,e={}){let t=W.useContext(hx);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bx("useViewTransitionState"),i=wf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ks(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ks(t.nextLocation.pathname,r)||t.nextLocation.pathname;return cg(i.pathname,u)!=null||cg(i.pathname,o)!=null}[...eL];const _L="_header_all_wrapper_12py5_11",vL="_header_container_12py5_27",EL="_logo_container_12py5_47",bL="_logo_12py5_47",wL="_delivery_12py5_73",TL="_search_12py5_107",SL="_order_container_12py5_203",AL="_language_12py5_233",IL="_cart_12py5_269",RL="_lower_container_12py5_309",Oi={header_all_wrapper:_L,header_container:vL,logo_container:EL,logo:bL,delivery:wL,search:TL,order_container:SL,language:AL,cart:IL,lower_container:RL},CL="/Amazon_clone__frontend/assets/amazon-DP4zLUKx.png",xL="/Amazon_clone__frontend/assets/Ameicanflag-DHd5yMKN.png";var wx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OI=Ke.createContext&&Ke.createContext(wx),PL=["attr","size","title"];function OL(n,e){if(n==null)return{};var t=DL(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function DL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function hg(){return hg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hg.apply(this,arguments)}function DI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(t),!0).forEach(function(r){NL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function NL(n,e,t){return e=kL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kL(n){var e=ML(n,"string");return typeof e=="symbol"?e:e+""}function ML(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Tx(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,dg({key:t},e.attr),Tx(e.child)))}function Sc(n){return e=>Ke.createElement(VL,hg({attr:dg({},n.attr)},e),Tx(n.child))}function VL(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=OL(n,PL),h=i||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ke.createElement("svg",hg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:dg(dg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return OI!==void 0?Ke.createElement(OI.Consumer,null,t=>e(t)):e(wx)}function LL(n){return Sc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function UL(n){return Sc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function BL(n){return Sc({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(n)}function FL(n){return Sc({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Menu_Burger"},child:[{tag:"path",attr:{d:"M3.563,4.063c-0.276,-0 -0.5,-0.224 -0.5,-0.5c-0,-0.276 0.224,-0.5 0.5,-0.5l16.874,-0.001c0.276,-0 0.5,0.224 0.5,0.5c0,0.276 -0.224,0.5 -0.5,0.5l-16.874,0.001Z"},child:[]},{tag:"path",attr:{d:"M3.563,12.501c-0.276,-0 -0.5,-0.224 -0.5,-0.5c-0,-0.276 0.224,-0.5 0.5,-0.5l16.874,-0.002c0.276,0 0.5,0.224 0.5,0.5c0,0.276 -0.224,0.5 -0.5,0.5l-16.874,0.002Z"},child:[]},{tag:"path",attr:{d:"M3.563,20.939c-0.276,-0 -0.5,-0.224 -0.5,-0.5c-0,-0.276 0.224,-0.5 0.5,-0.5l16.874,-0.002c0.276,0 0.5,0.224 0.5,0.5c0,0.276 -0.224,0.5 -0.5,0.5l-16.874,0.002Z"},child:[]}]}]})(n)}const jL=()=>B.jsx("div",{className:Oi.lower_container,children:B.jsxs("ul",{children:[B.jsxs("li",{children:[B.jsx(FL,{}),B.jsx("p",{children:"All  "})]}),B.jsx("li",{children:"Today's Deals"}),B.jsx("li",{children:"Costumer Service"}),B.jsx("li",{children:"Registry"}),B.jsx("li",{children:"Gift Cards"}),B.jsx("li",{children:"Sell"})]})}),si={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"},zL={basket:[],user:null},qL=(n,e)=>{switch(e.type){case si.ADD_TO_BASKET:if(n.basket.find(r=>r.id===e.item.id)){const r=n.basket.map(i=>i.id===e.item.id?{...i,amount:i.amount+1}:i);return{...n,basket:r}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case si.REMOVE_FROM_BASKET:{const t=n.basket.findIndex(i=>i.id===e.id);let r=[...n.basket];return t>=0?(r[t].amount>1?r[t]={...r[t],amount:r[t].amount-1}:r.splice(t,1),{...n,basket:r}):n}case si.EMPTY_BASKET:return{...n,basket:[]};case si.SET_USER:return{...n,user:e.user};default:return n}},zs=W.createContext(),HL=({children:n,reducer:e,initialState:t})=>B.jsx(zs.Provider,{value:W.useReducer(e,t),children:n}),$L=()=>{};var NI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},GL=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],f=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Ax={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,f=i+2<n.length,d=f?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|d>>6,T=d&63;f||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Sx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):GL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||d==null||_==null)throw new KL;const v=o<<2|h>>4;if(r.push(v),d!==64){const T=h<<4&240|d>>2;if(r.push(T),_!==64){const b=d<<6&192|_;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WL=function(n){const e=Sx(n);return Ax.encodeByteArray(e,!0)},fg=function(n){return WL(n).replace(/\./g,"")},rb=function(n){try{return Ax.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!QL(t)||(n[t]=pg(n[t],e[t]));return n}function QL(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=()=>ib().__FIREBASE_DEFAULTS__,XL=()=>{if(typeof process>"u"||typeof NI>"u")return;const n=NI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&rb(n[1]);return e&&JSON.parse(e)},Wg=()=>{try{return $L()||YL()||XL()||JL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZL=n=>{var e,t;return(t=(e=Wg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ix=()=>{var n;return(n=Wg())===null||n===void 0?void 0:n.config},Rx=n=>{var e;return(e=Wg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(n){return n.endsWith(".cloudworkstations.dev")}async function Cx(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fg(JSON.stringify(t)),fg(JSON.stringify(u)),""].join(".")}const Cd={};function n4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Cd))Cd[e]?n.emulator.push(e):n.prod.push(e);return n}function r4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let kI=!1;function xx(n,e){if(typeof window>"u"||typeof document>"u"||!Tf(window.location.host)||Cd[n]===e||Cd[n]||kI)return;Cd[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=n4().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{kI=!0,u()},v}function g(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=r4(r),T=t("text"),b=document.getElementById(T)||document.createElement("span"),A=t("learnmore"),P=document.getElementById(A)||document.createElement("a"),L=t("preprendIcon"),U=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const V=v.element;h(V),g(P,A);const H=d();f(U,L),V.append(U,b,P,H),document.body.appendChild(V)}o?(b.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function Qg(){var n;const e=(n=Wg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s4(){return typeof window<"u"||Px()}function Px(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function a4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ox(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dx(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Nx(){return!Qg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kx(){return!Qg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Gd(){try{return typeof indexedDB=="object"}catch{return!1}}function o4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="FirebaseError";class Jn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=l4,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?u4(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Jn(i,h,r)}}function u4(n,e){return n.replace(c4,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const c4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function h4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ms(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(VI(o)&&VI(u)){if(!Ms(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function VI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Mx(n,e){const t=new d4(n,e);return t.subscribe.bind(t)}class d4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");f4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=l0),i.error===void 0&&(i.error=l0),i.complete===void 0&&(i.complete=l0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function l0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class Wi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new e4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g4(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m4(n){return n===Ko?void 0:n}function g4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new p4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=[];var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const Lx={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},y4=He.INFO,_4={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},v4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=_4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yg{constructor(e){this.name=e,this._logLevel=y4,this._logHandler=v4,this._userLogHandler=null,ab.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}function E4(n){ab.forEach(e=>{e.setLogLevel(n)})}function b4(n,e){for(const t of ab){let r=null;e&&e.level&&(r=Lx[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");o>=(r??i.logLevel)&&n({level:He[o].toLowerCase(),message:h,args:u,type:i.name})}}}const w4=(n,e)=>e.some(t=>n instanceof t);let LI,UI;function T4(){return LI||(LI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S4(){return UI||(UI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ux=new WeakMap,H0=new WeakMap,Bx=new WeakMap,u0=new WeakMap,ob=new WeakMap;function A4(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Na(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Ux.set(t,n)}).catch(()=>{}),ob.set(e,n),e}function I4(n){if(H0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});H0.set(n,e)}let $0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return H0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Bx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Na(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function R4(n){$0=n($0)}function C4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(c0(this),e,...t);return Bx.set(r,e.sort?e.sort():[e]),Na(r)}:S4().includes(n)?function(...e){return n.apply(c0(this),e),Na(Ux.get(this))}:function(...e){return Na(n.apply(c0(this),e))}}function x4(n){return typeof n=="function"?C4(n):(n instanceof IDBTransaction&&I4(n),w4(n,T4())?new Proxy(n,$0):n)}function Na(n){if(n instanceof IDBRequest)return A4(n);if(u0.has(n))return u0.get(n);const e=x4(n);return e!==n&&(u0.set(n,e),ob.set(e,n)),e}const c0=n=>ob.get(n);function P4(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Na(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Na(u.result),f.oldVersion,f.newVersion,Na(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const O4=["get","getKey","getAll","getAllKeys","count"],D4=["put","add","delete","clear"],h0=new Map;function BI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(h0.get(e))return h0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=D4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||O4.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),i&&f.done]))[0]};return h0.set(e,o),o}R4(n=>({...n,get:(e,t,r)=>BI(e,t)||n.get(e,t,r),has:(e,t)=>!!BI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(k4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function k4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mg="@firebase/app",G0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Yg("@firebase/app"),M4="@firebase/app-compat",V4="@firebase/analytics-compat",L4="@firebase/analytics",U4="@firebase/app-check-compat",B4="@firebase/app-check",F4="@firebase/auth",j4="@firebase/auth-compat",z4="@firebase/database",q4="@firebase/data-connect",H4="@firebase/database-compat",$4="@firebase/functions",G4="@firebase/functions-compat",K4="@firebase/installations",W4="@firebase/installations-compat",Q4="@firebase/messaging",Y4="@firebase/messaging-compat",X4="@firebase/performance",J4="@firebase/performance-compat",Z4="@firebase/remote-config",e3="@firebase/remote-config-compat",t3="@firebase/storage",n3="@firebase/storage-compat",r3="@firebase/firestore",i3="@firebase/ai",s3="@firebase/firestore-compat",a3="firebase",o3="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]",l3={[mg]:"fire-core",[M4]:"fire-core-compat",[L4]:"fire-analytics",[V4]:"fire-analytics-compat",[B4]:"fire-app-check",[U4]:"fire-app-check-compat",[F4]:"fire-auth",[j4]:"fire-auth-compat",[z4]:"fire-rtdb",[q4]:"fire-data-connect",[H4]:"fire-rtdb-compat",[$4]:"fire-fn",[G4]:"fire-fn-compat",[K4]:"fire-iid",[W4]:"fire-iid-compat",[Q4]:"fire-fcm",[Y4]:"fire-fcm-compat",[X4]:"fire-perf",[J4]:"fire-perf-compat",[Z4]:"fire-rc",[e3]:"fire-rc-compat",[t3]:"fire-gcs",[n3]:"fire-gcs-compat",[r3]:"fire-fst",[s3]:"fire-fst-compat",[i3]:"fire-vertex","fire-js":"fire-js",[a3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Map,Qu=new Map,Yu=new Map;function Kd(n,e){try{n.container.addComponent(e)}catch(t){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fx(n,e){n.container.addOrOverwriteComponent(e)}function Fa(n){const e=n.name;if(Yu.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;Yu.set(e,n);for(const t of Ba.values())Kd(t,n);for(const t of Qu.values())Kd(t,n);return!0}function Xg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function u3(n,e,t=Ua){Xg(n,e).clearInstance(t)}function jx(n){return n.options!==void 0}function Rt(n){return n==null?!1:n.settings!==void 0}function c3(){Yu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Al("app","Firebase",h3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(n,e){const t=rb(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class d3 extends zx{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&FI(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&FI(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,oi(mg,G0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ub(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Gr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=o3;function lb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ua,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(t||(t=Ix()),!t)throw Gr.create("no-options");const o=Ba.get(i);if(o){if(Ms(t,o.options)&&Ms(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}const u=new Vx(i);for(const f of Yu.values())u.addComponent(f);const h=new zx(t,r,u);return Ba.set(i,h),h}function f3(n,e){if(s4()&&!Px())throw Gr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let t;jx(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=d=>[...d].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Gr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=Qu.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new Vx(o);for(const d of Yu.values())h.addComponent(d);const f=new d3(t,e,o,h);return Qu.set(o,f),f}function qx(n=Ua){const e=Ba.get(n);if(!e&&n===Ua&&Ix())return lb();if(!e)throw Gr.create("no-app",{appName:n});return e}function p3(){return Array.from(Ba.values())}async function ub(n){let e=!1;const t=n.name;Ba.has(t)?(e=!0,Ba.delete(t)):Qu.has(t)&&n.decRefCount()<=0&&(Qu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function oi(n,e,t){var r;let i=(r=l3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(h.join(" "));return}Fa(new Wi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Hx(n,e){if(n!==null&&typeof n!="function")throw Gr.create("invalid-log-argument");b4(n,e)}function $x(n){E4(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="firebase-heartbeat-database",g3=1,Wd="firebase-heartbeat-store";let d0=null;function Gx(){return d0||(d0=P4(m3,g3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gr.create("idb-open",{originalErrorMessage:n.message})})),d0}async function y3(n){try{const t=(await Gx()).transaction(Wd),r=await t.objectStore(Wd).get(Kx(n));return await t.done,r}catch(e){if(e instanceof Jn)Vs.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vs.warn(t.message)}}}async function jI(n,e){try{const r=(await Gx()).transaction(Wd,"readwrite");await r.objectStore(Wd).put(e,Kx(n)),await r.done}catch(t){if(t instanceof Jn)Vs.warn(t.message);else{const r=Gr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Vs.warn(r.message)}}}function Kx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=1024,v3=30;class E3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new w3(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>v3){const u=T3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zI(),{heartbeatsToSend:r,unsentEntries:i}=b3(this._heartbeatsCache.heartbeats),o=fg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Vs.warn(t),""}}}function zI(){return new Date().toISOString().substring(0,10)}function b3(n,e=_3){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),qI(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),qI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class w3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gd()?o4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await y3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return jI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return jI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qI(n){return fg(JSON.stringify({version:2,heartbeats:n})).length}function T3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(n){Fa(new Wi("platform-logger",e=>new N4(e),"PRIVATE")),Fa(new Wi("heartbeat",e=>new E3(e),"PRIVATE")),oi(mg,G0,n),oi(mg,G0,"esm2017"),oi("fire-js","")}S3("");const A3=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Jn,SDK_VERSION:to,_DEFAULT_ENTRY_NAME:Ua,_addComponent:Kd,_addOrOverwriteComponent:Fx,_apps:Ba,_clearComponents:c3,_components:Yu,_getProvider:Xg,_isFirebaseApp:jx,_isFirebaseServerApp:Rt,_registerComponent:Fa,_removeServiceInstance:u3,_serverApps:Qu,deleteApp:ub,getApp:qx,getApps:p3,initializeApp:lb,initializeServerApp:f3,onLog:Hx,registerVersion:oi,setLogLevel:$x},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,t){this._delegate=e,this.firebase=t,Kd(e,new Wi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ub(this._delegate)))}_getService(e,t=Ua){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ua){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Kd(this._delegate,e)}_addOrOverwriteComponent(e){Fx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},HI=new Al("app-compat","Firebase",R3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:oi,setLogLevel:$x,onLog:Hx,apps:null,SDK_VERSION:to,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:A3}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(d){delete e[d]}function i(d){if(d=d||Ua,!MI(e,d))throw HI.create("no-app",{appName:d});return e[d]}i.App=n;function o(d,g={}){const _=lb(d,g);if(MI(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(d=>e[d])}function h(d){const g=d.name,_=g.replace("-compat","");if(Fa(d)&&d.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw HI.create("invalid-app-argument",{appName:g});return T[_]()};d.serviceProps!==void 0&&pg(v,d.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,d.multipleInstances?T:[])}}return d.type==="PUBLIC"?t[_]:null}function f(d,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){const n=C3(I3);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:Wx,extendNamespace:e,createSubscribe:Mx,ErrorFactory:Al,deepExtend:pg});function e(t){pg(n,t)}return n}const x3=Wx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Yg("@firebase/app-compat"),P3="@firebase/app-compat",O3="0.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(n){oi(P3,O3,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=ib();if(n.firebase!==void 0){$I.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&$I.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Ic=x3;D3();var N3="firebase",k3="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ic.registerVersion(N3,k3,"app-compat");function cb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const Xh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},wu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Qx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V3=M3,L3=Qx,Yx=new Al("auth","Firebase",Qx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new Yg("@firebase/auth");function U3(n,...e){gg.logLevel<=He.WARN&&gg.warn(`Auth (${to}): ${n}`,...e)}function Bm(n,...e){gg.logLevel<=He.ERROR&&gg.error(`Auth (${to}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,...e){throw db(n,...e)}function yn(n,...e){return db(n,...e)}function hb(n,e,t){const r=Object.assign(Object.assign({},L3()),{[e]:t});return new Al("auth","Firebase",r).create(e,{appName:n.name})}function In(n){return hb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(n,"argument-error"),hb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function db(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Yx.create(n,...e)}function ye(n,e,...t){if(!n)throw db(e,...t)}function ji(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bm(e),new Error(e)}function li(n,e){n||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function fb(){return GI()==="http:"||GI()==="https:"}function GI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fb()||Ox()||"connection"in navigator)?navigator.onLine:!0}function F3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=i4()||sb()}get(){return B3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(n,e){li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q3=new Sf(3e4,6e4);function qt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ht(n,e,t,r,i={}){return Jx(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Ac(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:f},o);return a4()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Tf(n.emulatorConfig.host)&&(d.credentials="include"),Xx.fetch()(await Zx(n,n.config.apiHost,t,h),d)})}async function Jx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},j3),e);try{const i=new $3(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Ed(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Ed(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Ed(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw hb(n,g,d);Rn(n,g)}}catch(i){if(i instanceof Jn)throw i;Rn(n,"network-request-failed",{message:String(i)})}}async function qs(n,e,t,r,i={}){const o=await Ht(n,e,t,r,i);return"mfaPendingCredential"in o&&Rn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Zx(n,e,t,r){const i=`${e}${t}?${r}`,o=n,u=o.config.emulator?pb(n.config,i):`${n.config.apiScheme}://${i}`;return z3.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function H3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),q3.get())})}}function Ed(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=yn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(n){return n!==void 0&&n.getResponse!==void 0}function WI(n){return n!==void 0&&n.enterprise!==void 0}class eP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return H3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(n){return(await Ht(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function tP(n,e){return Ht(n,"GET","/v2/recaptchaConfig",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(n,e){return Ht(n,"POST","/v1/accounts:delete",e)}async function W3(n,e){return Ht(n,"POST","/v1/accounts:update",e)}async function yg(n,e){return Ht(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q3(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=Jg(r);ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:xd(f0(i.auth_time)),issuedAtTime:xd(f0(i.iat)),expirationTime:xd(f0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function f0(n){return Number(n)*1e3}function Jg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Bm("JWT malformed, contained fewer than 3 sections"),null;try{const i=rb(t);return i?JSON.parse(i):(Bm("Failed to decode base64 JWT payload"),null)}catch(i){return Bm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QI(n){const e=Jg(n);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Jn&&Y3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Y3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xd(this.lastLoginAt),this.creationTime=xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ls(n,yg(t,{idToken:r}));ye(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?nP(o.providerUserInfo):[],h=Z3(n.providerData,u),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=f?d:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new K0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function J3(n){const e=Ce(n);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nP(n){return n.map(e=>{var{providerId:t}=e,r=cb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e5(n,e){const t=await Jx(n,{},async()=>{const r=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=await Zx(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Xx.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function t5(n,e){return Ht(n,"POST","/v2/accounts:revokeToken",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const t=QI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await e5(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new ju;return r&&(ye(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ju,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(n,e){ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=cb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new K0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ls(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Q3(this,e)}reload(){return J3(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rt(this.auth.app))return Promise.reject(In(this.auth));const e=await this.getIdToken();return await Ls(this,K3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,f,d,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,L=(d=t.createdAt)!==null&&d!==void 0?d:void 0,U=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:V,emailVerified:H,isAnonymous:j,providerData:K,stsTokenManager:M}=t;ye(V&&M,e,"internal-error");const R=ju.fromJSON(this.name,M);ye(typeof V=="string",e,"internal-error"),Ta(_,e.name),Ta(v,e.name),ye(typeof H=="boolean",e,"internal-error"),ye(typeof j=="boolean",e,"internal-error"),Ta(T,e.name),Ta(b,e.name),Ta(A,e.name),Ta(P,e.name),Ta(L,e.name),Ta(U,e.name);const x=new ai({uid:V,auth:e,email:v,emailVerified:H,displayName:_,isAnonymous:j,photoURL:b,phoneNumber:T,tenantId:A,stsTokenManager:R,createdAt:L,lastLoginAt:U});return K&&Array.isArray(K)&&(x.providerData=K.map(w=>Object.assign({},w))),P&&(x._redirectEventId=P),x}static async _fromIdTokenResponse(e,t,r=!1){const i=new ju;i.updateFromServerResponse(t);const o=new ai({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?nP(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new ju;h.updateFromIdToken(r);const f=new ai({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new K0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new Map;function Ir(n){li(n instanceof Function,"Expected a class definition");let e=YI.get(n);return e?(li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,YI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rP.type="NONE";const Xu=rP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(n,e,t){return`firebase:${n}:${e}:${t}`}class zu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=al(this.userKey,i.apiKey,o),this.fullPersistenceKey=al("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yg(this.auth,{idToken:e}).catch(()=>{});return t?ai._fromGetAccountInfoResponse(this.auth,t,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new zu(Ir(Xu),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Ir(Xu);const u=al(r,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let _;if(typeof g=="string"){const v=await yg(e,{idToken:g}).catch(()=>{});if(!v)break;_=await ai._fromGetAccountInfoResponse(e,v,g)}else _=ai._fromJSON(e,g);d!==o&&(h=_),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new zu(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new zu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lP(e))return"Blackberry";if(uP(e))return"Webos";if(sP(e))return"Safari";if((e.includes("chrome/")||aP(e))&&!e.includes("edge/"))return"Chrome";if(Af(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iP(n=Vt()){return/firefox\//i.test(n)}function sP(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aP(n=Vt()){return/crios\//i.test(n)}function oP(n=Vt()){return/iemobile/i.test(n)}function Af(n=Vt()){return/android/i.test(n)}function lP(n=Vt()){return/blackberry/i.test(n)}function uP(n=Vt()){return/webos/i.test(n)}function If(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function n5(n=Vt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function r5(n=Vt()){var e;return If(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function i5(){return Dx()&&document.documentMode===10}function cP(n=Vt()){return If(n)||Af(n)||uP(n)||lP(n)||/windows phone/i.test(n)||oP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(n,e=[]){let t;switch(n){case"Browser":t=XI(Vt());break;case"Worker":t=`${XI(Vt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${to}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(n,e={}){return Ht(n,"GET","/v2/passwordPolicy",qt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=6;class l5{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:o5,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JI(this),this.idTokenSubscription=new JI(this),this.beforeStateQueue=new s5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await zu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yg(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rt(this.app))return Promise.reject(In(this));const t=e?Ce(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rt(this.app)?Promise.reject(In(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rt(this.app)?Promise.reject(In(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a5(this),t=new l5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await t5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ir(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=await zu.create(this,[Ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Rt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&U3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Lt(n){return Ce(n)}class JI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mx(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c5(n){Rf=n}function mb(n){return Rf.loadJS(n)}function h5(){return Rf.recaptchaV2Script}function d5(){return Rf.recaptchaEnterpriseScript}function f5(){return Rf.gapiScript}function dP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=500,m5=6e4,bm=1e12;class g5{constructor(e){this.auth=e,this.counter=bm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new v5(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||bm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||bm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||bm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class y5{constructor(){this.enterprise=new _5}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _5{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class v5{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ye(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=E5(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},m5)},p5))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function E5(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const b5="recaptcha-enterprise",Pd="NO_RECAPTCHA";class fP{constructor(e){this.type=b5,this.auth=Lt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{tP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new eP(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function i(o,u,h){const f=window.grecaptcha;WI(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(Pd)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y5().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&WI(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=d5();f.length!==0&&(f+=h),mb(f).then(()=>{i(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function Jh(n,e,t,r=!1,i=!1){const o=new fP(n);let u;if(i)u=Pd;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ka(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Jh(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Jh(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await Jh(n,e,t);return r(n,h).catch(async f=>{var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await Jh(n,e,t,!1,!0);return r(n,g)}return Promise.reject(f)})}else{const h=await Jh(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function w5(n){const e=Lt(n),t=await tP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new eP(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new fP(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(n,e){const t=Xg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ms(o,e??{}))return i;Rn(i,"already-initialized")}return t.initialize({options:e})}function S5(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ir);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pP(n,e,t){const r=Lt(n);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=mP(e),{host:u,port:h}=A5(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(Ms(d,r.config.emulator)&&Ms(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Tf(u)?(Cx(`${o}//${u}${f}`),xx("Auth",!0)):i||I5()}function mP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function A5(n){const e=mP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:ZI(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:ZI(u)}}}function ZI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function I5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,t){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(n,e){return Ht(n,"POST","/v1/accounts:resetPassword",qt(n,e))}async function R5(n,e){return Ht(n,"POST","/v1/accounts:update",e)}async function C5(n,e){return Ht(n,"POST","/v1/accounts:signUp",e)}async function x5(n,e){return Ht(n,"POST","/v1/accounts:update",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(n,e){return qs(n,"POST","/v1/accounts:signInWithPassword",qt(n,e))}async function Zg(n,e){return Ht(n,"POST","/v1/accounts:sendOobCode",qt(n,e))}async function O5(n,e){return Zg(n,e)}async function D5(n,e){return Zg(n,e)}async function N5(n,e){return Zg(n,e)}async function k5(n,e){return Zg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(n,e){return qs(n,"POST","/v1/accounts:signInWithEmailLink",qt(n,e))}async function V5(n,e){return qs(n,"POST","/v1/accounts:signInWithEmailLink",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Cc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Xd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Xd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ka(e,t,"signInWithPassword",P5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return M5(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ka(e,r,"signUpPassword",C5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return V5(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(n,e){return qs(n,"POST","/v1/accounts:signInWithIdp",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="http://localhost";class Qi extends Cc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=cb(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Qi(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}buildRequest(){const e={requestUri:L5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ac(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(n,e){return Ht(n,"POST","/v1/accounts:sendVerificationCode",qt(n,e))}async function U5(n,e){return qs(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,e))}async function B5(n,e){const t=await qs(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,e));if(t.temporaryProof)throw Ed(n,"account-exists-with-different-credential",t);return t}const F5={USER_NOT_FOUND:"user-not-found"};async function j5(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return qs(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,t),F5)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Cc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ol({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ol({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return U5(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return B5(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return j5(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new ol({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q5(n){const e=Bu(vd(n)).link,t=e?Bu(vd(e)).deep_link_id:null,r=Bu(vd(n)).deep_link_id;return(r?Bu(vd(r)).link:null)||r||t||e||n}class ey{constructor(e){var t,r,i,o,u,h;const f=Bu(vd(e)),d=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=z5((i=f.mode)!==null&&i!==void 0?i:null);ye(d&&g&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=q5(e);try{return new ey(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,t){return Xd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ey.parseLink(t);return ye(r,"argument-error"),Xd._fromEmailAndCode(e,r.code,r.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Hs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qu extends xc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ye("providerId"in t&&"signInMethod"in t,"argument-error"),Qi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ye(e.idToken||e.accessToken,"argument-error"),Qi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return qu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return qu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new qu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends xc{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends xc{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="http://localhost";class Ju extends Cc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new Ju(r,o)}static _create(e,t){return new Ju(e,t)}buildRequest(){return{requestUri:H5,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="saml.";class _g extends Hs{constructor(e){ye(e.startsWith($5),"argument-error"),super(e)}static credentialFromResult(e){return _g.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return _g.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ju.fromJSON(e);return ye(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Ju._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends xc{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Bi.credential(t,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(n,e){return qs(n,"POST","/v1/accounts:signUp",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await ai._fromIdTokenResponse(e,r,i),u=t1(r);return new Kr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=t1(r);return new Kr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function t1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(n){var e;if(Rt(n.app))return Promise.reject(In(n));const t=Lt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Kr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await yP(t,{returnSecureToken:!0}),i=await Kr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends Jn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new vg(e,t,r,i)}}function _P(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(n,e){const t=Ce(n);await ty(!0,t,e);const{providerUserInfo:r}=await W3(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=vP(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function gb(n,e,t=!1){const r=await Ls(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Kr._forOperation(n,"link",r)}async function ty(n,e,t){await Yd(e);const r=vP(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";ye(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n,e,t=!1){const{auth:r}=n;if(Rt(r.app))return Promise.reject(In(r));const i="reauthenticate";try{const o=await Ls(n,_P(r,i,e,n),t);ye(o.idToken,r,"internal-error");const u=Jg(o.idToken);ye(u,r,"internal-error");const{sub:h}=u;return ye(n.uid===h,r,"user-mismatch"),Kr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e,t=!1){if(Rt(n.app))return Promise.reject(In(n));const r="signIn",i=await _P(n,r,e),o=await Kr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function ny(n,e){return bP(Lt(n),e)}async function wP(n,e){const t=Ce(n);return await ty(!1,t,e.providerId),gb(t,e)}async function TP(n,e){return EP(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(n,e){return qs(n,"POST","/v1/accounts:signInWithCustomToken",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(n,e){if(Rt(n.app))return Promise.reject(In(n));const t=Lt(n),r=await W5(t,{token:e,returnSecureToken:!0}),i=await Kr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?yb._fromServerResponse(e,t):"totpInfo"in t?_b._fromServerResponse(e,t):Rn(e,"internal-error")}}class yb extends Cf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new yb(t)}}class _b extends Cf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new _b(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(n,e,t){var r;ye(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ye(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ye(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ye(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ye(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(n){const e=Lt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y5(n,e,t){const r=Lt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&ry(r,i,t),await ka(r,i,"getOobCode",D5,"EMAIL_PASSWORD_PROVIDER")}async function X5(n,e,t){await gP(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vb(n),r})}async function J5(n,e){await x5(Ce(n),{oobCode:e})}async function SP(n,e){const t=Ce(n),r=await gP(t,{oobCode:e}),i=r.requestType;switch(ye(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(r.mfaInfo,t,"internal-error");default:ye(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Cf._fromServerResponse(Lt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Z5(n,e){const{data:t}=await SP(Ce(n),e);return t.email}async function AP(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n),u=await ka(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yP,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&vb(n),f}),h=await Kr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function IP(n,e,t){return Rt(n.app)?Promise.reject(In(n)):ny(Ce(n),no.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vb(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(n,e,t){const r=Lt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ye(h.handleCodeInApp,r,"argument-error"),h&&ry(r,u,h)}o(i,t),await ka(r,i,"getOobCode",N5,"EMAIL_PASSWORD_PROVIDER")}function t6(n,e){const t=ey.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function n6(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Ce(n),i=no.credentialWithLink(e,t||Qd());return ye(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ny(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(n,e){return Ht(n,"POST","/v1/accounts:createAuthUri",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(n,e){const t=fb()?Qd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await r6(Ce(n),r);return i||[]}async function s6(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&ry(t.auth,i,e);const{email:o}=await O5(t.auth,i);o!==n.email&&await n.reload()}async function a6(n,e,t){const r=Ce(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&ry(r.auth,o,t);const{email:u}=await k5(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(n,e){return Ht(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ls(r,o6(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function u6(n,e){const t=Ce(n);return Rt(t.auth.app)?Promise.reject(In(t.auth)):RP(t,e,null)}function c6(n,e){return RP(Ce(n),null,e)}async function RP(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Ls(n,R5(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=Jg(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new Hu(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new d6(o,i);case"github.com":return new f6(o,i);case"google.com":return new p6(o,i);case"twitter.com":return new m6(o,i,n.screenName||null);case"custom":case"anonymous":return new Hu(o,null);default:return new Hu(o,r,i)}}class Hu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class CP extends Hu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class d6 extends Hu{constructor(e,t){super(e,"facebook.com",t)}}class f6 extends CP{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class p6 extends Hu{constructor(e,t){super(e,"google.com",t)}}class m6 extends CP{constructor(e,t,r){super(e,"twitter.com",t,r)}}function g6(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:h6(t)}function y6(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function _6(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new tl("enroll",e,t)}static _fromMfaPendingCredential(e){return new tl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return tl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return tl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Lt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>Cf._fromServerResponse(r,h));ye(i.mfaPendingCredential,r,"internal-error");const u=tl._fromMfaPendingCredential(i.mfaPendingCredential);return new Eb(u,o,async h=>{const f=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const d=Object.assign(Object.assign({},i),{idToken:f.idToken,refreshToken:f.refreshToken});switch(t.operationType){case"signIn":const g=await Kr._fromIdTokenResponse(r,t.operationType,d);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ye(t.user,r,"internal-error"),Kr._forOperation(t.user,t.operationType,d);default:Rn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function v6(n,e){var t;const r=Ce(n),i=e;return ye(e.customData.operationType,r,"argument-error"),ye((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),Eb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:start",qt(n,e))}function E6(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:finalize",qt(n,e))}function b6(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(n,e))}class bb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Cf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new bb(e)}async getSession(){return tl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Ls(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ls(this.user,b6(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const p0=new WeakMap;function w6(n){const e=Ce(n);return p0.has(e)||p0.set(e,bb._fromUser(e)),p0.get(e)}const Eg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Eg,"1"),this.storage.removeItem(Eg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=1e3,S6=10;class PP extends xP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);i5()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S6):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},T6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PP.type="LOCAL";const iy=PP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP extends xP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}OP.type="SESSION";const ja=OP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new sy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async d=>d(t.origin,o)),f=await A6(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=xf("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function R6(n){ln().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function C6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function P6(){return wb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="firebaseLocalStorageDb",O6=1,bg="firebaseLocalStorage",NP="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ay(n,e){return n.transaction([bg],e?"readwrite":"readonly").objectStore(bg)}function D6(){const n=indexedDB.deleteDatabase(DP);return new Pf(n).toPromise()}function W0(){const n=indexedDB.open(DP,O6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(bg,{keyPath:NP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(bg)?e(r):(r.close(),await D6(),e(await W0()))})})}async function r1(n,e,t){const r=ay(n,!0).put({[NP]:e,value:t});return new Pf(r).toPromise()}async function N6(n,e){const t=ay(n,!1).get(e),r=await new Pf(t).toPromise();return r===void 0?null:r.value}function i1(n,e){const t=ay(n,!0).delete(e);return new Pf(t).toPromise()}const k6=800,M6=3;class kP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await W0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>M6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sy._getInstance(P6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await C6(),!this.activeServiceWorker)return;this.sender=new I6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await W0();return await r1(e,Eg,"1"),await i1(e,Eg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>r1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>N6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>i1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ay(i,!1).getAll();return new Pf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kP.type="LOCAL";const Zu=kP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,e){return Ht(n,"POST","/v2/accounts/mfaSignIn:start",qt(n,e))}function V6(n,e){return Ht(n,"POST","/v2/accounts/mfaSignIn:finalize",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=dP("rcb"),L6=new Sf(3e4,6e4);class U6{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ln().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ye(B6(t),e,"argument-error"),this.shouldResolveImmediately(t)&&KI(ln().grecaptcha)?Promise.resolve(ln().grecaptcha):new Promise((r,i)=>{const o=ln().setTimeout(()=>{i(yn(e,"network-request-failed"))},L6.get());ln()[m0]=()=>{ln().clearTimeout(o),delete ln()[m0];const h=ln().grecaptcha;if(!h||!KI(h)){i(yn(e,"internal-error"));return}const f=h.render;h.render=(d,g)=>{const _=f(d,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${h5()}?${Ac({onload:m0,render:"explicit",hl:t})}`;mb(u).catch(()=>{clearTimeout(o),i(yn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=ln().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function B6(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class F6{async load(e){return new g5(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="recaptcha",j6={theme:"light",type:"image"};let z6=class{constructor(e,t,r=Object.assign({},j6)){this.parameters=r,this.type=Od,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lt(e),this.isInvisible=this.parameters.size==="invisible",ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;ye(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new F6:new U6,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=ln()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ye(fb()&&!wb(),this.auth,"internal-error"),await q6(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await G3(this.auth);ye(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function q6(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ol._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function H6(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n),i=await oy(r,e,Ce(t));return new Tb(i,o=>ny(r,o))}async function $6(n,e,t){const r=Ce(n);await ty(!1,r,"phone");const i=await oy(r.auth,e,Ce(t));return new Tb(i,o=>wP(r,o))}async function G6(n,e,t){const r=Ce(n);if(Rt(r.auth.app))return Promise.reject(In(r.auth));const i=await oy(r.auth,e,Ce(t));return new Tb(i,o=>TP(r,o))}async function oy(n,e,t){var r;if(!n._getRecaptchaConfig())try{await w5(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){ye(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ka(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Pd){ye((t==null?void 0:t.type)===Od,g,"argument-error");const v=await g0(g,_,t);return n1(g,v)}return n1(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{ye(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;ye(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ka(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Pd){ye((t==null?void 0:t.type)===Od,_,"argument-error");const T=await g0(_,v,t);return s1(_,T)}return s1(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ka(n,o,"sendVerificationCode",async(d,g)=>{if(g.captchaResponse===Pd){ye((t==null?void 0:t.type)===Od,d,"argument-error");const _=await g0(d,g,t);return e1(d,_)}return e1(d,g)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{t==null||t._reset()}}async function K6(n,e){const t=Ce(n);if(Rt(t.auth.app))return Promise.reject(In(t.auth));await gb(t,e)}async function g0(n,e,t){ye(t.type===Od,n,"argument-error");const r=await t.verify();ye(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl=class Fm{constructor(e){this.providerId=Fm.PROVIDER_ID,this.auth=Lt(e)}verifyPhoneNumber(e,t){return oy(this.auth,e,Ce(t))}static credential(e,t){return ol._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Fm.credentialFromTaggedObject(t)}static credentialFromError(e){return Fm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?ol._fromTokenResponse(t,r):null}};hl.PROVIDER_ID="phone";hl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(n,e){return e?Ir(e):(ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends Cc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ns(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function W6(n){return bP(n.auth,new Sb(n),n.bypassAuthState)}function Q6(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),EP(t,new Sb(n),n.bypassAuthState)}async function Y6(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),gb(t,new Sb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W6;case"linkViaPopup":case"linkViaRedirect":return Y6;case"reauthViaPopup":case"reauthViaRedirect":return Q6;default:Rn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=new Sf(2e3,1e4);async function J6(n,e,t){if(Rt(n.app))return Promise.reject(yn(n,"operation-not-supported-in-this-environment"));const r=Lt(n);Rc(n,e,Hs);const i=Il(r,t);return new xs(r,"signInViaPopup",e,i).executeNotNull()}async function Z6(n,e,t){const r=Ce(n);if(Rt(r.auth.app))return Promise.reject(yn(r.auth,"operation-not-supported-in-this-environment"));Rc(r.auth,e,Hs);const i=Il(r.auth,t);return new xs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function eU(n,e,t){const r=Ce(n);Rc(r.auth,e,Hs);const i=Il(r.auth,t);return new xs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class xs extends MP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=xf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X6.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU="pendingRedirect",Dd=new Map;class nU extends MP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Dd.get(this.auth._key());if(!e){try{const r=await rU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Dd.set(this.auth._key(),e)}return this.bypassAuthState||Dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rU(n,e){const t=LP(e),r=VP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function Ab(n,e){return VP(n)._set(LP(e),"true")}function iU(){Dd.clear()}function Ib(n,e){Dd.set(n._key(),e)}function VP(n){return Ir(n._redirectPersistence)}function LP(n){return al(tU,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(n,e,t){return aU(n,e,t)}async function aU(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n);Rc(n,e,Hs),await r._initializationPromise;const i=Il(r,t);return await Ab(i,r),i._openRedirect(r,e,"signInViaRedirect")}function oU(n,e,t){return lU(n,e,t)}async function lU(n,e,t){const r=Ce(n);if(Rc(r.auth,e,Hs),Rt(r.auth.app))return Promise.reject(In(r.auth));await r.auth._initializationPromise;const i=Il(r.auth,t);await Ab(i,r.auth);const o=await UP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function uU(n,e,t){return cU(n,e,t)}async function cU(n,e,t){const r=Ce(n);Rc(r.auth,e,Hs),await r.auth._initializationPromise;const i=Il(r.auth,t);await ty(!1,r,e.providerId),await Ab(i,r.auth);const o=await UP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function hU(n,e){return await Lt(n)._initializationPromise,ly(n,e,!1)}async function ly(n,e,t=!1){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n),i=Il(r,e),u=await new nU(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function UP(n){const e=xf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=10*60*1e3;class BP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!FP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(yn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dU&&this.cachedEventUids.clear(),this.cachedEventUids.has(a1(e))}saveEventToCache(e){this.cachedEventUids.add(a1(e)),this.lastProcessedEventTime=Date.now()}}function a1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(n,e={}){return Ht(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mU=/^https?/;async function gU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await jP(n);for(const t of e)try{if(yU(t))return}catch{}Rn(n,"unauthorized-domain")}function yU(n){const e=Qd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!mU.test(t))return!1;if(pU.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new Sf(3e4,6e4);function o1(){const n=ln().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function vU(n){return new Promise((e,t)=>{var r,i,o;function u(){o1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o1(),t(yn(n,"network-request-failed"))},timeout:_U.get()})}if(!((i=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ln().gapi)===null||o===void 0)&&o.load)u();else{const h=dP("iframefcb");return ln()[h]=()=>{gapi.load?u():t(yn(n,"network-request-failed"))},mb(`${f5()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw jm=null,e})}let jm=null;function EU(n){return jm=jm||vU(n),jm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new Sf(5e3,15e3),wU="__/auth/iframe",TU="emulator/auth/iframe",SU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IU(n){const e=n.config;ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?pb(e,TU):`https://${n.config.authDomain}/${wU}`,r={apiKey:e.apiKey,appName:n.name,v:to},i=AU.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ac(r).slice(1)}`}async function RU(n){const e=await EU(n),t=ln().gapi;return ye(t,n,"internal-error"),e.open({where:document.body,url:IU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=yn(n,"network-request-failed"),h=ln().setTimeout(()=>{o(u)},bU.get());function f(){ln().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xU=500,PU=600,OU="_blank",DU="http://localhost";class l1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NU(n,e,t,r=xU,i=PU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},CU),{width:r.toString(),height:i.toString(),top:o,left:u}),d=Vt().toLowerCase();t&&(h=aP(d)?OU:t),iP(d)&&(e=e||DU,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[T,b])=>`${v}${T}=${b},`,"");if(r5(d)&&h!=="_self")return kU(e||"",h),new l1(null);const _=window.open(e||"",h,g);ye(_,n,"popup-blocked");try{_.focus()}catch{}return new l1(_)}function kU(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="__/auth/handler",VU="emulator/auth/handler",LU=encodeURIComponent("fac");async function Q0(n,e,t,r,i,o){ye(n.config.authDomain,n,"auth-domain-config-required"),ye(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:to,eventId:i};if(e instanceof Hs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",h4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof xc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${LU}=${encodeURIComponent(f)}`:"";return`${UU(n)}?${Ac(h).slice(1)}${d}`}function UU({config:n}){return n.emulator?pb(n,VU):`https://${n.authDomain}/${MU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="webStorageSupport";class BU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ja,this._completeRedirectFn=ly,this._overrideRedirectResult=Ib}async _openPopup(e,t,r,i){var o;li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Q0(e,t,r,Qd(),i);return NU(e,u,xf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await Q0(e,t,r,Qd(),i);return R6(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(li(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await RU(e),r=new BP(e);return t.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(y0,{type:y0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[y0];u!==void 0&&t(!!u),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cP()||sP()||If()}}const zP=BU;class FU{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ji("unexpected MultiFactorSessionType")}}}class Rb extends FU{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Rb(e)}_finalizeEnroll(e,t,r){return E6(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return V6(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class qP{constructor(){}static assertion(e){return Rb._fromCredential(e)}}qP.FACTOR_ID="phone";var u1="@firebase/auth",c1="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qU(n){Fa(new Wi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ye(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hP(n)},d=new u5(r,i,o,f);return S5(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fa(new Wi("auth-internal",e=>{const t=Lt(e.getProvider("auth").getImmediate());return(r=>new jU(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(u1,c1,zU(n)),oi(u1,c1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=5*60,$U=Rx("authIdTokenMaxAge")||HU;let h1=null;const GU=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>$U)return;const i=t==null?void 0:t.token;h1!==i&&(h1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KU(n=qx()){const e=Xg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=T5(n,{popupRedirectResolver:zP,persistence:[Zu,iy,ja]}),r=Rx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=GU(o.toString());_6(t,u,()=>u(t.currentUser)),y6(t,h=>u(h))}}const i=ZL("auth");return i&&pP(t,`http://${i}`),t}function WU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}c5({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=yn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",WU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qU("Browser");var d1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ma,HP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function x(){}x.prototype=R.prototype,M.D=R.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(w,O,C){for(var D=Array(arguments.length-2),se=2;se<arguments.length;se++)D[se-2]=arguments[se];return R.prototype[O].apply(w,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,R,x){x||(x=0);var w=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)w[O]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(O=0;16>O;++O)w[O]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=M.g[0],x=M.g[1],O=M.g[2];var C=M.g[3],D=R+(C^x&(O^C))+w[0]+3614090360&4294967295;R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+w[1]+3905402710&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+w[2]+606105819&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+w[3]+3250441966&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(C^x&(O^C))+w[4]+4118548399&4294967295,R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+w[5]+1200080426&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+w[6]+2821735955&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+w[7]+4249261313&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(C^x&(O^C))+w[8]+1770035416&4294967295,R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+w[9]+2336552879&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+w[10]+4294925233&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+w[11]+2304563134&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(C^x&(O^C))+w[12]+1804603682&4294967295,R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+w[13]+4254626195&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+w[14]+2792965006&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+w[15]+1236535329&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(O^C&(x^O))+w[1]+4129170786&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+w[6]+3225465664&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+w[11]+643717713&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+w[0]+3921069994&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(x^O))+w[5]+3593408605&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+w[10]+38016083&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+w[15]+3634488961&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+w[4]+3889429448&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(x^O))+w[9]+568446438&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+w[14]+3275163606&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+w[3]+4107603335&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+w[8]+1163531501&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(x^O))+w[13]+2850285829&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+w[2]+4243563512&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+w[7]+1735328473&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+w[12]+2368359562&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(x^O^C)+w[5]+4294588738&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+w[8]+2272392833&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+w[11]+1839030562&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+w[14]+4259657740&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(x^O^C)+w[1]+2763975236&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+w[4]+1272893353&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+w[7]+4139469664&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+w[10]+3200236656&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(x^O^C)+w[13]+681279174&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+w[0]+3936430074&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+w[3]+3572445317&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+w[6]+76029189&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(x^O^C)+w[9]+3654602809&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+w[12]+3873151461&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+w[15]+530742520&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+w[2]+3299628645&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(O^(x|~C))+w[0]+4096336452&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+w[7]+1126891415&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+w[14]+2878612391&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+w[5]+4237533241&4294967295,x=O+(D<<21&4294967295|D>>>11),D=R+(O^(x|~C))+w[12]+1700485571&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+w[3]+2399980690&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+w[10]+4293915773&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+w[1]+2240044497&4294967295,x=O+(D<<21&4294967295|D>>>11),D=R+(O^(x|~C))+w[8]+1873313359&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+w[15]+4264355552&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+w[6]+2734768916&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+w[13]+1309151649&4294967295,x=O+(D<<21&4294967295|D>>>11),D=R+(O^(x|~C))+w[4]+4149444226&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+w[11]+3174756917&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+w[2]+718787259&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+w[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+C&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var x=R-this.blockSize,w=this.B,O=this.h,C=0;C<R;){if(O==0)for(;C<=x;)i(this,M,C),C+=this.blockSize;if(typeof M=="string"){for(;C<R;)if(w[O++]=M.charCodeAt(C++),O==this.blockSize){i(this,w),O=0;break}}else for(;C<R;)if(w[O++]=M[C++],O==this.blockSize){i(this,w),O=0;break}}this.h=O,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var x=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=x&255,x/=256;for(this.u(M),M=Array(16),R=x=0;4>R;++R)for(var w=0;32>w;w+=8)M[x++]=this.g[R]>>>w&255;return M};function o(M,R){var x=h;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=R(M)}function u(M,R){this.h=R;for(var x=[],w=!0,O=M.length-1;0<=O;O--){var C=M[O]|0;w&&C==R||(x[O]=C,w=!1)}this.g=x}var h={};function f(M){return-128<=M&&128>M?o(M,function(R){return new u([R|0],0>R?-1:0)}):new u([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return P(d(-M));for(var R=[],x=1,w=0;M>=x;w++)R[w]=M/x|0,x*=4294967296;return new u(R,0)}function g(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return P(g(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=d(Math.pow(R,8)),w=_,O=0;O<M.length;O+=8){var C=Math.min(8,M.length-O),D=parseInt(M.substring(O,O+C),R);8>C?(C=d(Math.pow(R,C)),w=w.j(C).add(d(D))):(w=w.j(x),w=w.add(d(D)))}return w}var _=f(0),v=f(1),T=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-P(this).m();for(var M=0,R=1,x=0;x<this.g.length;x++){var w=this.i(x);M+=(0<=w?w:4294967296+w)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(b(this))return"0";if(A(this))return"-"+P(this).toString(M);for(var R=d(Math.pow(M,6)),x=this,w="";;){var O=H(x,R).g;x=L(x,O.j(R));var C=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=O,b(x))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function b(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function A(M){return M.h==-1}n.l=function(M){return M=L(this,M),A(M)?-1:b(M)?0:1};function P(M){for(var R=M.g.length,x=[],w=0;w<R;w++)x[w]=~M.g[w];return new u(x,~M.h).add(v)}n.abs=function(){return A(this)?P(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],w=0,O=0;O<=R;O++){var C=w+(this.i(O)&65535)+(M.i(O)&65535),D=(C>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);w=D>>>16,C&=65535,D&=65535,x[O]=D<<16|C}return new u(x,x[x.length-1]&-2147483648?-1:0)};function L(M,R){return M.add(P(R))}n.j=function(M){if(b(this)||b(M))return _;if(A(this))return A(M)?P(this).j(P(M)):P(P(this).j(M));if(A(M))return P(this.j(P(M)));if(0>this.l(T)&&0>M.l(T))return d(this.m()*M.m());for(var R=this.g.length+M.g.length,x=[],w=0;w<2*R;w++)x[w]=0;for(w=0;w<this.g.length;w++)for(var O=0;O<M.g.length;O++){var C=this.i(w)>>>16,D=this.i(w)&65535,se=M.i(O)>>>16,F=M.i(O)&65535;x[2*w+2*O]+=D*F,U(x,2*w+2*O),x[2*w+2*O+1]+=C*F,U(x,2*w+2*O+1),x[2*w+2*O+1]+=D*se,U(x,2*w+2*O+1),x[2*w+2*O+2]+=C*se,U(x,2*w+2*O+2)}for(w=0;w<R;w++)x[w]=x[2*w+1]<<16|x[2*w];for(w=R;w<2*R;w++)x[w]=0;return new u(x,0)};function U(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function V(M,R){this.g=M,this.h=R}function H(M,R){if(b(R))throw Error("division by zero");if(b(M))return new V(_,_);if(A(M))return R=H(P(M),R),new V(P(R.g),P(R.h));if(A(R))return R=H(M,P(R)),new V(P(R.g),R.h);if(30<M.g.length){if(A(M)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var x=v,w=R;0>=w.l(M);)x=j(x),w=j(w);var O=K(x,1),C=K(w,1);for(w=K(w,2),x=K(x,2);!b(w);){var D=C.add(w);0>=D.l(M)&&(O=O.add(x),C=D),w=K(w,1),x=K(x,1)}return R=L(M,O.j(R)),new V(O,R)}for(O=_;0<=M.l(R);){for(x=Math.max(1,Math.floor(M.m()/R.m())),w=Math.ceil(Math.log(x)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=d(x),D=C.j(R);A(D)||0<D.l(M);)x-=w,C=d(x),D=C.j(R);b(C)&&(C=v),O=O.add(C),M=L(M,D)}return new V(O,M)}n.A=function(M){return H(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],w=0;w<R;w++)x[w]=this.i(w)&M.i(w);return new u(x,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],w=0;w<R;w++)x[w]=this.i(w)|M.i(w);return new u(x,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],w=0;w<R;w++)x[w]=this.i(w)^M.i(w);return new u(x,this.h^M.h)};function j(M){for(var R=M.g.length+1,x=[],w=0;w<R;w++)x[w]=M.i(w)<<1|M.i(w-1)>>>31;return new u(x,M.h)}function K(M,R){var x=R>>5;R%=32;for(var w=M.g.length-x,O=[],C=0;C<w;C++)O[C]=0<R?M.i(C+x)>>>R|M.i(C+x+1)<<32-R:M.i(C+x);return new u(O,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HP=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Ma=u}).apply(typeof d1<"u"?d1:typeof self<"u"?self:typeof window<"u"?window:{});var wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $P,bd,GP,zm,Y0,KP,WP,QP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof wm=="object"&&wm];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var k=0;k<p.length-1;k++){var Y=p[k];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],k=S[p],E=E(k),E!=k&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,k=!1,Y={next:function(){if(!k&&S<p.length){var ae=S++;return{value:E(ae,p[ae]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function d(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function b(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(k,Y,ae){for(var _e=Array(arguments.length-2),We=2;We<arguments.length;We++)_e[We-2]=arguments[We];return E.prototype[Y].apply(k,_e)}}function A(p){const E=p.length;if(0<E){const S=Array(E);for(let k=0;k<E;k++)S[k]=p[k];return S}return[]}function P(p,E){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(f(k)){const Y=p.length||0,ae=k.length||0;p.length=Y+ae;for(let _e=0;_e<ae;_e++)p[Y+_e]=k[_e]}else p.push(k)}}class L{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function U(p){return/^[\s\xa0]*$/.test(p)}function V(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var j=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function K(p,E,S){for(const k in p)E.call(S,p[k],k,p)}function M(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function R(p){const E={};for(const S in p)E[S]=p[S];return E}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(p,E){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)p[S]=k[S];for(let ae=0;ae<x.length;ae++)S=x[ae],Object.prototype.hasOwnProperty.call(k,S)&&(p[S]=k[S])}}function O(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function C(p){h.setTimeout(()=>{throw p},0)}function D(){var p=be;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class se{constructor(){this.h=this.g=null}add(E,S){const k=F.get();k.set(E,S),this.h?this.h.next=k:this.g=k,this.h=k}}var F=new L(()=>new $,p=>p.reset());class ${constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let J,le=!1,be=new se,q=()=>{const p=h.Promise.resolve(void 0);J=()=>{p.then(re)}};var re=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(S){C(S)}var E=F;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}le=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function ke(p,E){if(me.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(j){e:{try{H(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:xe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}b(ke,me);var xe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var $t="closure_listenable_"+(1e6*Math.random()|0),rt=0;function Pr(p,E,S,k,Y){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!k,this.ha=Y,this.key=++rt,this.da=this.fa=!1}function ci(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Or(p){this.src=p,this.g={},this.h=0}Or.prototype.add=function(p,E,S,k,Y){var ae=p.toString();p=this.g[ae],p||(p=this.g[ae]=[],this.h++);var _e=Ln(p,E,k,Y);return-1<_e?(E=p[_e],S||(E.fa=!1)):(E=new Pr(E,this.src,ae,!!k,Y),E.fa=S,p.push(E)),E};function dr(p,E){var S=E.type;if(S in p.g){var k=p.g[S],Y=Array.prototype.indexOf.call(k,E,void 0),ae;(ae=0<=Y)&&Array.prototype.splice.call(k,Y,1),ae&&(ci(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Ln(p,E,S,k){for(var Y=0;Y<p.length;++Y){var ae=p[Y];if(!ae.da&&ae.listener==E&&ae.capture==!!S&&ae.ha==k)return Y}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),lo={};function Ol(p,E,S,k,Y){if(Array.isArray(E)){for(var ae=0;ae<E.length;ae++)Ol(p,E[ae],S,k,Y);return null}return S=Yr(S),p&&p[$t]?p.K(E,S,d(k)?!!k.capture:!1,Y):tr(p,E,S,!1,k,Y)}function tr(p,E,S,k,Y,ae){if(!E)throw Error("Invalid event type");var _e=d(Y)?!!Y.capture:!!Y,We=wt(p);if(We||(p[Qr]=We=new Or(p)),S=We.add(E,S,k,_e,ae),S.proxy)return S;if(k=jc(),S.proxy=k,k.src=p,k.listener=S,p.addEventListener)Te||(Y=_e),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),k,Y);else if(p.attachEvent)p.attachEvent(Fe(E.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function jc(){function p(S){return E.call(p.src,p.listener,S)}const E=_t;return p}function uo(p,E,S,k,Y){if(Array.isArray(E))for(var ae=0;ae<E.length;ae++)uo(p,E[ae],S,k,Y);else k=d(k)?!!k.capture:!!k,S=Yr(S),p&&p[$t]?(p=p.i,E=String(E).toString(),E in p.g&&(ae=p.g[E],S=Ln(ae,S,k,Y),-1<S&&(ci(ae[S]),Array.prototype.splice.call(ae,S,1),ae.length==0&&(delete p.g[E],p.h--)))):p&&(p=wt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Ln(E,S,k,Y)),(S=-1<p?E[p]:null)&&ts(S))}function ts(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[$t])dr(E.i,p);else{var S=p.type,k=p.proxy;E.removeEventListener?E.removeEventListener(S,k,p.capture):E.detachEvent?E.detachEvent(Fe(S),k):E.addListener&&E.removeListener&&E.removeListener(k),(S=wt(E))?(dr(S,p),S.h==0&&(S.src=null,E[Qr]=null)):ci(p)}}}function Fe(p){return p in lo?lo[p]:lo[p]="on"+p}function _t(p,E){if(p.da)p=!0;else{E=new ke(E,this);var S=p.listener,k=p.ha||p.src;p.fa&&ts(p),p=S.call(k,E)}return p}function wt(p){return p=p[Qr],p instanceof Or?p:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yr(p){return typeof p=="function"?p:(p[hi]||(p[hi]=function(E){return p.handleEvent(E)}),p[hi])}function st(){ge.call(this),this.i=new Or(this),this.M=this,this.F=null}b(st,ge),st.prototype[$t]=!0,st.prototype.removeEventListener=function(p,E,S,k){uo(this,p,E,S,k)};function Ue(p,E){var S,k=p.F;if(k)for(S=[];k;k=k.F)S.push(k);if(p=p.M,k=E.type||E,typeof E=="string")E=new me(E,p);else if(E instanceof me)E.target=E.target||p;else{var Y=E;E=new me(k,p),w(E,Y)}if(Y=!0,S)for(var ae=S.length-1;0<=ae;ae--){var _e=E.g=S[ae];Y=Gt(_e,k,!0,E)&&Y}if(_e=E.g=p,Y=Gt(_e,k,!0,E)&&Y,Y=Gt(_e,k,!1,E)&&Y,S)for(ae=0;ae<S.length;ae++)_e=E.g=S[ae],Y=Gt(_e,k,!1,E)&&Y}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],k=0;k<S.length;k++)ci(S[k]);delete p.g[E],p.h--}}this.F=null},st.prototype.K=function(p,E,S,k){return this.i.add(String(p),E,!1,S,k)},st.prototype.L=function(p,E,S,k){return this.i.add(String(p),E,!0,S,k)};function Gt(p,E,S,k){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,ae=0;ae<E.length;++ae){var _e=E[ae];if(_e&&!_e.da&&_e.capture==S){var We=_e.listener,fn=_e.ha||_e.src;_e.fa&&dr(p.i,_e),Y=We.call(fn,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function en(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function Jf(p){p.g=en(()=>{p.g=null,p.i&&(p.i=!1,Jf(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class n_ extends ge{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Jf(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(p){ge.call(this),this.h=p,this.g={}}b(co,ge);var ho=[];function fo(p){K(p.g,function(E,S){this.g.hasOwnProperty(S)&&ts(E)},p),p.g={}}co.prototype.N=function(){co.aa.N.call(this),fo(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xr=h.JSON.stringify,Dl=h.JSON.parse,po=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function zc(){}zc.prototype.h=null;function qc(p){return p.h||(p.h=p.i())}function Hc(){}var ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rs(){me.call(this,"d")}b(rs,me);function $c(){me.call(this,"c")}b($c,me);var di={},Gc=null;function Qs(){return Gc=Gc||new st}di.La="serverreachability";function Nl(p){me.call(this,di.La,p)}b(Nl,me);function Ys(p){const E=Qs();Ue(E,new Nl(E))}di.STAT_EVENT="statevent";function Zf(p,E){me.call(this,di.STAT_EVENT,p),this.stat=E}b(Zf,me);function Tt(p){const E=Qs();Ue(E,new Zf(E,p))}di.Ma="timingevent";function dn(p,E){me.call(this,di.Ma,p),this.size=E}b(dn,me);function tn(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function Dr(){this.g=!0}Dr.prototype.xa=function(){this.g=!1};function Kc(p,E,S,k,Y,ae){p.info(function(){if(p.g)if(ae)for(var _e="",We=ae.split("&"),fn=0;fn<We.length;fn++){var Qe=We[fn].split("=");if(1<Qe.length){var En=Qe[0];Qe=Qe[1];var pn=En.split("_");_e=2<=pn.length&&pn[1]=="type"?_e+(En+"="+Qe+"&"):_e+(En+"=redacted&")}}else _e=null;else _e=ae;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+E+`
`+S+`
`+_e})}function r_(p,E,S,k,Y,ae,_e){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+E+`
`+S+`
`+ae+" "+_e})}function Xs(p,E,S,k){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+mo(p,S)+(k?" "+k:"")})}function ep(p,E){p.info(function(){return"TIMEOUT: "+E})}Dr.prototype.info=function(){};function mo(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var k=S[p];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var ae=Y[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var _e=1;_e<Y.length;_e++)Y[_e]=""}}}}return Xr(S)}catch{return E}}var Js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},is={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fi;function pi(){}b(pi,zc),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},fi=new pi;function Gn(p,E,S,k){this.j=p,this.i=E,this.l=S,this.R=k||1,this.U=new co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var Wc={},kl={};function Jr(p,E,S){p.L=1,p.v=Eo(fr(E)),p.m=S,p.P=!0,ss(p,null)}function ss(p,E){p.F=Date.now(),go(p),p.A=fr(p.v);var S=p.A,k=p.R;Array.isArray(k)||(k=[String(k)]),eh(S.i,"t",k),p.C=0,S=p.j.J,p.h=new Kt,p.g=gp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new n_(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,k=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ho[0]=Y.toString()),Y=ho);for(var ae=0;ae<Y.length;ae++){var _e=Ol(S,Y[ae],k||E.handleEvent,!1,E.h||E);if(!_e)break;E.g[_e.key]=_e}E=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Ys(),Kc(p.i,p.u,p.A,p.l,p.R,p.m)}Gn.prototype.ca=function(p){p=p.target;const E=this.M;E&&Vr(p)==3?E.j():this.Y(p)},Gn.prototype.Y=function(p){try{if(p==this.g)e:{const pn=Vr(this.g);var E=this.g.Ba();const fs=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||lp(this.g)))){this.J||pn!=4||E==7||(E==8||0>=fs?Ys(3):Ys(2)),Zs(this);var S=this.g.Z();this.X=S;t:if(tp(this)){var k=lp(this.g);p="";var Y=k.length,ae=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),mi(this);var _e="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(k[E],{stream:!(ae&&E==Y-1)});k.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,r_(this.i,this.u,this.A,this.l,this.R,pn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,fn=this.g;if((We=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(We)){var Qe=We;break t}}Qe=null}if(S=Qe)Xs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yo(this,S);else{this.o=!1,this.s=3,Tt(12),Cn(this),mi(this);break e}}if(this.P){S=!0;let xn;for(;!this.J&&this.C<_e.length;)if(xn=np(this,_e),xn==kl){pn==4&&(this.s=4,Tt(14),S=!1),Xs(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Wc){this.s=4,Tt(15),Xs(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else Xs(this.i,this.l,xn,null),yo(this,xn);if(tp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||_e.length!=0||this.h.h||(this.s=1,Tt(16),S=!1),this.o=this.o&&S,!S)Xs(this.i,this.l,_e,"[Invalid Chunked Response]"),Cn(this),mi(this);else if(0<_e.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Co(En),En.M=!0,Tt(11))}}else Xs(this.i,this.l,_e,null),yo(this,_e);pn==4&&Cn(this),this.o&&!this.J&&(pn==4?fp(this.j,this):(this.o=!1,go(this)))}else l_(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Cn(this),mi(this)}}}catch{}finally{}};function tp(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function np(p,E){var S=p.C,k=E.indexOf(`
`,S);return k==-1?kl:(S=Number(E.substring(S,k)),isNaN(S)?Wc:(k+=1,k+S>E.length?kl:(E=E.slice(k,k+S),p.C=k+S,E)))}Gn.prototype.cancel=function(){this.J=!0,Cn(this)};function go(p){p.S=Date.now()+p.I,rp(p,p.I)}function rp(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=tn(v(p.ba,p),E)}function Zs(p){p.B&&(h.clearTimeout(p.B),p.B=null)}Gn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ep(this.i,this.A),this.L!=2&&(Ys(),Tt(17)),Cn(this),this.s=2,mi(this)):rp(this,this.S-p)};function mi(p){p.j.G==0||p.J||fp(p.j,p)}function Cn(p){Zs(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,fo(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function yo(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||Qc(S.h,p))){if(!p.K&&Qc(S.h,p)&&S.G==3){try{var k=S.Da.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Gl(S),Hl(S);else break e;sh(S),Tt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=tn(v(S.Za,S),6e3));if(1>=Vl(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ds(S,11)}else if((p.K||S.g==p)&&Gl(S),!U(E))for(Y=S.Da.g.parse(E),E=0;E<Y.length;E++){let Qe=Y[E];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const En=Qe[3];En!=null&&(S.la=En,S.j.info("VER="+S.la));const pn=Qe[4];pn!=null&&(S.Aa=pn,S.j.info("SVER="+S.Aa));const fs=Qe[5];fs!=null&&typeof fs=="number"&&0<fs&&(k=1.5*fs,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const xn=p.g;if(xn){const wi=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var ae=k.h;ae.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Ll(ae,ae.h),ae.h=null))}if(k.D){const oh=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;oh&&(k.ya=oh,ct(k.I,k.D,oh))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var _e=p;if(k.qa=mp(k,k.J?k.ia:null,k.W),_e.K){Kn(k.h,_e);var We=_e,fn=k.L;fn&&(We.I=fn),We.B&&(Zs(We),go(We)),k.g=_e}else hp(k);0<S.i.length&&$l(S)}else Qe[0]!="stop"&&Qe[0]!="close"||ds(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ds(S,7):rh(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}Ys(4)}catch{}}var ip=class{constructor(p,E){this.g=p,this.map=E}};function as(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ml(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Vl(p){return p.h?1:p.g?p.g.size:0}function Qc(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Ll(p,E){p.g?p.g.add(E):p.h=E}function Kn(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}as.prototype.cancel=function(){if(this.i=Yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Yc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return A(p.i)}function i_(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var E=[],S=p.length,k=0;k<S;k++)E.push(p[k]);return E}E=[],S=0;for(k in p)E[S++]=p[k];return E}function Ul(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const k in p)E[S++]=k;return E}}}function Xc(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=Ul(p),k=i_(p),Y=k.length,ae=0;ae<Y;ae++)E.call(void 0,k[ae],S&&S[ae],p)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function s_(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var k=p[S].indexOf("="),Y=null;if(0<=k){var ae=p[S].substring(0,k);Y=p[S].substring(k+1)}else ae=p[S];E(ae,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function nn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof nn){this.h=p.h,vo(this,p.j),this.o=p.o,this.g=p.g,ea(this,p.s),this.l=p.l;var E=p.i,S=new ls;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),os(this,S),this.m=p.m}else p&&(E=String(p).match(_o))?(this.h=!1,vo(this,E[1]||"",!0),this.o=Nr(E[2]||""),this.g=Nr(E[3]||"",!0),ea(this,E[4]),this.l=Nr(E[5]||"",!0),os(this,E[6]||"",!0),this.m=Nr(E[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}nn.prototype.toString=function(){var p=[],E=this.j;E&&p.push(bo(E,Jc,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(bo(E,Jc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(bo(S,S.charAt(0)=="/"?a_:Zc,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",bo(S,Bl)),p.join("")};function fr(p){return new nn(p)}function vo(p,E,S){p.j=S?Nr(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function ea(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function os(p,E,S){E instanceof ls?(p.i=E,ap(p.i,p.h)):(S||(E=bo(E,o_)),p.i=new ls(E,p.h))}function ct(p,E,S){p.i.set(E,S)}function Eo(p){return ct(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Nr(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function bo(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,sp),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function sp(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Jc=/[#\/\?@]/g,Zc=/[#\?:]/g,a_=/[#\?]/g,o_=/[#\?@]/g,Bl=/#/g;function ls(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function kr(p){p.g||(p.g=new Map,p.h=0,p.i&&s_(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=ls.prototype,n.add=function(p,E){kr(this),this.i=null,p=gi(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function us(p,E){kr(p),E=gi(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function cs(p,E){return kr(p),E=gi(p,E),p.g.has(E)}n.forEach=function(p,E){kr(this),this.g.forEach(function(S,k){S.forEach(function(Y){p.call(E,Y,k,this)},this)},this)},n.na=function(){kr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let k=0;k<E.length;k++){const Y=p[k];for(let ae=0;ae<Y.length;ae++)S.push(E[k])}return S},n.V=function(p){kr(this);let E=[];if(typeof p=="string")cs(this,p)&&(E=E.concat(this.g.get(gi(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return kr(this),this.i=null,p=gi(this,p),cs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function eh(p,E,S){us(p,E),0<S.length&&(p.i=null,p.g.set(gi(p,E),A(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var k=E[S];const ae=encodeURIComponent(String(k)),_e=this.V(k);for(k=0;k<_e.length;k++){var Y=ae;_e[k]!==""&&(Y+="="+encodeURIComponent(String(_e[k]))),p.push(Y)}}return this.i=p.join("&")};function gi(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function ap(p,E){E&&!p.j&&(kr(p),p.i=null,p.g.forEach(function(S,k){var Y=k.toLowerCase();k!=Y&&(us(this,k),eh(this,Y,S))},p)),p.j=E}function wo(p,E){const S=new Dr;if(h.Image){const k=new Image;k.onload=T(Mr,S,"TestLoadImage: loaded",!0,E,k),k.onerror=T(Mr,S,"TestLoadImage: error",!1,E,k),k.onabort=T(Mr,S,"TestLoadImage: abort",!1,E,k),k.ontimeout=T(Mr,S,"TestLoadImage: timeout",!1,E,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else E(!1)}function Zr(p,E){const S=new Dr,k=new AbortController,Y=setTimeout(()=>{k.abort(),Mr(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:k.signal}).then(ae=>{clearTimeout(Y),ae.ok?Mr(S,"TestPingServer: ok",!0,E):Mr(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),Mr(S,"TestPingServer: error",!1,E)})}function Mr(p,E,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function To(){this.g=new po}function yi(p,E,S){const k=S||"";try{Xc(p,function(Y,ae){let _e=Y;d(Y)&&(_e=Xr(Y)),E.push(k+ae+"="+encodeURIComponent(_e))})}catch(Y){throw E.push(k+"type="+encodeURIComponent("_badmap")),Y}}function ta(p){this.l=p.Ub||null,this.j=p.eb||!1}b(ta,zc),ta.prototype.g=function(){return new hs(this.l,this.j)},ta.prototype.i=function(p){return function(){return p}}({});function hs(p,E){st.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(hs,st),n=hs.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,vi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;th(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function th(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?_i(this):vi(this),this.readyState==3&&th(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,_i(this))},n.Qa=function(p){this.g&&(this.response=p,_i(this))},n.ga=function(){this.g&&_i(this)};function _i(p){p.readyState=4,p.l=null,p.j=null,p.v=null,vi(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function vi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function nh(p){let E="";return K(p,function(S,k){E+=k,E+=":",E+=S,E+=`\r
`}),E}function vn(p,E,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=nh(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):ct(p,E,S))}function it(p){st.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(it,st);var Fl=/^https?$/i,So=["POST","PUT"];n=it.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?qc(this.o):qc(fi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ae){op(this,ae);return}if(p=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ae of k.keys())S.set(ae,k.get(ae));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(ae=>ae.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(So,E,void 0))||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,_e]of S)this.g.setRequestHeader(ae,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ao(this),this.u=!0,this.g.send(p),this.u=!1}catch(ae){op(this,ae)}};function op(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,jl(p),Ei(p)}function jl(p){p.A||(p.A=!0,Ue(p,"complete"),Ue(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ue(this,"complete"),Ue(this,"abort"),Ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?zl(this):this.bb())},n.bb=function(){zl(this)};function zl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Vr(p)!=4||p.Z()!=2)){if(p.u&&Vr(p)==4)en(p.Ea,0,p);else if(Ue(p,"readystatechange"),Vr(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var k;if(k=_e===0){var Y=String(p.D).match(_o)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),k=!Fl.test(Y?Y.toLowerCase():"")}S=k}if(S)Ue(p,"complete"),Ue(p,"success");else{p.m=6;try{var ae=2<Vr(p)?p.g.statusText:""}catch{ae=""}p.l=ae+" ["+p.Z()+"]",jl(p)}}finally{Ei(p)}}}}function Ei(p,E){if(p.g){Ao(p);const S=p.g,k=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||Ue(p,"ready");try{S.onreadystatechange=k}catch{}}}function Ao(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Vr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Dl(E)}};function lp(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function l_(p){const E={};p=(p.g&&2<=Vr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(U(p[k]))continue;var S=O(p[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ae=E[Y]||[];E[Y]=ae,ae.push(S)}M(E,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Io(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function ql(p){this.Aa=0,this.i=[],this.j=new Dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Io("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Io("baseRetryDelayMs",5e3,p),this.cb=Io("retryDelaySeedMs",1e4,p),this.Wa=Io("forwardChannelMaxRetries",2,p),this.wa=Io("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new as(p&&p.concurrentRequestLimit),this.Da=new To,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ql.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,k){Tt(0),this.W=p,this.H=E||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=mp(this,null,this.W),$l(this)};function rh(p){if(up(p),p.G==3){var E=p.U++,S=fr(p.I);if(ct(S,"SID",p.K),ct(S,"RID",E),ct(S,"TYPE","terminate"),Ro(p,S),E=new Gn(p,p.j,E),E.L=2,E.v=Eo(fr(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=gp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),go(E)}pp(p)}function Hl(p){p.g&&(Co(p),p.g.cancel(),p.g=null)}function up(p){Hl(p),p.u&&(h.clearTimeout(p.u),p.u=null),Gl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function $l(p){if(!Ml(p.h)&&!p.s){p.s=!0;var E=p.Ga;J||q(),le||(J(),le=!0),be.add(E,p),p.B=0}}function u_(p,E){return Vl(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=tn(v(p.Ga,p,E),ah(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new Gn(this,this.j,p);let ae=this.o;if(this.S&&(ae?(ae=R(ae),w(ae,this.S)):ae=this.S),this.m!==null||this.O||(Y.H=ae,ae=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=cp(this,Y,E),S=fr(this.I),ct(S,"RID",p),ct(S,"CVER",22),this.D&&ct(S,"X-HTTP-Session-Id",this.D),Ro(this,S),ae&&(this.O?E="headers="+encodeURIComponent(String(nh(ae)))+"&"+E:this.m&&vn(S,this.m,ae)),Ll(this.h,Y),this.Ua&&ct(S,"TYPE","init"),this.P?(ct(S,"$req",E),ct(S,"SID","null"),Y.T=!0,Jr(Y,S,null)):Jr(Y,S,E),this.G=2}}else this.G==3&&(p?ih(this,p):this.i.length==0||Ml(this.h)||ih(this))};function ih(p,E){var S;E?S=E.l:S=p.U++;const k=fr(p.I);ct(k,"SID",p.K),ct(k,"RID",S),ct(k,"AID",p.T),Ro(p,k),p.m&&p.o&&vn(k,p.m,p.o),S=new Gn(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=cp(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ll(p.h,S),Jr(S,k,E)}function Ro(p,E){p.H&&K(p.H,function(S,k){ct(E,k,S)}),p.l&&Xc({},function(S,k){ct(E,k,S)})}function cp(p,E,S){S=Math.min(p.i.length,S);var k=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let ae=-1;for(;;){const _e=["count="+S];ae==-1?0<S?(ae=Y[0].g,_e.push("ofs="+ae)):ae=0:_e.push("ofs="+ae);let We=!0;for(let fn=0;fn<S;fn++){let Qe=Y[fn].g;const En=Y[fn].map;if(Qe-=ae,0>Qe)ae=Math.max(0,Y[fn].g-100),We=!1;else try{yi(En,_e,"req"+Qe+"_")}catch{k&&k(En)}}if(We){k=_e.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,k}function hp(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;J||q(),le||(J(),le=!0),be.add(E,p),p.v=0}}function sh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=tn(v(p.Fa,p),ah(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,dp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=tn(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Hl(this),dp(this))};function Co(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function dp(p){p.g=new Gn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=fr(p.qa);ct(E,"RID","rpc"),ct(E,"SID",p.K),ct(E,"AID",p.T),ct(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&ct(E,"TO",p.ja),ct(E,"TYPE","xmlhttp"),Ro(p,E),p.m&&p.o&&vn(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=Eo(fr(E)),S.m=null,S.P=!0,ss(S,p)}n.Za=function(){this.C!=null&&(this.C=null,Hl(this),sh(this),Tt(19))};function Gl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function fp(p,E){var S=null;if(p.g==E){Gl(p),Co(p),p.g=null;var k=2}else if(Qc(p.h,E))S=E.D,Kn(p.h,E),k=1;else return;if(p.G!=0){if(E.o)if(k==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;k=Qs(),Ue(k,new dn(k,S)),$l(p)}else hp(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(k==1&&u_(p,E)||k==2&&sh(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Y){case 1:ds(p,5);break;case 4:ds(p,10);break;case 3:ds(p,6);break;default:ds(p,2)}}}function ah(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function ds(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),k=p.Xa;const Y=!k;k=new nn(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||vo(k,"https"),Eo(k),Y?wo(k.toString(),S):Zr(k.toString(),S)}else Tt(2);p.G=0,p.l&&p.l.sa(E),pp(p),up(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function pp(p){if(p.G=0,p.ka=[],p.l){const E=Yc(p.h);(E.length!=0||p.i.length!=0)&&(P(p.ka,E),P(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function mp(p,E,S){var k=S instanceof nn?fr(S):new nn(S);if(k.g!="")E&&(k.g=E+"."+k.g),ea(k,k.s);else{var Y=h.location;k=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var ae=new nn(null);k&&vo(ae,k),E&&(ae.g=E),Y&&ea(ae,Y),S&&(ae.l=S),k=ae}return S=p.D,E=p.ya,S&&E&&ct(k,S,E),ct(k,"VER",p.la),Ro(p,k),k}function gp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new it(new ta({eb:S})):new it(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yp(){}n=yp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Kl(){}Kl.prototype.g=function(p,E){return new Wn(p,E)};function Wn(p,E){st.call(this),this.g=new ql(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!U(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!U(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new bi(this)}b(Wn,st),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){rh(this.g)},Wn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=Xr(p),p=S);E.i.push(new ip(E.Ya++,p)),E.G==3&&$l(E)},Wn.prototype.N=function(){this.g.l=null,delete this.j,rh(this.g),delete this.g,Wn.aa.N.call(this)};function _p(p){rs.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}b(_p,rs);function vp(){$c.call(this),this.status=1}b(vp,$c);function bi(p){this.g=p}b(bi,yp),bi.prototype.ua=function(){Ue(this.g,"a")},bi.prototype.ta=function(p){Ue(this.g,new _p(p))},bi.prototype.sa=function(p){Ue(this.g,new vp)},bi.prototype.ra=function(){Ue(this.g,"b")},Kl.prototype.createWebChannel=Kl.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,QP=function(){return new Kl},WP=function(){return Qs()},KP=di,Y0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,zm=Js,is.COMPLETE="complete",GP=is,Hc.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",st.prototype.listen=st.prototype.K,bd=Hc,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,$P=it}).apply(typeof wm<"u"?wm:typeof self<"u"?self:typeof window<"u"?window:{});const f1="@firebase/firestore",p1="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Yg("@firebase/firestore");function ku(){return za.logLevel}function QU(n){za.setLogLevel(n)}function pe(n,...e){if(za.logLevel<=He.DEBUG){const t=e.map(Cb);za.debug(`Firestore (${Pc}): ${n}`,...t)}}function Yt(n,...e){if(za.logLevel<=He.ERROR){const t=e.map(Cb);za.error(`Firestore (${Pc}): ${n}`,...t)}}function Yi(n,...e){if(za.logLevel<=He.WARN){const t=e.map(Cb);za.warn(`Firestore (${Pc}): ${n}`,...t)}}function Cb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,YP(n,r,t)}function YP(n,e,t){let r=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Yt(r),new Error(r)}function Ae(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||YP(e,i,r)}function YU(n,e){n||we(57014,e)}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Jn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class JU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ZU{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new XP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class eB{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tB{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new eB(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nB{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new m1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new m1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function X0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return De(r,i);{const o=xb(),u=iB(o.encode(g1(n,t)),o.encode(g1(e,t)));return u!==0?u:De(r,i)}}t+=r>65535?2:1}return De(n.length,e.length)}function g1(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function iB(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}function ec(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function ZP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=-62135596800,_1=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*_1);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<y1)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_1}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-y1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Pt(0,0))}static max(){return new Ie(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="__name__";class Di{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&we(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Di.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return De(e.length,t.length)}static compareSegments(e,t){const r=Di.isNumericId(e),i=Di.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Di.extractNumericId(e).compare(Di.extractNumericId(t)):X0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ma.fromString(e.substring(4,e.length-2))}}class $e extends Di{construct(e,t,r){return new $e(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new $e(t)}static emptyPath(){return new $e([])}}const sB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Di{construct(e,t,r){return new Ct(e,t,r)}static isValidIdentifier(e){return sB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v1}static keyField(){return new Ct([v1])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(t)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve($e.fromString(e))}static fromName(e){return new ve($e.fromString(e).popFirst(5))}static empty(){return new ve($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;class wg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function J0(n){return n.fields.find(e=>e.kind===2)}function Wo(n){return n.fields.filter(e=>e.kind!==2)}wg.UNKNOWN_ID=-1;class qm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Jd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Jd(0,xr.min())}}function eO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new xr(i,ve.empty(),e)}function tO(n){return new xr(n.readTime,n.key,tc)}class xr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xr(Ie.min(),ve.empty(),tc)}static max(){return new xr(Ie.max(),ve.empty(),tc)}}function Pb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==nO)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},f=>r(f))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next(g=>{u[d]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="SimpleDb";class uy{static open(e,t,r,i){try{return new uy(t,e.transaction(i,r))}catch(o){throw new Nd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Vn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Nd(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Ob(r.target.error);this.S.reject(new Nd(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(Tr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new oB(t)}}class Hi{static delete(e){return pe(Tr,"Removing database:",e),Yo(ib().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Gd())return!1;if(Hi.F())return!0;const e=Vt(),t=Hi.M(e),r=0<t&&t<10,i=iO(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.B=r,this.L=null,Hi.M(Vt())===12.2&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(pe(Tr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new Nd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new fe(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new fe(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Nd(e,u))},i.onupgradeneeded=o=>{pe(Tr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${u.version}`);this.B.q(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(Tr,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const r=t.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.k(e);const h=uy.open(this.db,e,o?"readonly":"readwrite",r),f=i(h).next(d=>(h.v(),d)).catch(d=>(h.abort(d),X.reject(d))).toPromise();return f.catch(()=>{}),await h.D,f}catch(h){const f=h,d=f.name!=="FirebaseError"&&u<3;if(pe(Tr,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function iO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class aB{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Yo(this.K.delete())}}class Nd extends fe{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function io(n){return n.name==="IndexedDbTransactionError"}class oB{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(Tr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(Tr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yo(r)}add(e){return pe(Tr,"ADD",this.store.name,e,e),Yo(this.store.add(e))}get(e){return Yo(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(Tr,"GET",this.store.name,e,t),t))}delete(e){return pe(Tr,"DELETE",this.store.name,e),Yo(this.store.delete(e))}count(){return pe(Tr,"COUNT",this.store.name),Yo(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=f=>{h(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}{const o=this.cursor(r),u=[];return this.Y(o,(h,f)=>{u.push(f)}).next(()=>u)}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}X(e,t){pe(Tr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.ee=!1;const i=this.cursor(r);return this.Y(i,(o,u,h)=>h.delete())}te(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Y(i,t)}ne(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=Ob(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Y(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const f=new aB(h),d=t(h.primaryKey,h.value,f);if(d instanceof X){const g=d.catch(_=>(f.done(),X.reject(_)));r.push(g)}f.isDone?i():f.j===null?h.continue():h.continue(f.j)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yo(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Ob(r.target.error);t(i)}})}let E1=!1;function Ob(n){const e=Hi.M(Vt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return E1||(E1=!0,setTimeout(()=>{throw r},0)),r}}return n}const kd="IndexBackfiller";class lB{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){pe(kd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();pe(kd,`Documents written: ${t}`)}catch(t){io(t)?pe(kd,"Ignoring IndexedDB error during index backfill: ",t):await ro(t)}await this.ie(6e4)})}}class uB{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(kd,`Processing collection: ${u}`),this._e(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}_e(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ae(i,o)).next(h=>(pe(kd,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ae(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=tO(o);Pb(u,r)>0&&(r=u)}),new xr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ar.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=-1;function Of(n){return n==null}function Zd(n){return n===0&&1/n==-1/0}function sO(n){return typeof n=="number"&&Number.isInteger(n)&&!Zd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="";function Hn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=b1(e)),e=cB(n.get(t),e);return b1(e)}function cB(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case Tg:t+="";break;default:t+=o}}return t}function b1(n){return n+Tg+""}function zi(n){const e=n.length;if(Ae(e>=2,64408,{path:n}),e===2)return Ae(n.charAt(0)===Tg&&n.charAt(1)==="",56145,{path:n}),$e.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(Tg,o);switch((u<0||u>t)&&we(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let f;i.length===0?f=h:(i+=h,f=i,i=""),r.push(f);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:we(61167,{path:n})}o=u+2}return new $e(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="remoteDocuments",Df="owner",Tu="owner",ef="mutationQueues",hB="userId",ii="mutations",w1="batchId",nl="userMutationsIndex",T1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(n,e){return[n,Hn(e)]}function aO(n,e,t){return[n,Hn(e),t]}const dB={},nc="documentMutations",Sg="remoteDocumentsV14",fB=["prefixPath","collectionGroup","readTime","documentId"],$m="documentKeyIndex",pB=["prefixPath","collectionGroup","documentId"],oO="collectionGroupIndex",mB=["collectionGroup","readTime","prefixPath","documentId"],tf="remoteDocumentGlobal",Z0="remoteDocumentGlobalKey",rc="targets",lO="queryTargetsIndex",gB=["canonicalId","targetId"],ic="targetDocuments",yB=["targetId","path"],Db="documentTargetsIndex",_B=["path","targetId"],Ag="targetGlobalKey",ll="targetGlobal",nf="collectionParents",vB=["collectionId","parent"],sc="clientMetadata",EB="clientId",cy="bundles",bB="bundleId",hy="namedQueries",wB="name",Nb="indexConfiguration",TB="indexId",eE="collectionGroupIndex",SB="collectionGroup",Md="indexState",AB=["indexId","uid"],uO="sequenceNumberIndex",IB=["uid","sequenceNumber"],Vd="indexEntries",RB=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cO="documentKeyIndex",CB=["indexId","uid","orderedDocumentKey"],dy="documentOverlays",xB=["userId","collectionPath","documentId"],tE="collectionPathOverlayIndex",PB=["userId","collectionPath","largestBatchId"],hO="collectionGroupOverlayIndex",OB=["userId","collectionGroup","largestBatchId"],kb="globals",DB="name",dO=[ef,ii,nc,Qo,rc,Df,ll,ic,sc,tf,nf,cy,hy],NB=[...dO,dy],fO=[ef,ii,nc,Sg,rc,Df,ll,ic,sc,tf,nf,cy,hy,dy],pO=fO,Mb=[...pO,Nb,Md,Vd],kB=Mb,mO=[...Mb,kb],MB=mO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE extends rO{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function _n(n,e){const t=Ee(n);return Hi.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function so(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||Nn.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tm(this.root,e,this.comparator,!0)}}class Tm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Nn.RED,this.left=i??Nn.EMPTY,this.right=o??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Nn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new A1(this.data.getIterator())}getIteratorFrom(e){return new A1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ut(this.comparator);return t.data=e,t}}class A1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Su(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new or([])}unionWith(e){let t=new ut(Ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yO("Invalid base64 string: "+o):o}}(e);return new zt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const LB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(Ae(!!n,39018),typeof n=="string"){let e=0;const t=LB.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bs(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="server_timestamp",vO="__type__",EO="__previous_value__",bO="__local_write_time__";function fy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vO])===null||t===void 0?void 0:t.stringValue)===_O}function py(n){const e=n.mapValue.fields[EO];return fy(e)?py(e):e}function rf(n){const e=Us(n.mapValue.fields[bO].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,t,r,i,o,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const rE="(default)";class qa{constructor(e,t){this.projectId=e,this.database=t||rE}static empty(){return new qa("","")}get isDefaultDatabase(){return this.database===rE}isEqual(e){return e instanceof qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="__type__",wO="__max__",Pa={mapValue:{fields:{__type__:{stringValue:wO}}}},Lb="__vector__",ac="value",Gm={nullValue:"NULL_VALUE"};function Ha(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fy(n)?4:TO(n)?9007199254740991:my(n)?10:11:we(28295,{value:n})}function Xi(n,e){if(n===e)return!0;const t=Ha(n);if(t!==Ha(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rf(n).isEqual(rf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Us(i.timestampValue),h=Us(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Bs(i.bytesValue).isEqual(Bs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return It(i.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return It(i.integerValue)===It(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=It(i.doubleValue),h=It(o.doubleValue);return u===h?Zd(u)===Zd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ec(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(S1(u)!==S1(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Xi(u[f],h[f])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function sf(n,e){return(n.values||[]).find(t=>Xi(t,e))!==void 0}function $a(n,e){if(n===e)return 0;const t=Ha(n),r=Ha(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=It(o.integerValue||o.doubleValue),f=It(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return I1(n.timestampValue,e.timestampValue);case 4:return I1(rf(n),rf(e));case 5:return X0(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Bs(o),f=Bs(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=De(h[d],f[d]);if(g!==0)return g}return De(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=De(It(o.latitude),It(u.latitude));return h!==0?h:De(It(o.longitude),It(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return R1(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,d,g;const _=o.fields||{},v=u.fields||{},T=(h=_[ac])===null||h===void 0?void 0:h.arrayValue,b=(f=v[ac])===null||f===void 0?void 0:f.arrayValue,A=De(((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0,((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:R1(T,b)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Pa.mapValue&&u===Pa.mapValue)return 0;if(o===Pa.mapValue)return 1;if(u===Pa.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const v=X0(f[_],g[_]);if(v!==0)return v;const T=$a(h[f[_]],d[g[_]]);if(T!==0)return T}return De(f.length,g.length)}(n.mapValue,e.mapValue);default:throw we(23264,{Pe:t})}}function I1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Us(n),r=Us(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function R1(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=$a(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function oc(n){return iE(n)}function iE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Us(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Bs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=iE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${iE(t.fields[u])}`;return i+"}"}(n.mapValue):we(61005,{value:n})}function Km(n){switch(Ha(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=py(n);return e?16+Km(e):16;case 5:return 2*n.stringValue.length;case 6:return Bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Km(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return so(r.fields,(o,u)=>{i+=o.length+Km(u)}),i}(n.mapValue);default:throw we(13486,{value:n})}}function dl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sE(n){return!!n&&"integerValue"in n}function af(n){return!!n&&"arrayValue"in n}function C1(n){return!!n&&"nullValue"in n}function x1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wm(n){return!!n&&"mapValue"in n}function my(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vb])===null||t===void 0?void 0:t.stringValue)===Lb}function Ld(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return so(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ld(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ld(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wO}const SO={mapValue:{fields:{[Vb]:{stringValue:Lb},[ac]:{arrayValue:{}}}}};function BB(n){return"nullValue"in n?Gm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?dl(qa.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?my(n)?SO:{mapValue:{}}:we(35942,{value:n})}function FB(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?dl(qa.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?SO:"mapValue"in n?my(n)?{mapValue:{}}:Pa:we(61959,{value:n})}function P1(n,e){const t=$a(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function O1(n,e){const t=$a(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ld(t)}setAll(e){let t=Ct.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Ld(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Wm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Wm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){so(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Mn(Ld(this.value))}}function AO(n){const e=[];return so(n.fields,(t,r)=>{const i=new Ct([t]);if(Wm(r)){const o=AO(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new bt(e,0,Ie.min(),Ie.min(),Ie.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,i){return new bt(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new bt(e,2,t,Ie.min(),Ie.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new bt(e,3,t,Ie.min(),Ie.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t){this.position=e,this.inclusive=t}}function D1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),t.key):r=$a(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function N1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t="asc"){this.field=e,this.dir=t}}function jB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{}class Ge extends IO{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new zB(e,t,r):t==="array-contains"?new $B(e,r):t==="in"?new DO(e,r):t==="not-in"?new GB(e,r):t==="array-contains-any"?new KB(e,r):new Ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new qB(e,r):new HB(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($a(t,this.value)):t!==null&&Ha(this.value)===Ha(t)&&this.matchesComparison($a(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends IO{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new lt(e,t)}matches(e){return lc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lc(n){return n.op==="and"}function aE(n){return n.op==="or"}function Ub(n){return RO(n)&&lc(n)}function RO(n){for(const e of n.filters)if(e instanceof lt)return!1;return!0}function oE(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+oc(n.value);if(Ub(n))return n.filters.map(e=>oE(e)).join(",");{const e=n.filters.map(t=>oE(t)).join(",");return`${n.op}(${e})`}}function CO(n,e){return n instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Xi(r.value,i.value)}(n,e):n instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&CO(u,i.filters[h]),!0):!1}(n,e):void we(19439)}function xO(n,e){const t=n.filters.concat(e);return lt.create(t,n.op)}function PO(n){return n instanceof Ge?function(t){return`${t.field.canonicalString()} ${t.op} ${oc(t.value)}`}(n):n instanceof lt?function(t){return t.op.toString()+" {"+t.getFilters().map(PO).join(" ,")+"}"}(n):"Filter"}class zB extends Ge{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class qB extends Ge{constructor(e,t){super(e,"in",t),this.keys=OO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HB extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=OO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OO(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class $B extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return af(t)&&sf(t.arrayValue,this.value)}}class DO extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sf(this.value.arrayValue,t)}}class GB extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sf(this.value.arrayValue,t)}}class KB extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!af(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function lE(n,e=null,t=[],r=[],i=null,o=null,u=null){return new WB(n,e,t,r,i,o,u)}function fl(n){const e=Ee(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>oE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oc(r)).join(",")),e.Ie=t}return e.Ie}function Nf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!N1(n.startAt,e.startAt)&&N1(n.endAt,e.endAt)}function Ig(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Rg(n,e){return n.filters.filter(t=>t instanceof Ge&&t.field.isEqual(e))}function k1(n,e,t){let r=Gm,i=!0;for(const o of Rg(n,e)){let u=Gm,h=!0;switch(o.op){case"<":case"<=":u=BB(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Gm}P1({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];P1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function M1(n,e,t){let r=Pa,i=!0;for(const o of Rg(n,e)){let u=Pa,h=!0;switch(o.op){case">=":case">":u=FB(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Pa}O1({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];O1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function NO(n,e,t,r,i,o,u,h){return new $s(n,e,t,r,i,o,u,h)}function Oc(n){return new $s(n)}function V1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Bb(n){return n.collectionGroup!==null}function $u(n){const e=Ee(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ut(Ct.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(h=h.add(d.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new of(o,r))}),t.has(Ct.keyField().canonicalString())||e.Ee.push(new of(Ct.keyField(),r))}return e.Ee}function Zn(n){const e=Ee(n);return e.de||(e.de=QB(e,$u(n))),e.de}function QB(n,e){if(n.limitType==="F")return lE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new of(i.field,o)});const t=n.endAt?new Ga(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ga(n.startAt.position,n.startAt.inclusive):null;return lE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function uE(n,e){const t=n.filters.concat([e]);return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Cg(n,e,t){return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kf(n,e){return Nf(Zn(n),Zn(e))&&n.limitType===e.limitType}function kO(n){return`${fl(Zn(n))}|lt:${n.limitType}`}function Mu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>PO(i)).join(", ")}]`),Of(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>oc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>oc(i)).join(",")),`Target(${r})`}(Zn(n))}; limitType=${n.limitType})`}function Mf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of $u(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,f){const d=D1(u,h,f);return u.inclusive?d<=0:d<0}(r.startAt,$u(r),i)||r.endAt&&!function(u,h,f){const d=D1(u,h,f);return u.inclusive?d>=0:d>0}(r.endAt,$u(r),i))}(n,e)}function MO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VO(n){return(e,t)=>{let r=!1;for(const i of $u(n)){const o=YB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function YB(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?$a(f,d):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return gO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB=new Et(ve.comparator);function lr(){return XB}const LO=new Et(ve.comparator);function wd(...n){let e=LO;for(const t of n)e=e.insert(t.key,t);return e}function UO(n){let e=LO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qi(){return Ud()}function BO(){return Ud()}function Ud(){return new Gs(n=>n.toString(),(n,e)=>n.isEqual(e))}const JB=new Et(ve.comparator),ZB=new ut(ve.comparator);function Ve(...n){let e=ZB;for(const t of n)e=e.add(t);return e}const e9=new ut(De);function Fb(){return e9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function FO(n){return{integerValue:""+n}}function jO(n,e){return sO(e)?FO(e):jb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this._=void 0}}function t9(n,e,t){return n instanceof uc?function(i,o){const u={fields:{[vO]:{stringValue:_O},[bO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fy(o)&&(o=py(o)),o&&(u.fields[EO]=o),{mapValue:u}}(t,e):n instanceof pl?qO(n,e):n instanceof ml?HO(n,e):function(i,o){const u=zO(i,o),h=L1(u)+L1(i.Re);return sE(u)&&sE(i.Re)?FO(h):jb(i.serializer,h)}(n,e)}function n9(n,e,t){return n instanceof pl?qO(n,e):n instanceof ml?HO(n,e):t}function zO(n,e){return n instanceof cc?function(r){return sE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class uc extends gy{}class pl extends gy{constructor(e){super(),this.elements=e}}function qO(n,e){const t=$O(e);for(const r of n.elements)t.some(i=>Xi(i,r))||t.push(r);return{arrayValue:{values:t}}}class ml extends gy{constructor(e){super(),this.elements=e}}function HO(n,e){let t=$O(e);for(const r of n.elements)t=t.filter(i=>!Xi(i,r));return{arrayValue:{values:t}}}class cc extends gy{constructor(e,t){super(),this.serializer=e,this.Re=t}}function L1(n){return It(n.integerValue||n.doubleValue)}function $O(n){return af(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t){this.field=e,this.transform=t}}function r9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof pl&&i instanceof pl||r instanceof ml&&i instanceof ml?ec(r.elements,i.elements,Xi):r instanceof cc&&i instanceof cc?Xi(r.Re,i.Re):r instanceof uc&&i instanceof uc}(n.transform,e.transform)}class i9{constructor(e,t){this.version=e,this.transformResults=t}}class xt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xt}static exists(e){return new xt(void 0,e)}static updateTime(e){return new xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class yy{}function GO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nc(n.key,xt.none()):new Dc(n.key,n.data,xt.none());{const t=n.data,r=Mn.empty();let i=new ut(Ct.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Ks(n.key,r,new or(i.toArray()),xt.none())}}function s9(n,e,t){n instanceof Dc?function(i,o,u){const h=i.value.clone(),f=B1(i.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ks?function(i,o,u){if(!Qm(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=B1(i.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(KO(i)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Bd(n,e,t,r){return n instanceof Dc?function(o,u,h,f){if(!Qm(o.precondition,u))return h;const d=o.value.clone(),g=F1(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ks?function(o,u,h,f){if(!Qm(o.precondition,u))return h;const d=F1(o.fieldTransforms,f,u),g=u.data;return g.setAll(KO(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return Qm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function a9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=zO(r.transform,i||null);o!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,o))}return t||null}function U1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ec(r,i,(o,u)=>r9(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dc extends yy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ks extends yy{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function B1(n,e,t){const r=new Map;Ae(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,n9(u,h,t[i]))}return r}function F1(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,t9(o,u,e))}return r}class Nc extends yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zb extends yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&s9(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=BO();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const f=GO(u,h);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(t,r)=>U1(t,r))&&ec(this.baseMutations,e.baseMutations,(t,r)=>U1(t,r))}}class Hb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return JB}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Hb(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,Xe;function WO(n){switch(n){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function QO(n){if(n===void 0)return Yt("GRPC error has no .code"),ie.UNKNOWN;switch(n){case on.OK:return ie.OK;case on.CANCELLED:return ie.CANCELLED;case on.UNKNOWN:return ie.UNKNOWN;case on.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case on.INTERNAL:return ie.INTERNAL;case on.UNAVAILABLE:return ie.UNAVAILABLE;case on.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case on.NOT_FOUND:return ie.NOT_FOUND;case on.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case on.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case on.ABORTED:return ie.ABORTED;case on.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case on.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case on.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:n})}}(Xe=on||(on={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=new Ma([4294967295,4294967295],0);function j1(n){const e=xb().encode(n),t=new HP;return t.update(e),new Uint8Array(t.digest())}function z1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ma([t,r],0),new Ma([i,o],0)]}class Gb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Td(`Invalid padding: ${t}`);if(r<0)throw new Td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Td(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Td(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ma.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Ma.fromNumber(r)));return i.compare(l9)===1&&(i=new Ma([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=j1(e),[r,i]=z1(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);if(!this.Se(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Gb(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=j1(e),[r,i]=z1(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Lf(Ie.min(),i,new Et(De),lr(),Ve())}}class Uf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Uf(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class YO{constructor(e,t){this.targetId=e,this.Ce=t}}class XO{constructor(e,t,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class q1{constructor(){this.Fe=0,this.Me=H1(),this.xe=zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),r=Ve();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we(38017,{changeType:o})}}),new Uf(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=H1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class u9{constructor(e){this.ze=e,this.je=new Map,this.He=lr(),this.Je=Sm(),this.Ye=Sm(),this.Ze=new Et(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(Ig(o))if(r===0){const u=new ve(o.path);this.tt(t,u,bt.newNoDocument(u,Ie.min()))}else Ae(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Bs(r).toUint8Array()}catch(f){if(f instanceof yO)return Yi("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Gb(u,i,o)}catch(f){return Yi(f instanceof Td?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&Ig(h.target)){const f=new ve(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,bt.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=Ve();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const i=new Lf(e,t,this.Ze,this.He,r);return this.He=lr(),this.Je=Sm(),this.Ye=Sm(),this.Ze=new Et(De),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new q1,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ut(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ut(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new q1),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Sm(){return new Et(ve.comparator)}function H1(){return new Et(ve.comparator)}const c9={asc:"ASCENDING",desc:"DESCENDING"},h9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d9={and:"AND",or:"OR"};class f9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cE(n,e){return n.useProto3Json||Of(e)?e:{value:e}}function hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function p9(n,e){return hc(n,e.toTimestamp())}function Xt(n){return Ae(!!n,49232),Ie.fromTimestamp(function(t){const r=Us(t);return new Pt(r.seconds,r.nanos)}(n))}function Kb(n,e){return hE(n,e).canonicalString()}function hE(n,e){const t=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ZO(n){const e=$e.fromString(n);return Ae(u2(e),10190,{key:e.toString()}),e}function lf(n,e){return Kb(n.databaseId,e.path)}function $i(n,e){const t=ZO(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(n2(t))}function e2(n,e){return Kb(n.databaseId,e)}function t2(n){const e=ZO(n);return e.length===4?$e.emptyPath():n2(e)}function dE(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function n2(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $1(n,e,t){return{name:lf(n,e),fields:t.value.mapValue.fields}}function r2(n,e,t){const r=$i(n,e.name),i=Xt(e.updateTime),o=e.createTime?Xt(e.createTime):Ie.min(),u=new Mn({mapValue:{fields:e.fields}}),h=bt.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function m9(n,e){return"found"in e?function(r,i){Ae(!!i.found,43571),i.found.name,i.found.updateTime;const o=$i(r,i.found.name),u=Xt(i.found.updateTime),h=i.found.createTime?Xt(i.found.createTime):Ie.min(),f=new Mn({mapValue:{fields:i.found.fields}});return bt.newFoundDocument(o,u,h,f)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing,3894),Ae(!!i.readTime,22933);const o=$i(r,i.missing),u=Xt(i.readTime);return bt.newNoDocument(o,u)}(n,e):we(7234,{result:e})}function g9(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:we(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(Ae(g===void 0||typeof g=="string",58123),zt.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),zt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(d){const g=d.code===void 0?ie.UNKNOWN:QO(d.code);return new fe(g,d.message||"")}(u);t=new XO(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$i(n,r.document.name),o=Xt(r.document.updateTime),u=r.document.createTime?Xt(r.document.createTime):Ie.min(),h=new Mn({mapValue:{fields:r.document.fields}}),f=bt.newFoundDocument(i,o,u,h),d=r.targetIds||[],g=r.removedTargetIds||[];t=new Ym(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$i(n,r.document),o=r.readTime?Xt(r.readTime):Ie.min(),u=bt.newNoDocument(i,o),h=r.removedTargetIds||[];t=new Ym([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$i(n,r.document),o=r.removedTargetIds||[];t=new Ym([],o,i,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new o9(i,o),h=r.targetId;t=new YO(h,u)}}return t}function uf(n,e){let t;if(e instanceof Dc)t={update:$1(n,e.key,e.value)};else if(e instanceof Nc)t={delete:lf(n,e.key)};else if(e instanceof Ks)t={update:$1(n,e.key,e.data),updateMask:w9(e.fieldMask)};else{if(!(e instanceof zb))return we(16599,{ft:e.type});t={verify:lf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof uc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof pl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ml)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof cc)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw we(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:p9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we(27497)}(n,e.precondition)),t}function fE(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?xt.updateTime(Xt(o.updateTime)):o.exists!==void 0?xt.exists(o.exists):xt.none()}(e.currentDocument):xt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let f=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new uc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];f=new pl(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];f=new ml(g)}else"increment"in h?f=new cc(u,h.increment):we(16584,{proto:h});const d=Ct.fromServerFormat(h.fieldPath);return new Vf(d,f)}(n,i)):[];if(e.update){e.update.name;const i=$i(n,e.update.name),o=new Mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(f){const d=f.fieldPaths||[];return new or(d.map(g=>Ct.fromServerFormat(g)))}(e.updateMask);return new Ks(i,o,u,t,r)}return new Dc(i,o,t,r)}if(e.delete){const i=$i(n,e.delete);return new Nc(i,t)}if(e.verify){const i=$i(n,e.verify);return new zb(i,t)}return we(1463,{proto:e})}function y9(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map(t=>function(i,o){let u=i.updateTime?Xt(i.updateTime):Xt(o);return u.isEqual(Ie.min())&&(u=Xt(o)),new i9(u,i.transformResults||[])}(t,e))):[]}function i2(n,e){return{documents:[e2(n,e.path)]}}function s2(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=e2(n,i);const o=function(d){if(d.length!==0)return l2(lt.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:Vu(v.field),direction:v9(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=cE(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function a2(n){let e=t2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=o2(_);return v instanceof lt&&Ub(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(b){return new of(Lu(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,Of(v)?null:v}(t.limit));let f=null;t.startAt&&(f=function(_){const v=!!_.before,T=_.values||[];return new Ga(T,v)}(t.startAt));let d=null;return t.endAt&&(d=function(_){const v=!_.before,T=_.values||[];return new Ga(T,v)}(t.endAt)),NO(e,i,u,o,h,"F",f,d)}function _9(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function o2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Lu(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lu(t.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lu(t.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Lu(t.unaryFilter.field);return Ge.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ge.create(Lu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return lt.create(t.compositeFilter.filters.map(r=>o2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function v9(n){return c9[n]}function E9(n){return h9[n]}function b9(n){return d9[n]}function Vu(n){return{fieldPath:n.canonicalString()}}function Lu(n){return Ct.fromServerFormat(n.fieldPath)}function l2(n){return n instanceof Ge?function(t){if(t.op==="=="){if(x1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NAN"}};if(C1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(x1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NOT_NAN"}};if(C1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(t.field),op:E9(t.op),value:t.value}}}(n):n instanceof lt?function(t){const r=t.getFilters().map(i=>l2(i));return r.length===1?r[0]:{compositeFilter:{op:b9(t.op),filters:r}}}(n):we(54877,{filter:n})}function w9(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,r,i,o=Ie.min(),u=Ie.min(),h=zt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.wt=e}}function T9(n,e){let t;if(e.document)t=r2(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=yl(e.noDocument.readTime);t=bt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=yl(e.unknownDocument.version);t=bt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Pt(i[0],i[1]);return Ie.fromTimestamp(o)}(e.readTime)),t}function G1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:xg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:lf(o,u.key),fields:u.data.value.mapValue.fields,updateTime:hc(o,u.version.toTimestamp()),createTime:hc(o,u.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:gl(e.version)};else{if(!e.isUnknownDocument())return we(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:gl(e.version)}}return r}function xg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function gl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yl(n){const e=new Pt(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function Xo(n,e){const t=(e.baseMutations||[]).map(o=>fE(n.wt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>fE(n.wt,o)),i=Pt.fromMillis(e.localWriteTimeMs);return new qb(e.batchId,i,t,r)}function Sd(n){const e=yl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?yl(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){const u=o.documents.length;return Ae(u===1,1966,{count:u}),Zn(Oc(t2(o.documents[0])))}(n.query):function(o){return Zn(a2(o))}(n.query),new Ps(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,zt.fromBase64String(n.resumeToken))}function h2(n,e){const t=gl(e.snapshotVersion),r=gl(e.lastLimboFreeSnapshotVersion);let i;i=Ig(e.target)?i2(n.wt,e.target):s2(n.wt,e.target).gt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Wb(n){const e=a2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Cg(e,e.limit,"L"):e}function _0(n,e){return new $b(e.largestBatchId,fE(n.wt,e.overlayMutation))}function K1(n,e){const t=e.path.lastSegment();return[n,Hn(e.path.popLast()),t]}function W1(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:gl(r.readTime),documentKey:Hn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{getBundleMetadata(e,t){return Q1(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:yl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return Q1(e).put(function(i){return{bundleId:i.id,createTime:gl(Xt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return Y1(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Wb(o.bundledQuery),readTime:yl(o.readTime)}}(r)})}saveNamedQuery(e,t){return Y1(e).put(function(i){return{name:i.name,readTime:gl(Xt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function Q1(n){return _n(n,cy)}function Y1(n){return _n(n,hy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t){this.serializer=e,this.userId=t}static St(e,t){const r=t.uid||"";return new _y(e,r)}getOverlay(e,t){return Zh(e).get(K1(this.userId,t)).next(r=>r?_0(this.serializer,r):null)}getOverlays(e,t){const r=qi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new $b(t,u);i.push(this.bt(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Hn(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Zh(e).X(tE,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=qi(),o=Hn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Zh(e).J(tE,u).next(h=>{for(const f of h){const d=_0(this.serializer,f);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=qi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zh(e).te({index:hO,range:h},(f,d,g)=>{const _=_0(this.serializer,d);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}bt(e,t){return Zh(e).put(function(i,o,u){const[h,f,d]=K1(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:uf(i.wt,u.mutation)}}(this.serializer,this.userId,t))}}function Zh(n){return _n(n,dy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{Dt(e){return _n(e,kb)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?zt.fromUint8Array(r):zt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(It(e.integerValue));else if("doubleValue"in e){const r=It(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Zd(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Us(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Bs(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?TO(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):my(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):we(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;const o=e.fields||{};this.Mt(t,53);const u=ac,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(It(h)),this.Nt(u,t),this.Ct(o[u],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ve.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Jo.Wt=new Jo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=255;function I9(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function X1(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=I9(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class R9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.zt(r.value),r=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Yt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const i=t.codePointAt(0);this.zt(240|i>>>18),this.zt(128|63&i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i)}}this.jt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Yt()}en(e){const t=this.tn(e),r=X1(t);this.nn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}rn(e){const t=this.tn(e),r=X1(t);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}sn(){this._n(Au),this._n(255)}an(){this.un(Au),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===Au?(this._n(Au),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===Au?(this.un(Au),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class C9{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class x9{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class ed{constructor(){this.ln=new R9,this.hn=new C9(this.ln),this.Pn=new x9(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t,r,i){this.In=e,this.En=t,this.dn=r,this.An=i}Rn(){const e=this.An.length,t=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.An,0),t!==e?r.set([0],this.An.length):++r[r.length-1],new Zo(this.In,this.En,this.dn,r)}Vn(e,t,r){return{indexId:this.In,uid:e,arrayValue:Xm(this.dn),directionalValue:Xm(this.An),orderedDocumentKey:Xm(t),documentKey:r.path.toArray()}}mn(e,t,r){const i=this.Vn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Sa(n,e){let t=n.In-e.In;return t!==0?t:(t=J1(n.dn,e.dn),t!==0?t:(t=J1(n.An,e.An),t!==0?t:ve.comparator(n.En,e.En)))}function J1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Xm(n){return kx()?function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r}(n):n}function Z1(n){return typeof n!="string"?n:function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(n)}class eR{constructor(e){this.fn=new ut((t,r)=>Ct.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const t of e.filters){const r=t;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(Ae(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const t=J0(e);if(t!==void 0&&!this.Sn(t))return!1;const r=Wo(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.Sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.fn.size>0){const h=this.fn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const f=r[o];if(!this.bn(h,f)||!this.Dn(this.gn[u++],f))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.gn.length||!this.Dn(this.gn[u++],h))return!1}return!0}vn(){if(this.yn)return null;let e=new ut(Ct.comparator);const t=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new qm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new qm(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new qm(r.field,r.dir==="asc"?0:1)));return new wg(wg.UNKNOWN_ID,this.collectionId,t,Jd.empty())}Sn(e){for(const t of this.pn)if(this.bn(t,e))return!0;return!1}bn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}Dn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(n){var e,t;if(Ae(n instanceof Ge||n instanceof lt,20012),n instanceof Ge){if(n instanceof DO){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Ge.create(n.field,"==",o)))||[];return lt.create(i,"or")}return n}const r=n.filters.map(i=>d2(i));return lt.create(r,n.op)}function P9(n){if(n.getFilters().length===0)return[];const e=gE(d2(n));return Ae(f2(e),7391),pE(e)||mE(e)?[e]:e.getFilters()}function pE(n){return n instanceof Ge}function mE(n){return n instanceof lt&&Ub(n)}function f2(n){return pE(n)||mE(n)||function(t){if(t instanceof lt&&aE(t)){for(const r of t.getFilters())if(!pE(r)&&!mE(r))return!1;return!0}return!1}(n)}function gE(n){if(Ae(n instanceof Ge||n instanceof lt,34018),n instanceof Ge)return n;if(n.filters.length===1)return gE(n.filters[0]);const e=n.filters.map(r=>gE(r));let t=lt.create(e,n.op);return t=Pg(t),f2(t)?t:(Ae(t instanceof lt,64498),Ae(lc(t),40251),Ae(t.filters.length>1,57927),t.filters.reduce((r,i)=>Qb(r,i)))}function Qb(n,e){let t;return Ae(n instanceof Ge||n instanceof lt,38388),Ae(e instanceof Ge||e instanceof lt,25473),t=n instanceof Ge?e instanceof Ge?function(i,o){return lt.create([i,o],"and")}(n,e):tR(n,e):e instanceof Ge?tR(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0,48005),lc(i)&&lc(o))return xO(i,o.getFilters());const u=aE(i)?i:o,h=aE(i)?o:i,f=u.filters.map(d=>Qb(d,h));return lt.create(f,"or")}(n,e),Pg(t)}function tR(n,e){if(lc(e))return xO(e,n.getFilters());{const t=e.filters.map(r=>Qb(n,r));return lt.create(t,"or")}}function Pg(n){if(Ae(n instanceof Ge||n instanceof lt,11850),n instanceof Ge)return n;const e=n.getFilters();if(e.length===1)return Pg(e[0]);if(RO(n))return n;const t=e.map(i=>Pg(i)),r=[];return t.forEach(i=>{i instanceof Ge?r.push(i):i instanceof lt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:lt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.Cn=new Yb}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(xr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Yb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ut($e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="IndexedDbIndexManager",Am=new Uint8Array(0);class D9{constructor(e,t){this.databaseId=t,this.Fn=new Yb,this.Mn=new Gs(r=>fl(r),(r,i)=>Nf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Fn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Fn.add(t)});const o={collectionId:r,parent:Hn(i)};return rR(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[ZP(t),""],!1,!0);return rR(e).J(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(zi(u.parent))}return r})}addFieldIndex(e,t){const r=td(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=Ru(e);return o.next(h=>{u.put(W1(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=td(e),i=Ru(e),o=Iu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=td(e),r=Iu(e),i=Ru(e);return t.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,t){return X.forEach(this.xn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new eR(r).vn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Iu(e);let i=!0;const o=new Map;return X.forEach(this.xn(t),u=>this.On(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Ve();const h=[];return X.forEach(o,(f,d)=>{pe(nR,`Using index ${function(V){return`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(H=>`${H.fieldPath}:${H.kind}`).join(",")}`}(f)} to execute ${fl(t)}`);const g=function(V,H){const j=J0(H);if(j===void 0)return null;for(const K of Rg(V,j.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null}(d,f),_=function(V,H){const j=new Map;for(const K of Wo(H))for(const M of Rg(V,K.fieldPath))switch(M.op){case"==":case"in":j.set(K.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return j.set(K.fieldPath.canonicalString(),M.value),Array.from(j.values())}return null}(d,f),v=function(V,H){const j=[];let K=!0;for(const M of Wo(H)){const R=M.kind===0?k1(V,M.fieldPath,V.startAt):M1(V,M.fieldPath,V.startAt);j.push(R.value),K&&(K=R.inclusive)}return new Ga(j,K)}(d,f),T=function(V,H){const j=[];let K=!0;for(const M of Wo(H)){const R=M.kind===0?M1(V,M.fieldPath,V.endAt):k1(V,M.fieldPath,V.endAt);j.push(R.value),K&&(K=R.inclusive)}return new Ga(j,K)}(d,f),b=this.Nn(f,d,v),A=this.Nn(f,d,T),P=this.Bn(f,d,_),L=this.Ln(f.indexId,g,b,v.inclusive,A,T.inclusive,P);return X.forEach(L,U=>r.Z(U,t.limit).next(V=>{V.forEach(H=>{const j=ve.fromSegments(H.documentKey);u.has(j)||(u=u.add(j),h.push(j))})}))}).next(()=>h)}return X.resolve(null)})}xn(e){let t=this.Mn.get(e);return t||(e.filters.length===0?t=[e]:t=P9(lt.create(e.filters,"and")).map(r=>lE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,t),t)}Ln(e,t,r,i,o,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),d=f/(t!=null?t.length:1),g=[];for(let _=0;_<f;++_){const v=t?this.kn(t[_/d]):Am,T=this.qn(e,v,r[_%d],i),b=this.Qn(e,v,o[_%d],u),A=h.map(P=>this.qn(e,v,P,!0));g.push(...this.createRange(T,b,A))}return g}qn(e,t,r,i){const o=new Zo(e,ve.empty(),t,r);return i?o:o.Rn()}Qn(e,t,r,i){const o=new Zo(e,ve.empty(),t,r);return i?o.Rn():o}On(e,t){const r=new eR(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.wn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.xn(t);return X.forEach(i,o=>this.On(e,o).next(u=>{u?r!==0&&u.fields.length<function(f){let d=new ut(Ct.comparator),g=!1;for(const _ of f.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:d=d.add(v.field));for(const _ of f.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}$n(e,t){const r=new ed;for(const i of Wo(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.Tn(i.kind);Jo.Wt.vt(o,u)}return r.cn()}kn(e){const t=new ed;return Jo.Wt.vt(e,t.Tn(0)),t.cn()}Un(e,t){const r=new ed;return Jo.Wt.vt(dl(this.databaseId,t),r.Tn(function(o){const u=Wo(o);return u.length===0?0:u[u.length-1].kind}(e))),r.cn()}Bn(e,t,r){if(r===null)return[];let i=[];i.push(new ed);let o=0;for(const u of Wo(e)){const h=r[o++];for(const f of i)if(this.Kn(t,u.fieldPath)&&af(h))i=this.Wn(i,u,h);else{const d=f.Tn(u.kind);Jo.Wt.vt(h,d)}}return this.Gn(i)}Nn(e,t,r){return this.Bn(e,t,r.position)}Gn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].cn();return t}Wn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const f=new ed;f.seed(h.cn()),Jo.Wt.vt(u,f.Tn(t.kind)),o.push(f)}return o}Kn(e,t){return!!e.filters.find(r=>r instanceof Ge&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=td(e),i=Ru(e);return(t?r.J(eE,IDBKeyRange.bound(t,t)):r.J()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(f=>{u.push(function(g,_){const v=_?new Jd(_.sequenceNumber,new xr(yl(_.readTime),new ve(zi(_.documentKey)),_.largestBatchId)):Jd.empty(),T=g.fields.map(([b,A])=>new qm(Ct.fromServerFormat(b),A));return new wg(g.indexId,g.collectionGroup,T,v)}(h,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=td(e),o=Ru(e);return this.zn(e).next(u=>i.J(eE,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,f=>o.put(W1(f.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,f=>this.jn(e,i,f).next(d=>{const g=this.Hn(o,f);return d.isEqual(g)?X.resolve():this.Jn(e,o,f,d,g)}))))})}Yn(e,t,r,i){return Iu(e).put(i.Vn(this.uid,this.Un(r,t.key),t.key))}Zn(e,t,r,i){return Iu(e).delete(i.mn(this.uid,this.Un(r,t.key),t.key))}jn(e,t,r){const i=Iu(e);let o=new ut(Sa);return i.te({index:cO,range:IDBKeyRange.only([r.indexId,this.uid,Xm(this.Un(r,t))])},(u,h)=>{o=o.add(new Zo(r.indexId,t,Z1(h.arrayValue),Z1(h.directionalValue)))}).next(()=>o)}Hn(e,t){let r=new ut(Sa);const i=this.$n(t,e);if(i==null)return r;const o=J0(t);if(o!=null){const u=e.data.field(o.fieldPath);if(af(u))for(const h of u.arrayValue.values||[])r=r.add(new Zo(t.indexId,e.key,this.kn(h),i))}else r=r.add(new Zo(t.indexId,e.key,Am,i));return r}Jn(e,t,r,i,o){pe(nR,"Updating index entries for document '%s'",t.key);const u=[];return function(f,d,g,_,v){const T=f.getIterator(),b=d.getIterator();let A=Su(T),P=Su(b);for(;A||P;){let L=!1,U=!1;if(A&&P){const V=g(A,P);V<0?U=!0:V>0&&(L=!0)}else A!=null?U=!0:L=!0;L?(_(P),P=Su(b)):U?(v(A),A=Su(T)):(A=Su(T),P=Su(b))}}(i,o,Sa,h=>{u.push(this.Yn(e,t,r,h))},h=>{u.push(this.Zn(e,t,r,h))}),X.waitFor(u)}zn(e){let t=1;return Ru(e).te({index:uO,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Sa(u,h)).filter((u,h,f)=>!h||Sa(u,f[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=Sa(u,e),f=Sa(u,t);if(h===0)i[0]=e.Rn();else if(h>0&&f<0)i.push(u),i.push(u.Rn());else if(f>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Xn(i[u],i[u+1]))return[];const h=i[u].mn(this.uid,Am,ve.empty()),f=i[u+1].mn(this.uid,Am,ve.empty());o.push(IDBKeyRange.bound(h,f))}return o}Xn(e,t){return Sa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(iR)}getMinOffset(e,t){return X.mapArray(this.xn(t),r=>this.On(e,r).next(i=>i||we(44426))).next(iR)}}function rR(n){return _n(n,nf)}function Iu(n){return _n(n,Vd)}function td(n){return _n(n,Nb)}function Ru(n){return _n(n,Md)}function iR(n){Ae(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Pb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new xr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p2=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(n,e,t){const r=n.store(ii),i=n.store(nc),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.te({range:u},(g,_,v)=>(h++,v.delete()));o.push(f.next(()=>{Ae(h===1,47070,{batchId:t.batchId})}));const d=[];for(const g of t.mutations){const _=aO(e,g.key.path,t.batchId);o.push(i.delete(_)),d.push(g.key)}return X.waitFor(o).next(()=>d)}function Og(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(p2,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class vy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.er={}}static St(e,t,r,i){Ae(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new vy(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Aa(e).te({index:nl,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Uu(e),u=Aa(e);return u.add({}).next(h=>{Ae(typeof h=="number",49019);const f=new qb(h,t,r,i),d=function(T,b,A){const P=A.baseMutations.map(U=>uf(T.wt,U)),L=A.mutations.map(U=>uf(T.wt,U));return{userId:b,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:P,mutations:L}}(this.serializer,this.userId,f),g=[];let _=new ut((v,T)=>De(v.canonicalString(),T.canonicalString()));for(const v of i){const T=aO(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(d)),g.push(o.put(T,dB))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.er[h]=f.keys()}),X.waitFor(g).next(()=>f)})}lookupMutationBatch(e,t){return Aa(e).get(t).next(r=>r?(Ae(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Xo(this.serializer,r)):null)}tr(e,t){return this.er[t]?X.resolve(this.er[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.er[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Aa(e).te({index:nl,range:i},(u,h,f)=>{h.userId===this.userId&&(Ae(h.batchId>=r,47524,{nr:r}),o=Xo(this.serializer,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Va;return Aa(e).te({index:nl,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Va],[this.userId,Number.POSITIVE_INFINITY]);return Aa(e).J(nl,t).next(r=>r.map(i=>Xo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Hm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Uu(e).te({range:i},(u,h,f)=>{const[d,g,_]=u,v=zi(g);if(d===this.userId&&t.path.isEqual(v))return Aa(e).get(_).next(T=>{if(!T)throw we(61480,{rr:u,batchId:_});Ae(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:_}),o.push(Xo(this.serializer,T))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(De);const i=[];return t.forEach(o=>{const u=Hm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=Uu(e).te({range:h},(d,g,_)=>{const[v,T,b]=d,A=zi(T);v===this.userId&&o.path.isEqual(A)?r=r.add(b):_.done()});i.push(f)}),X.waitFor(i).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Hm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new ut(De);return Uu(e).te({range:u},(f,d,g)=>{const[_,v,T]=f,b=zi(v);_===this.userId&&r.isPrefixOf(b)?b.length===i&&(h=h.add(T)):g.done()}).next(()=>this.ir(e,h))}ir(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Aa(e).get(o).next(u=>{if(u===null)throw we(35274,{batchId:o});Ae(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(Xo(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return m2(e.he,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.sr(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return Uu(e).te({range:r},(o,u,h)=>{if(o[0]===this.userId){const f=zi(o[1]);i.push(f)}else h.done()}).next(()=>{Ae(i.length===0,56720,{_r:i.map(o=>o.canonicalString())})})})}containsKey(e,t){return g2(e,this.userId,t)}ar(e){return y2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Va,lastStreamToken:""})}}function g2(n,e,t){const r=Hm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Uu(n).te({range:o,ee:!0},(h,f,d)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),d.done()}).next(()=>u)}function Aa(n){return _n(n,ii)}function Uu(n){return _n(n,nc)}function y2(n){return _n(n,ef)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new _l(0)}static lr(){return new _l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.hr(e).next(t=>{const r=new _l(t.highestTargetId);return t.highestTargetId=r.next(),this.Pr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(t=>Ie.fromTimestamp(new Pt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.hr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pr(e,i)))}addTargetData(e,t){return this.Tr(e,t).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(t,r),this.Pr(e,r))))}updateTargetData(e,t){return this.Tr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Cu(e).delete(t.targetId)).next(()=>this.hr(e)).next(r=>(Ae(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Cu(e).te((u,h)=>{const f=Sd(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(i++,o.push(this.removeTargetData(e,f)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Cu(e).te((r,i)=>{const o=Sd(i);t(o)})}hr(e){return aR(e).get(Ag).next(t=>(Ae(t!==null,2888),t))}Pr(e,t){return aR(e).put(Ag,t)}Tr(e,t){return Cu(e).put(h2(this.serializer,t))}Ir(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Cu(e).te({range:i,index:lO},(u,h,f)=>{const d=Sd(h);Nf(t,d.target)&&(o=d,f.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=xa(e);return t.forEach(u=>{const h=Hn(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=xa(e);return X.forEach(t,o=>{const u=Hn(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=xa(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=xa(e);let o=Ve();return i.te({range:r,ee:!0},(u,h,f)=>{const d=zi(u[1]),g=new ve(d);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=Hn(t.path),i=IDBKeyRange.bound([r],[ZP(r)],!1,!0);let o=0;return xa(e).te({index:Db,ee:!0,range:i},([u,h],f,d)=>{u!==0&&(o++,d.done())}).next(()=>o>0)}Rt(e,t){return Cu(e).get(t).next(r=>r?Sd(r):null)}}function Cu(n){return _n(n,rc)}function aR(n){return _n(n,ll)}function xa(n){return _n(n,ic)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="LruGarbageCollector",k9=1048576;function lR([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class M9{constructor(e){this.Er=e,this.buffer=new ut(lR),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(oR,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){io(t)?pe(oR,"Ignoring IndexedDB error during garbage collection: ",t):await ro(t)}await this.mr(3e5)})}}class V9{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(ar.le);const r=new M9(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(sR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sR):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(d=Date.now(),ku()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function v2(n,e){return new V9(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,t){this.db=e,this.garbageCollector=v2(this,t)}pr(e){const t=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}yr(e,t){return this.br(e,(r,i)=>t(i))}addReference(e,t,r){return Im(e,r)}removeReference(e,t,r){return Im(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Im(e,t)}Dr(e,t){return function(i,o){let u=!1;return y2(i).ne(h=>g2(i,h,o).next(f=>(f&&(u=!0),X.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.br(e,(u,h)=>{if(h<=t){const f=this.Dr(e,u).next(d=>{if(!d)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Ie.min()),xa(e).delete(function(_){return[0,Hn(_.path)]}(u))))});i.push(f)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Im(e,t)}br(e,t){const r=xa(e);let i,o=ar.le;return r.te({index:Db},([u,h],{path:f,sequenceNumber:d})=>{u===0?(o!==ar.le&&t(new ve(zi(i)),o),o=d,i=f):o=ar.le}).next(()=>{o!==ar.le&&t(new ve(zi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Im(n,e){return xa(n).put(function(r,i){return{targetId:0,path:Hn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.changes=new Gs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ho(e).put(r)}removeEntry(e,t,r){return Ho(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],xg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.vr(e,r)))}getEntry(e,t){let r=bt.newInvalidDocument(t);return Ho(e).te({index:$m,range:IDBKeyRange.only(nd(t))},(i,o)=>{r=this.Cr(t,o)}).next(()=>r)}Fr(e,t){let r={size:0,document:bt.newInvalidDocument(t)};return Ho(e).te({index:$m,range:IDBKeyRange.only(nd(t))},(i,o)=>{r={document:this.Cr(t,o),size:Og(o)}}).next(()=>r)}getEntries(e,t){let r=lr();return this.Mr(e,t,(i,o)=>{const u=this.Cr(i,o);r=r.insert(i,u)}).next(()=>r)}Or(e,t){let r=lr(),i=new Et(ve.comparator);return this.Mr(e,t,(o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),i=i.insert(o,Og(u))}).next(()=>({documents:r,Nr:i}))}Mr(e,t,r){if(t.isEmpty())return X.resolve();let i=new ut(hR);t.forEach(f=>i=i.add(f));const o=IDBKeyRange.bound(nd(i.first()),nd(i.last())),u=i.getIterator();let h=u.getNext();return Ho(e).te({index:$m,range:o},(f,d,g)=>{const _=ve.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;h&&hR(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,d),h=u.hasNext()?u.getNext():null),h?g.H(nd(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),xg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ho(e).J(IDBKeyRange.bound(h,f,!0)).next(d=>{o==null||o.incrementDocumentReadCount(d.length);let g=lr();for(const _ of d){const v=this.Cr(ve.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Mf(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=lr();const u=cR(t,r),h=cR(t,xr.max());return Ho(e).te({index:oO,range:IDBKeyRange.bound(u,h,!0)},(f,d,g)=>{const _=this.Cr(ve.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new B9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return uR(e).get(Z0).next(t=>(Ae(!!t,20021),t))}vr(e,t){return uR(e).put(Z0,t)}Cr(e,t){if(t){const r=T9(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return bt.newInvalidDocument(e)}}function b2(n){return new U9(n)}class B9 extends E2{constructor(e,t){super(),this.Br=e,this.trackRemovals=t,this.Lr=new Gs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ut((o,u)=>De(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Lr.get(o);if(t.push(this.Br.removeEntry(e,o,h.readTime)),u.isValidDocument()){const f=G1(this.Br.serializer,u);i=i.add(o.path.popLast());const d=Og(f);r+=d-h.size,t.push(this.Br.addEntry(e,o,f))}else if(r-=h.size,this.trackRemovals){const f=G1(this.Br.serializer,u.convertToNoDocument(Ie.min()));t.push(this.Br.addEntry(e,o,f))}}),i.forEach(o=>{t.push(this.Br.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Br.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Br.Fr(e,t).next(r=>(this.Lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Br.Or(e,t).next(({documents:r,Nr:i})=>(i.forEach((o,u)=>{this.Lr.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function uR(n){return _n(n,tf)}function Ho(n){return _n(n,Sg)}function nd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cR(n,e){const t=e.documentKey.path.toArray();return[n,xg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Bd(r.mutation,i,or.empty(),Pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=wd();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=lr();const u=Ud(),h=function(){return Ud()}();return t.forEach((f,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof Ks)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Bd(g.mutation,d,g.mutation.getFieldMask(),Pt.now())):u.set(d.key,or.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,g)=>u.set(d,g)),t.forEach((d,g)=>{var _;return h.set(d,new F9(g,(_=u.get(d))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Ud();let i=new Et((u,h)=>u-h),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||or.empty();g=h.applyToLocalView(d,g),r.set(f,g);const _=(i.get(h.batchId)||Ve()).add(f);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,_=BO();g.forEach(v=>{if(!o.has(v)){const T=GO(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(qi());let h=tc,f=o;return u.next(d=>X.forEach(d,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{f=f.insert(g,v)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,Ve())).next(g=>({batchId:h,changes:UO(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let i=wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=wd();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,f=>{const d=function(_,v){return new $s(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,bt.newInvalidDocument(g)))});let h=wd();return u.forEach((f,d)=>{const g=o.get(f);g!==void 0&&Bd(g.mutation,d,or.empty(),Pt.now()),Mf(t,d)&&(h=h.insert(f,d))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return X.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:Wb(i.bundledQuery),readTime:Xt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.overlays=new Et(ve.comparator),this.Qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=qi(),o=t.length+1,u=new ve(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Et((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=qi(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=qi(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>h.set(d,g)),!(h.size()>=i)););return X.resolve(h)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new $b(t,r));let o=this.Qr.get(t);o===void 0&&(o=Ve(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.$r=new ut(Sn.Ur),this.Kr=new ut(Sn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Sn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Sn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new ve(new $e([])),r=new Sn(t,e),i=new Sn(t,e+1),o=[];return this.Kr.forEachInRange([r,i],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ve(new $e([])),r=new Sn(t,e),i=new Sn(t,e+1);let o=Ve();return this.Kr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Sn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ve.comparator(e.key,t.key)||De(e.Zr,t.Zr)}static Wr(e,t){return De(e.Zr,t.Zr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new ut(Sn.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new qb(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Xr=this.Xr.add(new Sn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Va:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sn(t,0),i=new Sn(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],u=>{const h=this.ei(u.Zr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(De);return t.forEach(i=>{const o=new Sn(i,0),u=new Sn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],h=>{r=r.add(h.Zr)})}),X.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const u=new Sn(new ve(o),0);let h=new ut(De);return this.Xr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(h=h.add(f.Zr)),!0)},u),X.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return X.forEach(t.mutations,i=>{const o=new Sn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Sn(t,0),i=this.Xr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.ii=e,this.docs=function(){return new Et(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(t))}getEntries(e,t){let r=lr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=lr();const u=t.path,h=new ve(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||Pb(tO(g),r)<=0||(i.has(g.key)||Mf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we(9500)}si(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new G9(this)}getSize(e){return X.resolve(this.size)}}class G9 extends E2{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.persistence=e,this.oi=new Gs(t=>fl(t),Nf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Xb,this.targetCount=0,this.ui=_l.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),X.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new _l(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Tr(t),X.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,t){this.ci={},this.overlays={},this.li=new ar(0),this.hi=!1,this.hi=!0,this.Pi=new q9,this.referenceDelegate=e(this),this.Ti=new K9(this),this.indexManager=new O9,this.remoteDocumentCache=function(i){return new $9(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new c2(t),this.Ei=new j9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new z9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new H9(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new W9(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return X.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class W9 extends rO{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.Vi=new Xb,this.mi=null}static fi(e){return new Ey(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,r=>{const i=ve.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,Ie.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return X.or([()=>X.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Dg{constructor(e,t){this.persistence=e,this.yi=new Gs(r=>Hn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=v2(this,t)}static fi(e,t){return new Dg(e,t)}di(){}Ai(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return X.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,u=>this.Dr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Km(e.data.value)),t}Dr(e,t,r){return X.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.serializer=e}q(e,t,r,i){const o=new uy("createOrUpgrade",t);r<1&&i>=1&&(function(f){f.createObjectStore(Df)}(e),function(f){f.createObjectStore(ef,{keyPath:hB}),f.createObjectStore(ii,{keyPath:w1,autoIncrement:!0}).createIndex(nl,T1,{unique:!0}),f.createObjectStore(nc)}(e),dR(e),function(f){f.createObjectStore(Qo)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(f){f.deleteObjectStore(ic),f.deleteObjectStore(rc),f.deleteObjectStore(ll)}(e),dR(e)),u=u.next(()=>function(f){const d=f.store(ll),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return d.put(Ag,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(f,d){return d.store(ii).J().next(_=>{f.deleteObjectStore(ii),f.createObjectStore(ii,{keyPath:w1,autoIncrement:!0}).createIndex(nl,T1,{unique:!0});const v=d.store(ii),T=_.map(b=>v.put(b));return X.waitFor(T)})}(e,o))),u=u.next(()=>{(function(f){f.createObjectStore(sc,{keyPath:EB})})(e)})),r<5&&i>=5&&(u=u.next(()=>this.wi(o))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore(tf)}(e),this.Si(o)))),r<7&&i>=7&&(u=u.next(()=>this.bi(o))),r<8&&i>=8&&(u=u.next(()=>this.Di(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.Ci(o))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(cy,{keyPath:bB})})(e),function(f){f.createObjectStore(hy,{keyPath:wB})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(f){const d=f.createObjectStore(dy,{keyPath:xB});d.createIndex(tE,PB,{unique:!1}),d.createIndex(hO,OB,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const d=f.createObjectStore(Sg,{keyPath:fB});d.createIndex($m,pB),d.createIndex(oO,mB)}(e)).next(()=>this.Fi(e,o)).next(()=>e.deleteObjectStore(Qo))),r<14&&i>=14&&(u=u.next(()=>this.Mi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore(Nb,{keyPath:TB,autoIncrement:!0}).createIndex(eE,SB,{unique:!1}),f.createObjectStore(Md,{keyPath:AB}).createIndex(uO,IB,{unique:!1}),f.createObjectStore(Vd,{keyPath:RB}).createIndex(cO,CB,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(Md).clear()}).next(()=>{t.objectStore(Vd).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(f){f.createObjectStore(kb,{keyPath:DB})})(e)})),r<18&&i>=18&&kx()&&(u=u.next(()=>{t.objectStore(Md).clear()}).next(()=>{t.objectStore(Vd).clear()})),u}Si(e){let t=0;return e.store(Qo).te((r,i)=>{t+=Og(i)}).next(()=>{const r={byteSize:t};return e.store(tf).put(Z0,r)})}wi(e){const t=e.store(ef),r=e.store(ii);return t.J().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,Va],[o.userId,o.lastAcknowledgedBatchId]);return r.J(nl,u).next(h=>X.forEach(h,f=>{Ae(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=Xo(this.serializer,f);return m2(e,o.userId,d).next(()=>{})}))}))}bi(e){const t=e.store(ic),r=e.store(Qo);return e.store(ll).get(Ag).next(i=>{const o=[];return r.te((u,h)=>{const f=new $e(u),d=function(_){return[0,Hn(_)]}(f);o.push(t.get(d).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:Hn(_),sequenceNumber:i.highestListenSequenceNumber}))(f)))}).next(()=>X.waitFor(o))})}Di(e,t){e.createObjectStore(nf,{keyPath:vB});const r=t.store(nf),i=new Yb,o=u=>{if(i.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:Hn(f)})}};return t.store(Qo).te({ee:!0},(u,h)=>{const f=new $e(u);return o(f.popLast())}).next(()=>t.store(nc).te({ee:!0},([u,h,f],d)=>{const g=zi(h);return o(g.popLast())}))}Ci(e){const t=e.store(rc);return t.te((r,i)=>{const o=Sd(i),u=h2(this.serializer,o);return t.put(u)})}Fi(e,t){const r=t.store(Qo),i=[];return r.te((o,u)=>{const h=t.store(Sg),f=function(_){return _.document?new ve($e.fromString(_.document.name).popFirst(5)):_.noDocument?ve.fromSegments(_.noDocument.path):_.unknownDocument?ve.fromSegments(_.unknownDocument.path):we(36783)}(u).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(d))}).next(()=>X.waitFor(i))}Mi(e,t){const r=t.store(ii),i=b2(this.serializer),o=new Jb(Ey.fi,this.serializer.wt);return r.J().next(u=>{const h=new Map;return u.forEach(f=>{var d;let g=(d=h.get(f.userId))!==null&&d!==void 0?d:Ve();Xo(this.serializer,f).keys().forEach(_=>g=g.add(_)),h.set(f.userId,g)}),X.forEach(h,(f,d)=>{const g=new An(d),_=_y.St(this.serializer,g),v=o.getIndexManager(g),T=vy.St(g,this.serializer,v,o.referenceDelegate);return new w2(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new nE(t,ar.le),f).next()})})}}function dR(n){n.createObjectStore(ic,{keyPath:yB}).createIndex(Db,_B,{unique:!0}),n.createObjectStore(rc,{keyPath:"targetId"}).createIndex(lO,gB,{unique:!0}),n.createObjectStore(ll)}const Ia="IndexedDbPersistence",v0=18e5,E0=5e3,b0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",T2="main";class Zb{constructor(e,t,r,i,o,u,h,f,d,g,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.xi=o,this.window=u,this.document=h,this.Oi=d,this.Ni=g,this.Bi=_,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=v=>Promise.resolve(),!Zb.C())throw new fe(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new L9(this,i),this.Ui=t+T2,this.serializer=new c2(f),this.Ki=new Hi(this.Ui,this.Bi,new Q9(this.serializer)),this.Pi=new A9,this.Ti=new N9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=b2(this.serializer),this.Ei=new S9,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,g===!1&&Yt(Ia,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,b0);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new ar(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(t=>{t||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(t=>this.isPrimary&&!t?this.Xi(e).next(()=>!1):!!t&&this.es(e).next(()=>!0))).catch(e=>{if(io(e))return pe(Ia,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Ia,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return rd(e).get(Tu).next(t=>X.resolve(this.ts(t)))}ns(e){return Rm(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,v0)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=_n(t,sc);return r.J().next(i=>{const o=this._s(i,v0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.Wi)for(const t of e)this.Wi.removeItem(this.us(t.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?X.resolve(!0):rd(e).get(Tu).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,E0)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,b0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rm(e).J().next(r=>this._s(r,E0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(Ia,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Df,sc],e=>{const t=new nE(e,ar.le);return this.Xi(t).next(()=>this.ns(t))}),this.Ki.close(),this.Ts()}_s(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Rm(e).J().next(t=>this._s(t,v0).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,t){return vy.St(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new D9(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return _y.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,t,r){pe(Ia,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(f){return f===18?MB:f===17?mO:f===16?kB:f===15?Mb:f===14?pO:f===13?fO:f===12?NB:f===11?dO:void we(60245)}(this.Bi);let u;return this.Ki.runTransaction(e,i,o,h=>(u=new nE(h,this.li?this.li.next():ar.le),t==="readwrite-primary"?this.Yi(u).next(f=>!!f||this.Zi(u)).next(f=>{if(!f)throw Yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new fe(ie.FAILED_PRECONDITION,nO);return r(u)}).next(f=>this.es(u).next(()=>f)):this.Es(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Es(e){return rd(e).get(Tu).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,E0)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Ni||this.allowTabSynchronization&&t.allowTabSynchronization))throw new fe(ie.FAILED_PRECONDITION,b0)})}es(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rd(e).put(Tu,t)}static C(){return Hi.C()}Xi(e){const t=rd(e);return t.get(Tu).next(r=>this.ts(r)?(pe(Ia,"Releasing primary lease."),t.delete(Tu)):X.resolve())}ss(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Yt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const t=/(?:Version|Mobile)\/1[456]/;Nx()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var t;try{const r=((t=this.Wi)===null||t===void 0?void 0:t.getItem(this.us(e)))!==null;return pe(Ia,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Yt(Ia,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Yt("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rd(n){return _n(n,Df)}function Rm(n){return _n(n,sc)}function ew(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ve(),i=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Nx()?8:iO(Vt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new Y9;return this.bs(e,t,u).next(h=>{if(o.result=h,this.fs)return this.Ds(e,t,u,h.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(ku()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Mu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(ku()<=He.DEBUG&&pe("QueryEngine","Query:",Mu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ku()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Mu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):X.resolve())}ws(e,t){if(V1(t))return X.resolve(null);let r=Zn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Cg(t,null,"F"),r=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Ve(...o);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.vs(t,h);return this.Cs(t,d,u,f.readTime)?this.ws(e,Cg(t,null,"F")):this.Fs(e,d,t,f)}))})))}Ss(e,t,r,i){return V1(t)||i.isEqual(Ie.min())?X.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,r,i)?X.resolve(null):(ku()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mu(t)),this.Fs(e,u,t,eO(i,tc)).next(h=>h))})}vs(e,t){let r=new ut(VO(e));return t.forEach((i,o)=>{Mf(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return ku()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Mu(t)),this.ys.getDocumentsMatchingQuery(e,t,xr.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="LocalStore",X9=3e8;class J9{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Et(De),this.Os=new Gs(o=>fl(o),Nf),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function A2(n,e,t,r){return new J9(n,e,t,r)}async function I2(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=Ve();for(const d of i){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(d=>({ks:d,removedBatchIds:u,addedBatchIds:h}))})})}function Z9(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,d,g){const _=d.batch,v=_.keys();let T=X.resolve();return v.forEach(b=>{T=T.next(()=>g.getEntry(f,b)).next(A=>{const P=d.docVersions.get(b);Ae(P!==null,48541),A.version.compareTo(P)<0&&(_.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ve();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function R2(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function eF(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.Ti.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(zt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(A,P,L){return A.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=X9?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(v,T,g)&&h.push(t.Ti.updateTargetData(o,T))});let f=lr(),d=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(C2(o,u,e.documentUpdates).next(g=>{f=g.qs,d=g.Qs})),!r.isEqual(Ie.min())){const g=t.Ti.getLastRemoteSnapshotVersion(o).next(_=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(t.xs=i,o))}function C2(n,e,t){let r=Ve(),i=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=lr();return t.forEach((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):pe(nw,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)}),{qs:u,Qs:i}})}function tF(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Va),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.Ti.allocateTargetId(r).next(u=>(i=new Ps(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function fc(n,e,t){const r=Ee(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!io(u))throw u;pe(nw,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Ng(n,e,t){const r=Ee(n);let i=Ie.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,g){const _=Ee(f),v=_.Os.get(g);return v!==void 0?X.resolve(_.xs.get(v)):_.Ti.getTargetData(d,g)}(r,u,Zn(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?i:Ie.min(),t?o:Ve())).next(h=>(O2(r,MO(e),h),{documents:h,$s:o})))}function x2(n,e){const t=Ee(n),r=Ee(t.Ti),i=t.xs.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.Rt(o,e).next(u=>u?u.target:null))}function P2(n,e){const t=Ee(n),r=t.Ns.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Bs.getAllFromCollectionGroup(i,e,eO(r,tc),Number.MAX_SAFE_INTEGER)).then(i=>(O2(t,e,i),i))}function O2(n,e,t){let r=n.Ns.get(e)||Ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}async function nF(n,e,t,r){const i=Ee(n);let o=Ve(),u=lr();for(const d of t){const g=e.Us(d.metadata.name);d.document&&(o=o.add(g));const _=e.Ks(d);_.setReadTime(e.Ws(d.metadata.readTime)),u=u.insert(g,_)}const h=i.Bs.newChangeBuffer({trackRemovals:!0}),f=await dc(i,function(g){return Zn(Oc($e.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>C2(d,h,u).next(g=>(h.apply(d),g)).next(g=>i.Ti.removeMatchingKeysForTargetId(d,f.targetId).next(()=>i.Ti.addMatchingKeys(d,o,f.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,g.qs,g.Qs)).next(()=>g.qs)))}async function rF(n,e,t=Ve()){const r=await dc(n,Zn(Wb(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Xt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ei.saveNamedQuery(o,e);const h=r.withResumeToken(zt.EMPTY_BYTE_STRING,u);return i.xs=i.xs.insert(h.targetId,h),i.Ti.updateTargetData(o,h).next(()=>i.Ti.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Ti.addMatchingKeys(o,t,r.targetId)).next(()=>i.Ei.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="firestore_clients";function fR(n,e){return`${D2}_${n}_${e}`}const N2="firestore_mutations";function pR(n,e,t){let r=`${N2}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const k2="firestore_targets";function w0(n,e){return`${k2}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="SharedClientState";class kg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Gs(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new fe(i.error.code,i.error.message))),u?new kg(e,t,i.state,o):(Yt(Ni,`Failed to parse mutation state for ID '${t}': ${r}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Gs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new fe(r.error.code,r.error.message))),o?new Fd(e,r.state,i):(Yt(Ni,`Failed to parse target state for ID '${e}': ${t}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Gs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Fb();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=sO(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Mg(e,o):(Yt(Ni,`Failed to parse client data for instance '${e}': ${t}`),null)}}class rw{constructor(e,t){this.clientId=e,this.onlineState=t}static Gs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new rw(t.clientId,t.onlineState):(Yt(Ni,`Failed to parse online state: ${e}`),null)}}class yE{constructor(){this.activeTargetIds=Fb()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T0{constructor(e,t,r,i,o){this.window=e,this.xi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ys=this.Zs.bind(this),this.Xs=new Et(De),this.started=!1,this.eo=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.no=fR(this.persistenceKey,this.Js),this.ro=function(f){return`firestore_sequence_number_${f}`}(this.persistenceKey),this.Xs=this.Xs.insert(this.Js,new yE),this.io=new RegExp(`^${D2}_${u}_([^_]*)$`),this.so=new RegExp(`^${N2}_${u}_(\\d+)(?:_(.*))?$`),this.oo=new RegExp(`^${k2}_${u}_(\\d+)$`),this._o=function(f){return`firestore_online_state_${f}`}(this.persistenceKey),this.ao=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ys)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Is();for(const r of e){if(r===this.Js)continue;const i=this.getItem(fR(this.persistenceKey,r));if(i){const o=Mg.Gs(r,i);o&&(this.Xs=this.Xs.insert(o.clientId,o))}}this.uo();const t=this.storage.getItem(this._o);if(t){const r=this.co(t);r&&this.lo(r)}for(const r of this.eo)this.Zs(r);this.eo=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ro,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ho(this.Xs)}isActiveQueryTarget(e){let t=!1;return this.Xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Po(e,"pending")}updateMutationState(e,t,r){this.Po(e,t,r),this.To(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(w0(this.persistenceKey,e));if(i){const o=Fd.Gs(e,i);o&&(r=o.state)}}return t&&this.Io.js(e),this.uo(),r}removeLocalQueryTarget(e){this.Io.Hs(e),this.uo()}isLocalQueryTarget(e){return this.Io.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(w0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Eo(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.To(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ao(e)}notifyBundleLoaded(e){this.Ro(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ys),this.removeItem(this.no),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Ni,"READ",e,t),t}setItem(e,t){pe(Ni,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Ni,"REMOVE",e),this.storage.removeItem(e)}Zs(e){const t=e;if(t.storageArea===this.storage){if(pe(Ni,"EVENT",t.key,t.newValue),t.key===this.no)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.xi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.io.test(t.key)){if(t.newValue==null){const r=this.Vo(t.key);return this.mo(r,null)}{const r=this.fo(t.key,t.newValue);if(r)return this.mo(r.clientId,r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.po(t.key,t.newValue);if(r)return this.yo(r)}}else if(this.oo.test(t.key)){if(t.newValue!==null){const r=this.wo(t.key,t.newValue);if(r)return this.So(r)}}else if(t.key===this._o){if(t.newValue!==null){const r=this.co(t.newValue);if(r)return this.lo(r)}}else if(t.key===this.ro){const r=function(o){let u=ar.le;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number",30636,{bo:o}),u=h}catch(h){Yt(Ni,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==ar.le&&this.sequenceNumberHandler(r)}else if(t.key===this.ao){const r=this.Do(t.newValue);await Promise.all(r.map(i=>this.syncEngine.vo(i)))}}}else this.eo.push(t)})}}get Io(){return this.Xs.get(this.Js)}uo(){this.setItem(this.no,this.Io.zs())}Po(e,t,r){const i=new kg(this.currentUser,e,t,r),o=pR(this.persistenceKey,this.currentUser,e);this.setItem(o,i.zs())}To(e){const t=pR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ao(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this._o,JSON.stringify(t))}Eo(e,t,r){const i=w0(this.persistenceKey,e),o=new Fd(e,t,r);this.setItem(i,o.zs())}Ro(e){const t=JSON.stringify(Array.from(e));this.setItem(this.ao,t)}Vo(e){const t=this.io.exec(e);return t?t[1]:null}fo(e,t){const r=this.Vo(e);return Mg.Gs(r,t)}po(e,t){const r=this.so.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return kg.Gs(new An(o),i,t)}wo(e,t){const r=this.oo.exec(e),i=Number(r[1]);return Fd.Gs(i,t)}co(e){return rw.Gs(e)}Do(e){return JSON.parse(e)}async yo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);pe(Ni,`Ignoring mutation for non-active user ${e.user.uid}`)}So(e){return this.syncEngine.Fo(e.targetId,e.state,e.error)}mo(e,t){const r=t?this.Xs.insert(e,t):this.Xs.remove(e),i=this.ho(this.Xs),o=this.ho(r),u=[],h=[];return o.forEach(f=>{i.has(f)||u.push(f)}),i.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.Mo(u,h).then(()=>{this.Xs=r})}lo(e){this.Xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ho(e){let t=Fb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class M2{constructor(){this.xo=new yE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new yE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="ConnectivityMonitor";class gR{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(mR,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(mR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm=null;function _E(){return Cm===null?Cm=function(){return 268435456+Math.round(2147483648*Math.random())}():Cm++,"0x"+Cm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="RestConnection",sF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aF{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===rE?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){const u=_E(),h=this.jo(e,t.toUriEncodedString());pe(S0,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,o);const{host:d}=new URL(h),g=Tf(d);return this.Jo(e,h,f,r,g).then(_=>(pe(S0,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Yi(S0,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_})}Yo(e,t,r,i,o,u){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){const r=sF[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class lF extends aF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){const u=_E();return new Promise((h,f)=>{const d=new $P;d.setWithCredentials(!0),d.listenOnce(GP.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case zm.NO_ERROR:const _=d.getResponseJson();pe(Fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case zm.TIMEOUT:pe(Fn,`RPC '${e}' ${u} timed out`),f(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case zm.HTTP_ERROR:const v=d.getStatus();if(pe(Fn,`RPC '${e}' ${u} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const b=T==null?void 0:T.error;if(b&&b.status&&b.message){const A=function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(U)>=0?U:ie.UNKNOWN}(b.status);f(new fe(A,b.message))}else f(new fe(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{pe(Fn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(i);pe(Fn,`RPC '${e}' ${u} sending request:`,i),d.send(t,"POST",g,r,15)})}T_(e,t,r){const i=_E(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=QP(),h=WP(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");pe(Fn,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=u.createWebChannel(g,f);let v=!1,T=!1;const b=new oF({Zo:P=>{T?pe(Fn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(pe(Fn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(Fn,`RPC '${e}' stream ${i} sending:`,P),_.send(P))},Xo:()=>_.close()}),A=(P,L,U)=>{P.listen(L,V=>{try{U(V)}catch(H){setTimeout(()=>{throw H},0)}})};return A(_,bd.EventType.OPEN,()=>{T||(pe(Fn,`RPC '${e}' stream ${i} transport opened.`),b.__())}),A(_,bd.EventType.CLOSE,()=>{T||(T=!0,pe(Fn,`RPC '${e}' stream ${i} transport closed`),b.u_())}),A(_,bd.EventType.ERROR,P=>{T||(T=!0,Yi(Fn,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),b.u_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))}),A(_,bd.EventType.MESSAGE,P=>{var L;if(!T){const U=P.data[0];Ae(!!U,16349);const V=U,H=(V==null?void 0:V.error)||((L=V[0])===null||L===void 0?void 0:L.error);if(H){pe(Fn,`RPC '${e}' stream ${i} received error:`,H);const j=H.status;let K=function(x){const w=on[x];if(w!==void 0)return QO(w)}(j),M=H.message;K===void 0&&(K=ie.INTERNAL,M="Unknown error status: "+j+" with message "+H.message),T=!0,b.u_(new fe(K,M)),_.close()}else pe(Fn,`RPC '${e}' stream ${i} received:`,U),b.c_(U)}}),A(h,KP.STAT_EVENT,P=>{P.stat===Y0.PROXY?pe(Fn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Y0.NOPROXY&&pe(Fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){return typeof window<"u"?window:null}function Jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(n){return new f9(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="PersistentStream";class L2{constructor(e,t,r,i,o,u,h,f){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new iw(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Yt(t.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new fe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return pe(yR,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(pe(yR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uF extends L2{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=g9(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Xt(u.readTime):Ie.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=dE(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=Ig(f)?{documents:i2(o,f)}:{query:s2(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=JO(o,u.resumeToken);const d=cE(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=hc(o,u.snapshotVersion.toTimestamp());const d=cE(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h}(this.serializer,e);const r=_9(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=dE(this.serializer),t.removeTarget=e,this.L_(t)}}class cF extends L2{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=y9(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=dE(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>uf(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{}class dF extends hF{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,hE(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ie.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,hE(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class fF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Yt(t),this.oa=!1):pe("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="RemoteStore";class pF{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(u=>{r.enqueueAndForget(async()=>{ao(this)&&(pe(vl,"Restarting streams for network reachability change."),await async function(f){const d=Ee(f);d.Ta.add(4),await kc(d),d.da.set("Unknown"),d.Ta.delete(4),await Ff(d)}(this))})}),this.da=new fF(r,i)}}async function Ff(n){if(ao(n))for(const e of n.Ia)await e(!0)}async function kc(n){for(const e of n.Ia)await e(!1)}function by(n,e){const t=Ee(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),ow(t)?aw(t):Vc(t).M_()&&sw(t,e))}function pc(n,e){const t=Ee(n),r=Vc(t);t.Pa.delete(e),r.M_()&&U2(t,e),t.Pa.size===0&&(r.M_()?r.N_():ao(t)&&t.da.set("Unknown"))}function sw(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vc(n).H_(e)}function U2(n,e){n.Aa.Ke(e),Vc(n).J_(e)}function aw(n){n.Aa=new u9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Vc(n).start(),n.da._a()}function ow(n){return ao(n)&&!Vc(n).F_()&&n.Pa.size>0}function ao(n){return Ee(n).Ta.size===0}function B2(n){n.Aa=void 0}async function mF(n){n.da.set("Online")}async function gF(n){n.Pa.forEach((e,t)=>{sw(n,e)})}async function yF(n,e){B2(n),ow(n)?(n.da.ca(e),aw(n)):n.da.set("Unknown")}async function _F(n,e,t){if(n.da.set("Online"),e instanceof XO&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.Pa.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Pa.delete(h),i.Aa.removeTarget(h))}(n,e)}catch(r){pe(vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vg(n,r)}else if(e instanceof Ym?n.Aa.Xe(e):e instanceof YO?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Ie.min()))try{const r=await R2(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.Aa.It(u);return h.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Pa.get(d);g&&o.Pa.set(d,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,d)=>{const g=o.Pa.get(f);if(!g)return;o.Pa.set(f,g.withResumeToken(zt.EMPTY_BYTE_STRING,g.snapshotVersion)),U2(o,f);const _=new Ps(g.target,f,d,g.sequenceNumber);sw(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(vl,"Failed to raise snapshot:",r),await Vg(n,r)}}async function Vg(n,e,t){if(!io(e))throw e;n.Ta.add(1),await kc(n),n.da.set("Offline"),t||(t=()=>R2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(vl,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await Ff(n)})}function F2(n,e){return e().catch(t=>Vg(n,t,e))}async function Mc(n){const e=Ee(n),t=Ka(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Va;for(;vF(e);)try{const i=await tF(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,EF(e,i)}catch(i){await Vg(e,i)}j2(e)&&z2(e)}function vF(n){return ao(n)&&n.ha.length<10}function EF(n,e){n.ha.push(e);const t=Ka(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function j2(n){return ao(n)&&!Ka(n).F_()&&n.ha.length>0}function z2(n){Ka(n).start()}async function bF(n){Ka(n).ta()}async function wF(n){const e=Ka(n);for(const t of n.ha)e.Z_(t.mutations)}async function TF(n,e,t){const r=n.ha.shift(),i=Hb.from(r,e,t);await F2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Mc(n)}async function SF(n,e){e&&Ka(n).Y_&&await async function(r,i){if(function(u){return WO(u)&&u!==ie.ABORTED}(i.code)){const o=r.ha.shift();Ka(r).O_(),await F2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Mc(r)}}(n,e),j2(n)&&z2(n)}async function _R(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(vl,"RemoteStore received new credentials");const r=ao(t);t.Ta.add(3),await kc(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Ff(t)}async function vE(n,e){const t=Ee(n);e?(t.Ta.delete(2),await Ff(t)):e||(t.Ta.add(2),await kc(t),t.da.set("Unknown"))}function Vc(n){return n.Ra||(n.Ra=function(t,r,i){const o=Ee(t);return o.ra(),new uF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:mF.bind(null,n),n_:gF.bind(null,n),i_:yF.bind(null,n),j_:_F.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),ow(n)?aw(n):n.da.set("Unknown")):(await n.Ra.stop(),B2(n))})),n.Ra}function Ka(n){return n.Va||(n.Va=function(t,r,i){const o=Ee(t);return o.ra(),new cF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:bF.bind(null,n),i_:SF.bind(null,n),X_:wF.bind(null,n),ea:TF.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await Mc(n)):(await n.Va.stop(),n.ha.length>0&&(pe(vl,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new lw(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lc(n,e){if(Yt("AsyncQueue",`${e}: ${n}`),io(n))return new fe(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{static emptySet(e){return new Gu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=wd(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Gu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.ma=new Et(ve.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class mc{constructor(e,t,r,i,o,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new mc(e,t,Gu.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class IF{constructor(){this.queries=ER(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=ER(),o.forEach((u,h)=>{for(const f of h.ya)f.onError(r)})})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function ER(){return new Gs(n=>kO(n),kf)}async function uw(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new AF,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await t.onListen(i,!0);break;case 1:o.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Lc(u,`Initialization of query '${Mu(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&hw(t)}async function cw(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ya.indexOf(e);u>=0&&(o.ya.splice(u,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function RF(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.ya)h.va(i)&&(r=!0);u.pa=i}}r&&hw(t)}function CF(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ya)o.onError(t);r.queries.delete(e)}function hw(n){n.ba.forEach(e=>{e.next()})}var EE,bR;(bR=EE||(EE={})).Ca="default",bR.Cache="cache";class dw{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==EE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,t){this.ka=e,this.byteLength=t}qa(){return"metadata"in this.ka}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.serializer=e}Us(e){return $i(this.serializer,e)}Ks(e){return e.metadata.exists?r2(this.serializer,e.document,!1):bt.newNoDocument(this.Us(e.metadata.name),this.Ws(e.metadata.readTime))}Ws(e){return Xt(e)}}class PF{constructor(e,t,r){this.Qa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=q2(e)}$a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ka.namedQuery)this.queries.push(e.ka.namedQuery);else if(e.ka.documentMetadata){this.documents.push({metadata:e.ka.documentMetadata}),e.ka.documentMetadata.exists||++t;const r=$e.fromString(e.ka.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ka.document&&(this.documents[this.documents.length-1].document=e.ka.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ua(e){const t=new Map,r=new wR(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Us(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Ve()).add(o);t.set(u,h)}}return t}async complete(){const e=await nF(this.localStore,new wR(this.serializer),this.documents,this.Qa.id),t=this.Ua(this.documents);for(const r of this.queries)await rF(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ka:this.collectionGroups,Wa:e}}}function q2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.key=e}}class $2{constructor(e){this.key=e}}class G2{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ve(),this.mutatedKeys=Ve(),this.Ha=VO(e),this.Ja=new Gu(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new vR,i=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Mf(this.query,_)?_:null,b=!!v&&this.mutatedKeys.has(v.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;v&&T?v.data.isEqual(T.data)?b!==A&&(r.track({type:3,doc:T}),P=!0):this.eu(v,T)||(r.track({type:2,doc:T}),P=!0,(f&&this.Ha(T,f)>0||d&&this.Ha(T,d)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),P=!0):v&&!T&&(r.track({type:1,doc:v}),P=!0,(f||d)&&(h=!0)),P&&(T?(u=u.add(T),o=A?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ja:u,Xa:r,Cs:h,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((g,_)=>function(T,b){const A=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:P})}};return A(T)-A(b)}(g.type,_.type)||this.Ha(g.doc,_.doc)),this.tu(r),i=i!=null&&i;const h=t&&!i?this.nu():[],f=this.ja.size===0&&this.current&&!i?1:0,d=f!==this.za;return this.za=f,u.length!==0||d?{snapshot:new mc(this.query,e.Ja,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:h}:{ru:h}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new vR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ve(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new $2(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new H2(r))}),t}su(e){this.Ga=e.$s,this.ja=Ve();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return mc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const oo="SyncEngine";class OF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class DF{constructor(e){this.key=e,this._u=!1}}class NF{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new Gs(h=>kO(h),kf),this.cu=new Map,this.lu=new Set,this.hu=new Et(ve.comparator),this.Pu=new Map,this.Tu=new Xb,this.Iu={},this.Eu=new Map,this.du=_l.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function kF(n,e,t=!0){const r=wy(n);let i;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=await K2(r,e,t,!0),i}async function MF(n,e){const t=wy(n);await K2(t,e,!0,!1)}async function K2(n,e,t,r){const i=await dc(n.localStore,Zn(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await fw(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&by(n.remoteStore,i),h}async function fw(n,e,t,r,i){n.Ru=(_,v,T)=>async function(A,P,L,U){let V=P.view.Za(L);V.Cs&&(V=await Ng(A.localStore,P.query,!1).then(({documents:M})=>P.view.Za(M,V)));const H=U&&U.targetChanges.get(P.targetId),j=U&&U.targetMismatches.get(P.targetId)!=null,K=P.view.applyChanges(V,A.isPrimaryClient,H,j);return bE(A,P.targetId,K.ru),K.snapshot}(n,_,v,T);const o=await Ng(n.localStore,e,!0),u=new G2(e,o.$s),h=u.Za(o.documents),f=Uf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=u.applyChanges(h,n.isPrimaryClient,f);bE(n,t,d.ru);const g=new OF(e,t,u);return n.uu.set(e,g),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),d.snapshot}async function VF(n,e,t){const r=Ee(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(u=>!kf(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&pc(r.remoteStore,i.targetId),gc(r,i.targetId)}).catch(ro)):(gc(r,i.targetId),await fc(r.localStore,i.targetId,!0))}async function LF(n,e){const t=Ee(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),pc(t.remoteStore,r.targetId))}async function UF(n,e,t){const r=yw(n);try{const i=await function(u,h){const f=Ee(u),d=Pt.now(),g=h.reduce((T,b)=>T.add(b.key),Ve());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let b=lr(),A=Ve();return f.Bs.getEntries(T,g).next(P=>{b=P,b.forEach((L,U)=>{U.isValidDocument()||(A=A.add(L))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,b)).next(P=>{_=P;const L=[];for(const U of h){const V=a9(U,_.get(U.key).overlayedDocument);V!=null&&L.push(new Ks(U.key,V,AO(V.value.mapValue),xt.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,L,h)}).next(P=>{v=P;const L=P.applyToLocalDocumentSet(_,A);return f.documentOverlayCache.saveOverlays(T,P.batchId,L)})}).then(()=>({batchId:v.batchId,changes:UO(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,f){let d=u.Iu[u.currentUser.toKey()];d||(d=new Et(De)),d=d.insert(h,f),u.Iu[u.currentUser.toKey()]=d}(r,i.batchId,t),await Ws(r,i.changes),await Mc(r.remoteStore)}catch(i){const o=Lc(i,"Failed to persist write");t.reject(o)}}async function W2(n,e){const t=Ee(n);try{const r=await eF(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Pu.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u._u=!0:i.modifiedDocuments.size>0?Ae(u._u,14607):i.removedDocuments.size>0&&(Ae(u._u,42227),u._u=!1))}),await Ws(t,r,e)}catch(r){await ro(r)}}function TR(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((o,u)=>{const h=u.view.Da(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const f=Ee(u);f.onlineState=h;let d=!1;f.queries.forEach((g,_)=>{for(const v of _.ya)v.Da(h)&&(d=!0)}),d&&hw(f)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BF(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),o=i&&i.key;if(o){let u=new Et(ve.comparator);u=u.insert(o,bt.newNoDocument(o,Ie.min()));const h=Ve().add(o),f=new Lf(Ie.min(),new Map,new Et(De),u,h);await W2(r,f),r.hu=r.hu.remove(o),r.Pu.delete(e),gw(r)}else await fc(r.localStore,e,!1).then(()=>gc(r,e,t)).catch(ro)}async function FF(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await Z9(t.localStore,e);mw(t,r,null),pw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ws(t,i)}catch(i){await ro(i)}}async function jF(n,e,t){const r=Ee(n);try{const i=await function(u,h){const f=Ee(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next(_=>(Ae(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(d,_))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(r.localStore,e);mw(r,e,t),pw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ws(r,i)}catch(i){await ro(i)}}async function zF(n,e){const t=Ee(n);ao(t.remoteStore)||pe(oo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(r===Va)return void e.resolve();const i=t.Eu.get(r)||[];i.push(e),t.Eu.set(r,i)}catch(r){const i=Lc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function pw(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function mw(n,e,t){const r=Ee(n);let i=r.Iu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function gc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||Q2(n,r)})}function Q2(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(pc(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),gw(n))}function bE(n,e,t){for(const r of t)r instanceof H2?(n.Tu.addReference(r.key,e),qF(n,r)):r instanceof $2?(pe(oo,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||Q2(n,r.key)):we(19791,{mu:r})}function qF(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(pe(oo,"New document in limbo: "+t),n.lu.add(r),gw(n))}function gw(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new ve($e.fromString(e)),r=n.du.next();n.Pu.set(r,new DF(t)),n.hu=n.hu.insert(t,r),by(n.remoteStore,new Ps(Zn(Oc(t.path)),r,"TargetPurposeLimboResolution",ar.le))}}async function Ws(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.uu.isEmpty()||(r.uu.forEach((h,f)=>{u.push(r.Ru(f,e,t).then(d=>{var g;if((d||t)&&r.isPrimaryClient){const _=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(d){i.push(d);const _=tw.Rs(f.targetId,d);o.push(_)}}))}),await Promise.all(u),r.au.j_(i),await async function(f,d){const g=Ee(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(d,v=>X.forEach(v.ds,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>X.forEach(v.As,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!io(_))throw _;pe(nw,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const T=g.xs.get(v),b=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(b);g.xs=g.xs.insert(v,A)}}}(r.localStore,o))}async function HF(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(oo,"User change. New user:",e.toKey());const r=await I2(t.localStore,e);t.currentUser=e,function(o,u){o.Eu.forEach(h=>{h.forEach(f=>{f.reject(new fe(ie.CANCELLED,u))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ws(t,r.ks)}}function $F(n,e){const t=Ee(n),r=t.Pu.get(e);if(r&&r._u)return Ve().add(r.key);{let i=Ve();const o=t.cu.get(e);if(!o)return i;for(const u of o){const h=t.uu.get(u);i=i.unionWith(h.view.Ya)}return i}}async function GF(n,e){const t=Ee(n),r=await Ng(t.localStore,e.query,!0),i=e.view.su(r);return t.isPrimaryClient&&bE(t,e.targetId,i.ru),i}async function KF(n,e){const t=Ee(n);return P2(t.localStore,e).then(r=>Ws(t,r))}async function WF(n,e,t,r){const i=Ee(n),o=await function(h,f){const d=Ee(h),g=Ee(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.tr(_,f).next(v=>v?d.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Mc(i.remoteStore):t==="acknowledged"||t==="rejected"?(mw(i,e,r||null),pw(i,e),function(h,f){Ee(Ee(h).mutationQueue).sr(f)}(i.localStore,e)):we(6720,"Unknown batchState",{fu:t}),await Ws(i,o)):pe(oo,"Cannot apply mutation batch with id: "+e)}async function QF(n,e){const t=Ee(n);if(wy(t),yw(t),e===!0&&t.Au!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await SR(t,r.toArray());t.Au=!0,await vE(t.remoteStore,!0);for(const o of i)by(t.remoteStore,o)}else if(e===!1&&t.Au!==!1){const r=[];let i=Promise.resolve();t.cu.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(gc(t,u),fc(t.localStore,u,!0))),pc(t.remoteStore,u)}),await i,await SR(t,r),function(u){const h=Ee(u);h.Pu.forEach((f,d)=>{pc(h.remoteStore,d)}),h.Tu.Jr(),h.Pu=new Map,h.hu=new Et(ve.comparator)}(t),t.Au=!1,await vE(t.remoteStore,!1)}}async function SR(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const f=r.cu.get(u);if(f&&f.length!==0){h=await dc(r.localStore,Zn(f[0]));for(const d of f){const g=r.uu.get(d),_=await GF(r,g);_.snapshot&&o.push(_.snapshot)}}else{const d=await x2(r.localStore,u);h=await dc(r.localStore,d),await fw(r,Y2(d),u,!1,h.resumeToken)}i.push(h)}return r.au.j_(o),i}function Y2(n){return NO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function YF(n){return function(t){return Ee(Ee(t).persistence).Is()}(Ee(n).localStore)}async function XF(n,e,t,r){const i=Ee(n);if(i.Au)return void pe(oo,"Ignoring unexpected query state notification.");const o=i.cu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await P2(i.localStore,MO(o[0])),h=Lf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",zt.EMPTY_BYTE_STRING);await Ws(i,u,h);break}case"rejected":await fc(i.localStore,e,!0),gc(i,e,r);break;default:we(64155,t)}}async function JF(n,e,t){const r=wy(n);if(r.Au){for(const i of e){if(r.cu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(oo,"Adding an already active target "+i);continue}const o=await x2(r.localStore,i),u=await dc(r.localStore,o);await fw(r,Y2(o),u.targetId,!1,u.resumeToken),by(r.remoteStore,u)}for(const i of t)r.cu.has(i)&&await fc(r.localStore,i,!1).then(()=>{pc(r.remoteStore,i),gc(r,i)}).catch(ro)}}function wy(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=W2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$F.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BF.bind(null,e),e.au.j_=RF.bind(null,e.eventManager),e.au.Vu=CF.bind(null,e.eventManager),e}function yw(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jF.bind(null,e),e}function ZF(n,e,t){const r=Ee(n);(async function(o,u,h){try{const f=await u.getMetadata();if(await function(T,b){const A=Ee(T),P=Xt(b.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",L=>A.Ei.getBundleMetadata(L,b.id)).then(L=>!!L&&L.createTime.compareTo(P)>=0)}(o.localStore,f))return await u.close(),h._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(f)),Promise.resolve(new Set);h._updateProgress(q2(f));const d=new PF(f,o.localStore,u.serializer);let g=await u.gu();for(;g;){const v=await d.$a(g);v&&h._updateProgress(v),g=await u.gu()}const _=await d.complete();return await Ws(o,_.Wa,void 0),await function(T,b){const A=Ee(T);return A.persistence.runTransaction("Save bundle","readwrite",P=>A.Ei.saveBundleMetadata(P,b))}(o.localStore,f),h._completeWith(_.progress),Promise.resolve(_.Ka)}catch(f){return Yi(oo,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bf(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return A2(this.persistence,new S2,e.initialUser,this.serializer)}yu(e){return new Jb(Ey.fi,this.serializer)}pu(e){return new M2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cf.provider={build:()=>new cf};class ej extends cf{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Ae(this.persistence.referenceDelegate instanceof Dg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _2(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new Jb(r=>Dg.fi(r,t),this.serializer)}}class X2 extends cf{constructor(e,t,r){super(),this.Du=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await yw(this.Du.syncEngine),await Mc(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return A2(this.persistence,new S2,e.initialUser,this.serializer)}Su(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new _2(r,e.asyncQueue,t)}bu(e,t){const r=new uB(t,this.persistence);return new lB(e.asyncQueue,r)}yu(e){const t=ew(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new Zb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,V2(),Jm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new M2}}class tj extends X2{constructor(e,t){super(e,t,!1),this.Du=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Du.syncEngine;this.sharedClientState instanceof T0&&(this.sharedClientState.syncEngine={Co:WF.bind(null,t),Fo:XF.bind(null,t),Mo:JF.bind(null,t),Is:YF.bind(null,t),vo:KF.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await QF(this.Du.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}pu(e){const t=V2();if(!T0.C(t))throw new fe(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ew(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new T0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class hf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HF.bind(null,this.syncEngine),await vE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IF}()}createDatastore(e){const t=Bf(e.databaseInfo.databaseId),r=function(o){return new lF(o)}(e.databaseInfo);return function(o,u,h,f){return new dF(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new pF(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>TR(this.syncEngine,t,0),function(){return gR.C()?new gR:new iF}())}createSyncEngine(e,t){return function(i,o,u,h,f,d,g){const _=new NF(i,o,u,h,f,d);return g&&(_.Au=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(vl,"RemoteStore shutting down."),o.Ta.add(5),await kc(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}hf.provider={build:()=>new hf};function AR(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,t){this.Fu=e,this.serializer=t,this.metadata=new Vn,this.buffer=new Uint8Array,this.Mu=function(){return new TextDecoder("utf-8")}(),this.xu().then(r=>{r&&r.qa()?this.metadata.resolve(r.ka.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ka)}`))},r=>this.metadata.reject(r))}close(){return this.Fu.cancel()}async getMetadata(){return this.metadata.promise}async gu(){return await this.getMetadata(),this.xu()}async xu(){const e=await this.Ou();if(e===null)return null;const t=this.Mu.decode(e),r=Number(t);isNaN(r)&&this.Nu(`length string (${t}) is not valid number`);const i=await this.Bu(r);return new xF(JSON.parse(i),e.length+r)}Lu(){return this.buffer.findIndex(e=>e===123)}async Ou(){for(;this.Lu()<0&&!await this.ku(););if(this.buffer.length===0)return null;const e=this.Lu();e<0&&this.Nu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Bu(e){for(;this.buffer.length<e;)await this.ku()&&this.Nu("Reached the end of bundle when more is expected.");const t=this.Mu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Nu(e){throw this.Fu.cancel(),new Error(`Invalid bundle format: ${e}`)}async ku(){const e=await this.Fu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>lf(u.serializer,_))},f=await u.Yo("BatchGetDocuments",u.serializer.databaseId,$e.emptyPath(),h,o.length),d=new Map;f.forEach(_=>{const v=m9(u.serializer,_);d.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=d.get(_.toString());Ae(!!v,55234,{key:_}),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=ve.fromPath(r);this.mutations.push(new zb(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>uf(o.serializer,h))};await o.zo("Commit",o.serializer.databaseId,$e.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we(50498,{qu:e.constructor.name});t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new fe(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?xt.exists(!1):xt.updateTime(t):xt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new fe(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xt.updateTime(t)}return xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Qu=r.maxAttempts,this.C_=new iw(this.asyncQueue,"transaction_retry")}$u(){this.Qu-=1,this.Uu()}Uu(){this.C_.f_(async()=>{const e=new rj(this.datastore),t=this.Ku(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Wu(i)}))}).catch(r=>{this.Wu(r)})})}Ku(e){try{const t=this.updateFunction(e);return!Of(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Wu(e){this.Qu>0&&this.Gu(e)?(this.Qu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Uu(),Promise.resolve()))):this.deferred.reject(e)}Gu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!WO(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="FirestoreClient";class sj{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=An.UNAUTHENTICATED,this.clientId=JP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(Wa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(Wa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Lc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function A0(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Wa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await I2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function IR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _w(n);pe(Wa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>_R(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>_R(e.remoteStore,i)),n._onlineComponents=e}async function _w(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Wa,"Using user provided OfflineComponentProvider");try{await A0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Yi("Error using user provided cache. Falling back to memory cache: "+t),await A0(n,new cf)}}else pe(Wa,"Using default OfflineComponentProvider"),await A0(n,new ej(void 0));return n._offlineComponents}async function Sy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Wa,"Using user provided OnlineComponentProvider"),await IR(n,n._uninitializedComponentsProvider._online)):(pe(Wa,"Using default OnlineComponentProvider"),await IR(n,new hf))),n._onlineComponents}function J2(n){return _w(n).then(e=>e.persistence)}function vw(n){return _w(n).then(e=>e.localStore)}function Z2(n){return Sy(n).then(e=>e.remoteStore)}function Ew(n){return Sy(n).then(e=>e.syncEngine)}function aj(n){return Sy(n).then(e=>e.datastore)}async function yc(n){const e=await Sy(n),t=e.eventManager;return t.onListen=kF.bind(null,e.syncEngine),t.onUnlisten=VF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=LF.bind(null,e.syncEngine),t}function oj(n){return n.asyncQueue.enqueue(async()=>{const e=await J2(n),t=await Z2(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.Ta.delete(0),Ff(o)}(t)})}function lj(n){return n.asyncQueue.enqueue(async()=>{const e=await J2(n),t=await Z2(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.Ta.add(0),await kc(o),o.da.set("Offline")}(t)})}function uj(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(d,g){const _=Ee(d);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new fe(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Lc(h,`Failed to get document '${o} from cache`);u.reject(f)}}(await vw(n),e,t)),t.promise}function eD(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new Ty({next:v=>{g.Cu(),u.enqueueAndForget(()=>cw(o,_));const T=v.docs.has(h);!T&&v.fromCache?d.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&f&&f.source==="server"?d.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new dw(Oc(h.path),g,{includeMetadataChanges:!0,La:!0});return uw(o,_)}(await yc(n),n.asyncQueue,e,t,r)),r.promise}function cj(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await Ng(i,o,!0),f=new G2(o,h.$s),d=f.Za(h.documents),g=f.applyChanges(d,!1);u.resolve(g.snapshot)}catch(h){const f=Lc(h,`Failed to execute query '${o} against cache`);u.reject(f)}}(await vw(n),e,t)),t.promise}function tD(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new Ty({next:v=>{g.Cu(),u.enqueueAndForget(()=>cw(o,_)),v.fromCache&&f.source==="server"?d.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new dw(h,g,{includeMetadataChanges:!0,La:!0});return uw(o,_)}(await yc(n),n.asyncQueue,e,t,r)),r.promise}function hj(n,e){const t=new Ty(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ba.add(o),o.next()}(await yc(n),t)),()=>{t.Cu(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ba.delete(o)}(await yc(n),t))}}function dj(n,e,t,r){const i=function(u,h){let f;return f=typeof u=="string"?xb().encode(u):u,function(g,_){return new nj(g,_)}(function(g,_){if(g instanceof Uint8Array)return AR(g,_);if(g instanceof ArrayBuffer)return AR(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),h)}(t,Bf(e));n.asyncQueue.enqueueAndForget(async()=>{ZF(await Ew(n),i,r)})}function fj(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ei.getNamedQuery(u,i))}(await vw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n,e,t){if(!t)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rD(n,e,t,r){if(e===!0&&r===!0)throw new fe(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function CR(n){if(!ve.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xR(n){if(ve.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ay(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Ze(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ay(n);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iD(n,e){if(e<=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="firestore.googleapis.com",PR=!0;class OR{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sD,this.ssl=PR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:PR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k9)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XU;switch(r.type){case"firstParty":return new tB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=RR.get(t);r&&(pe("ComponentProvider","Removing Datastore"),RR.delete(t),r.terminate())}(this),Promise.resolve()}}function pj(n,e,t,r={}){var i;n=Ze(n,jf);const o=Tf(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o&&(Cx(`https://${f}`),xx("Firestore",!0)),u.host!==sD&&u.host!==f&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!Ms(d,h)&&(n._setSettings(d),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=An.MOCK_USER;else{g=t4(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new An(v)}n._authCredentials=new JU(new XP(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let er=class aD{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aD(this.firestore,e,this._query)}},Mt=class oD{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new La(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oD(this.firestore,e,this._key)}},La=class lD extends er{constructor(e,t,r){super(e,t,Oc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ve(e))}withConverter(e){return new lD(this.firestore,e,this._path)}};function uD(n,e,...t){if(n=Ce(n),bw("collection","path",e),n instanceof jf){const r=$e.fromString(e,...t);return xR(r),new La(n,null,r)}{if(!(n instanceof Mt||n instanceof La))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return xR(r),new La(n.firestore,null,r)}}function mj(n,e){if(n=Ze(n,jf),bw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new er(n,null,function(r){return new $s($e.emptyPath(),r)}(e))}function Lg(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=JP.newId()),bw("doc","path",e),n instanceof jf){const r=$e.fromString(e,...t);return CR(r),new Mt(n,null,new ve(r))}{if(!(n instanceof Mt||n instanceof La))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return CR(r),new Mt(n.firestore,n instanceof La?n.converter:null,new ve(r))}}function cD(n,e){return n=Ce(n),e=Ce(e),(n instanceof Mt||n instanceof La)&&(e instanceof Mt||e instanceof La)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function hD(n,e){return n=Ce(n),e=Ce(e),n instanceof er&&e instanceof er&&n.firestore===e.firestore&&kf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="AsyncQueue";class NR{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new iw(this,"async_queue_retry"),this.ec=()=>{const r=Jm();r&&pe(DR,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=Jm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Jm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Vn;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!io(e))throw e;pe(DR,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Yt("INTERNAL UNHANDLED ERROR: ",kR(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=lw.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&we(47125,{_c:kR(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function kR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class gj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=-1;let Jt=class extends jf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new NR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NR(e),this._firestoreClient=void 0,await e}}};function $n(n){if(n._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dD(n),n._firestoreClient}function dD(n){var e,t,r;const i=n._freezeSettings(),o=function(h,f,d,g){return new UB(h,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,nD(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new sj(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}function _j(n,e){Yi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return fD(n,hf.provider,{build:r=>new X2(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function vj(n){Yi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();fD(n,hf.provider,{build:t=>new tj(t,e.cacheSizeBytes)})}function fD(n,e,t){if((n=Ze(n,Jt))._firestoreClient||n._terminated)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new fe(ie.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},dD(n)}function Ej(n){if(n._initialized&&!n._terminated)throw new fe(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Hi.C())return Promise.resolve();const i=r+T2;await Hi.delete(i)}(ew(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function bj(n){return function(t){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>zF(await Ew(t),r)),r.promise}($n(n=Ze(n,Jt)))}function wj(n){return oj($n(n=Ze(n,Jt)))}function Tj(n){return lj($n(n=Ze(n,Jt)))}function Sj(n,e){const t=$n(n=Ze(n,Jt)),r=new gj;return dj(t,n._databaseId,e,r),r}function Aj(n,e){return fj($n(n=Ze(n,Jt)),e).then(t=>t?new er(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ji(zt.fromBase64String(e))}catch(t){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ji(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=/^__.*__$/;class Rj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dc(e,this.data,t,this.fieldTransforms)}}class pD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{hc:n})}}class Ry{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ug(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(mD(this.hc)&&Ij.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Cj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bf(e)}gc(e,t,r,i=!1){return new Ry({hc:e,methodName:t,fc:r,path:Ct.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cl(n){const e=n._freezeSettings(),t=Bf(n._databaseId);return new Cj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Cy(n,e,t,r,i,o={}){const u=n.gc(o.merge||o.mergeFields?2:0,e,t,i);xw("Data must be an object, but it was:",u,r);const h=_D(r,u);let f,d;if(o.merge)f=new or(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=TE(e,_,t);if(!u.contains(v))throw new fe(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);ED(g,v)||g.push(v)}f=new or(g),d=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,d=u.fieldTransforms;return new Rj(new Mn(h),f,d)}class zf extends Rl{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function gD(n,e,t){return new Ry({hc:3,fc:e.settings.fc,methodName:n._methodName,Ec:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tw extends Rl{_toFieldTransform(e){return new Vf(e.path,new uc)}isEqual(e){return e instanceof Tw}}class Sw extends Rl{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=gD(this,e,!0),r=this.yc.map(o=>xl(o,t)),i=new pl(r);return new Vf(e.path,i)}isEqual(e){return e instanceof Sw&&Ms(this.yc,e.yc)}}class Aw extends Rl{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=gD(this,e,!0),r=this.yc.map(o=>xl(o,t)),i=new ml(r);return new Vf(e.path,i)}isEqual(e){return e instanceof Aw&&Ms(this.yc,e.yc)}}class Iw extends Rl{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new cc(e.serializer,jO(e.serializer,this.wc));return new Vf(e.path,t)}isEqual(e){return e instanceof Iw&&this.wc===e.wc}}function Rw(n,e,t,r){const i=n.gc(1,e,t);xw("Data must be an object, but it was:",i,r);const o=[],u=Mn.empty();so(r,(f,d)=>{const g=Pw(e,f,t);d=Ce(d);const _=i.Ac(g);if(d instanceof zf)o.push(g);else{const v=xl(d,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new or(o);return new pD(u,h,i.fieldTransforms)}function Cw(n,e,t,r,i,o){const u=n.gc(1,e,t),h=[TE(e,r,t)],f=[i];if(o.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(TE(e,o[v])),f.push(o[v+1]);const d=[],g=Mn.empty();for(let v=h.length-1;v>=0;--v)if(!ED(d,h[v])){const T=h[v];let b=f[v];b=Ce(b);const A=u.Ac(T);if(b instanceof zf)d.push(T);else{const P=xl(b,A);P!=null&&(d.push(T),g.set(T,P))}}const _=new or(d);return new pD(g,_,u.fieldTransforms)}function yD(n,e,t,r=!1){return xl(t,n.gc(r?4:3,e))}function xl(n,e){if(vD(n=Ce(n)))return xw("Unsupported field value:",e,n),_D(n,e);if(n instanceof Rl)return function(r,i){if(!mD(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let f=xl(h,i.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pt.fromDate(r);return{timestampValue:hc(i.serializer,o)}}if(r instanceof Pt){const o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hc(i.serializer,o)}}if(r instanceof Iy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ji)return{bytesValue:JO(i.serializer,r._byteString)};if(r instanceof Mt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Kb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ww)return function(u,h){return{mapValue:{fields:{[Vb]:{stringValue:Lb},[ac]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw h.Vc("VectorValues must only contain numeric values.");return jb(h.serializer,d)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Ay(r)}`)}(n,e)}function _D(n,e){const t={};return gO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(n,(r,i)=>{const o=xl(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function vD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Iy||n instanceof Ji||n instanceof Mt||n instanceof Rl||n instanceof ww)}function xw(n,e,t){if(!vD(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Ay(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function TE(n,e,t){if((e=Ce(e))instanceof Qa)return e._internalPath;if(typeof e=="string")return Pw(n,e);throw Ug("Field path arguments must be of type string or ",n,!1,void 0,t)}const xj=new RegExp("[~\\*/\\[\\]]");function Pw(n,e,t){if(e.search(xj)>=0)throw Ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qa(...e.split("."))._internalPath}catch{throw Ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ug(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new fe(ie.INVALID_ARGUMENT,h+n+f)}function ED(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Pj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Pj extends df{data(){return super.data()}}function xy(n,e){return typeof e=="string"?Pw(n,e):e instanceof Qa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ow{}class qf extends Ow{}function Ra(n,e,...t){let r=[];e instanceof Ow&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof Dw).length,h=o.filter(f=>f instanceof Py).length;if(u>1||u>0&&h>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Py extends qf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Py(e,t,r)}_apply(e){const t=this._parse(e);return TD(e._query,t),new er(e.firestore,e.converter,uE(e._query,t))}_parse(e){const t=Cl(e.firestore);return function(o,u,h,f,d,g,_){let v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){VR(_,g);const b=[];for(const A of _)b.push(MR(f,o,A));v={arrayValue:{values:b}}}else v=MR(f,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||VR(_,g),v=yD(h,u,_,g==="in"||g==="not-in");return Ge.create(d,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Oj(n,e,t){const r=e,i=xy("where",n);return Py._create(i,r,t)}class Dw extends Ow{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:lt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const f of h)TD(u,f),u=uE(u,f)}(e._query,t),new er(e.firestore,e.converter,uE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nw extends qf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Nw(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new of(o,u)}(e._query,this._field,this._direction);return new er(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new $s(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Dj(n,e="asc"){const t=e,r=xy("orderBy",n);return Nw._create(r,t)}class Oy extends qf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Oy(e,t,r)}_apply(e){return new er(e.firestore,e.converter,Cg(e._query,this._limit,this._limitType))}}function Nj(n){return iD("limit",n),Oy._create("limit",n,"F")}function kj(n){return iD("limitToLast",n),Oy._create("limitToLast",n,"L")}class Dy extends qf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Dy(e,t,r)}_apply(e){const t=wD(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(i,o){return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function Mj(...n){return Dy._create("startAt",n,!0)}function Vj(...n){return Dy._create("startAfter",n,!1)}class Ny extends qf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ny(e,t,r)}_apply(e){const t=wD(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(i,o){return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function Lj(...n){return Ny._create("endBefore",n,!1)}function Uj(...n){return Ny._create("endAt",n,!0)}function wD(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof df)return function(o,u,h,f,d){if(!f)throw new fe(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of $u(o))if(_.field.isKeyField())g.push(dl(u,f.key));else{const v=f.data.field(_.field);if(fy(v))throw new fe(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new fe(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new Ga(g,d)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Cl(n.firestore);return function(u,h,f,d,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new fe(ie.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let b=0;b<g.length;b++){const A=g[b];if(v[b].field.isKeyField()){if(typeof A!="string")throw new fe(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof A}`);if(!Bb(u)&&A.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${A}' contains a slash.`);const P=u.path.child($e.fromString(A));if(!ve.isDocumentKey(P))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const L=new ve(P);T.push(dl(h,L))}else{const P=yD(f,d,A);T.push(P)}}return new Ga(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function MR(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bb(e)&&t.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($e.fromString(t));if(!ve.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dl(n,new ve(r))}if(t instanceof Mt)return dl(n,t._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ay(t)}.`)}function VR(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TD(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class kw{convertValue(e,t="none"){switch(Ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return so(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ac].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>It(u.doubleValue));return new ww(o)}convertGeoPoint(e){return new Iy(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=py(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){const t=Us(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$e.fromString(e);Ae(u2(r),9688,{name:e});const i=new qa(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(t)||Yt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Bj extends kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Fs=class extends df{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},jd=class extends Fs{data(e={}){return super.data(e)}},Ya=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new rl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jd(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const f=new jd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new rl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new jd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new rl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:Fj(h.type),doc:f,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Fj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}function SD(n,e){return n instanceof Fs&&e instanceof Fs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ya&&e instanceof Ya&&n._firestore===e._firestore&&hD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt);return eD($n(e),n._key).then(t=>Mw(e,n,t))}class Pl extends kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function zj(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt),t=$n(e),r=new Pl(e);return uj(t,n._key).then(i=>new Fs(e,r,n._key,i,new rl(i!==null&&i.hasLocalMutations,!0),n.converter))}function qj(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt);return eD($n(e),n._key,{source:"server"}).then(t=>Mw(e,n,t))}function Hj(n){n=Ze(n,er);const e=Ze(n.firestore,Jt),t=$n(e),r=new Pl(e);return bD(n._query),tD(t,n._query).then(i=>new Ya(e,r,n,i))}function $j(n){n=Ze(n,er);const e=Ze(n.firestore,Jt),t=$n(e),r=new Pl(e);return cj(t,n._query).then(i=>new Ya(e,r,n,i))}function Gj(n){n=Ze(n,er);const e=Ze(n.firestore,Jt),t=$n(e),r=new Pl(e);return tD(t,n._query,{source:"server"}).then(i=>new Ya(e,r,n,i))}function LR(n,e,t){n=Ze(n,Mt);const r=Ze(n.firestore,Jt),i=ky(n.converter,e,t);return Hf(r,[Cy(Cl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,xt.none())])}function UR(n,e,t,...r){n=Ze(n,Mt);const i=Ze(n.firestore,Jt),o=Cl(i);let u;return u=typeof(e=Ce(e))=="string"||e instanceof Qa?Cw(o,"updateDoc",n._key,e,t,r):Rw(o,"updateDoc",n._key,e),Hf(i,[u.toMutation(n._key,xt.exists(!0))])}function Kj(n){return Hf(Ze(n.firestore,Jt),[new Nc(n._key,xt.none())])}function Wj(n,e){const t=Ze(n.firestore,Jt),r=Lg(n),i=ky(n.converter,e);return Hf(t,[Cy(Cl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,xt.exists(!1))]).then(()=>r)}function AD(n,...e){var t,r,i;n=Ce(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||wE(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(wE(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let f,d,g;if(n instanceof Mt)d=Ze(n.firestore,Jt),g=Oc(n._key.path),f={next:_=>{e[u]&&e[u](Mw(d,n,_))},error:e[u+1],complete:e[u+2]};else{const _=Ze(n,er);d=Ze(_.firestore,Jt),g=_._query;const v=new Pl(d);f={next:T=>{e[u]&&e[u](new Ya(d,v,_,T))},error:e[u+1],complete:e[u+2]},bD(n._query)}return function(v,T,b,A){const P=new Ty(A),L=new dw(T,P,b);return v.asyncQueue.enqueueAndForget(async()=>uw(await yc(v),L)),()=>{P.Cu(),v.asyncQueue.enqueueAndForget(async()=>cw(await yc(v),L))}}($n(d),g,h,f)}function Qj(n,e){return hj($n(n=Ze(n,Jt)),wE(e)?e:{next:e})}function Hf(n,e){return function(r,i){const o=new Vn;return r.asyncQueue.enqueueAndForget(async()=>UF(await Ew(r),i,o)),o.promise}($n(n),e)}function Mw(n,e,t){const r=t.docs.get(e._key),i=new Pl(n);return new Fs(n,i,e._key,r,new rl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xj=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cl(e)}set(e,t,r){this._verifyNotCommitted();const i=Oa(e,this._firestore),o=ky(i.converter,t,r),u=Cy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,xt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Oa(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof Qa?Cw(this._dataReader,"WriteBatch.update",o._key,t,r,i):Rw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,xt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Oa(e,this._firestore);return this._mutations=this._mutations.concat(new Nc(t._key,xt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Oa(n,e){if((n=Ce(n)).firestore!==e)throw new fe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cl(e)}get(e){const t=Oa(e,this._firestore),r=new Bj(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we(24041);const o=i[0];if(o.isFoundDocument())return new df(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new df(this._firestore,r,t._key,null,t.converter);throw we(18433,{doc:o})})}set(e,t,r){const i=Oa(e,this._firestore),o=ky(i.converter,t,r),u=Cy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=Oa(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof Qa?Cw(this._dataReader,"Transaction.update",o._key,t,r,i):Rw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Oa(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zj=class extends Jj{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Oa(e,this._firestore),r=new Pl(this._firestore);return super.get(e).then(i=>new Fs(this._firestore,r,t._key,i._document,new rl(!1,!1),t.converter))}};function ez(n,e,t){n=Ze(n,Jt);const r=Object.assign(Object.assign({},Yj),t);return function(o){if(o.maxAttempts<1)throw new fe(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const f=new Vn;return o.asyncQueue.enqueueAndForget(async()=>{const d=await aj(o);new ij(o.asyncQueue,d,h,u,f).$u()}),f.promise}($n(n),i=>e(new Zj(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(){return new zf("deleteField")}function nz(){return new Tw("serverTimestamp")}function rz(...n){return new Sw("arrayUnion",n)}function iz(...n){return new Aw("arrayRemove",n)}function sz(n){return new Iw("increment",n)}(function(e,t=!0){(function(i){Pc=i})(to),Fa(new Wi("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Jt(new ZU(r.getProvider("auth-internal")),new nB(u,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(d.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),oi(f1,p1,e),oi(f1,p1,"esm2017")})();const az="@firebase/firestore-compat",oz="0.3.51";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){if(typeof Uint8Array>"u")throw new fe("unimplemented","Uint8Arrays are not available in this environment.")}function FR(){if(!VB())throw new fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let ID=class SE{constructor(e){this._delegate=e}static fromBase64String(e){return FR(),new SE(Ji.fromBase64String(e))}static fromUint8Array(e){return BR(),new SE(Ji.fromUint8Array(e))}toBase64(){return FR(),this._delegate.toBase64()}toUint8Array(){return BR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n){return lz(n,["next","error","complete"])}function lz(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{enableIndexedDbPersistence(e,t){return _j(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return vj(e._delegate)}clearIndexedDbPersistence(e){return Ej(e._delegate)}}class RD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof qa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Yi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){pj(this._delegate,e,t,r)}enableNetwork(){return wj(this._delegate)}disableNetwork(){return Tj(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return bj(this._delegate)}onSnapshotsInSync(e){return Qj(this._delegate,e)}get app(){if(!this._appCompat)throw new fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _c(this,uD(this._delegate,e))}catch(t){throw Xn(t,"collection()","Firestore.collection()")}}doc(e){try{return new $r(this,Lg(this._delegate,e))}catch(t){throw Xn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yn(this,mj(this._delegate,e))}catch(t){throw Xn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return ez(this._delegate,t=>e(new CD(this,t)))}batch(){return $n(this._delegate),new xD(new Xj(this._delegate,e=>Hf(this._delegate,e)))}loadBundle(e){return Sj(this._delegate,e)}namedQuery(e){return Aj(this._delegate,e).then(t=>t?new Yn(this,t):null)}}class My extends kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ID(new Ji(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $r.forKey(t,this.firestore,null)}}function cz(n){QU(n)}class CD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new My(e)}get(e){const t=il(e);return this._delegate.get(t).then(r=>new ff(this._firestore,new Fs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=il(e);return r?(Vw("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=il(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=il(e);return this._delegate.delete(t),this}}class xD{constructor(e){this._delegate=e}set(e,t,r){const i=il(e);return r?(Vw("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=il(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=il(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class El{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new jd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=El.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new El(e,new My(e),t),i.set(t,o)),o}}El.INSTANCES=new WeakMap;class $r{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new My(e)}static forPath(e,t,r){if(e.length%2!==0)throw new fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $r(t,new Mt(t._delegate,r,new ve(e)))}static forKey(e,t,r){return new $r(t,new Mt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _c(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _c(this.firestore,uD(this._delegate,e))}catch(t){throw Xn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Mt?cD(this._delegate,e):!1}set(e,t){t=Vw("DocumentReference.set",t);try{return t?LR(this._delegate,e,t):LR(this._delegate,e)}catch(r){throw Xn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?UR(this._delegate,e):UR(this._delegate,e,t,...r)}catch(i){throw Xn(i,"updateDoc()","DocumentReference.update()")}}delete(){return Kj(this._delegate)}onSnapshot(...e){const t=PD(e),r=OD(e,i=>new ff(this.firestore,new Fs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return AD(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=zj(this._delegate):(e==null?void 0:e.source)==="server"?t=qj(this._delegate):t=jj(this._delegate),t.then(r=>new ff(this.firestore,new Fs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $r(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Xn(n,e,t){return n.message=n.message.replace(e,t),n}function PD(n){for(const e of n)if(typeof e=="object"&&!AE(e))return e;return{}}function OD(n,e){var t,r;let i;return AE(n[0])?i=n[0]:AE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class ff{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $r(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return SD(this._delegate,e._delegate)}}class pf extends ff{data(e){const t=this._delegate.data(e);return this._delegate._converter||YU(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Yn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new My(e)}where(e,t,r){try{return new Yn(this.firestore,Ra(this._delegate,Oj(e,t,r)))}catch(i){throw Xn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yn(this.firestore,Ra(this._delegate,Dj(e,t)))}catch(r){throw Xn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yn(this.firestore,Ra(this._delegate,Nj(e)))}catch(t){throw Xn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Yn(this.firestore,Ra(this._delegate,kj(e)))}catch(t){throw Xn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Yn(this.firestore,Ra(this._delegate,Mj(...e)))}catch(t){throw Xn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Yn(this.firestore,Ra(this._delegate,Vj(...e)))}catch(t){throw Xn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Yn(this.firestore,Ra(this._delegate,Lj(...e)))}catch(t){throw Xn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Yn(this.firestore,Ra(this._delegate,Uj(...e)))}catch(t){throw Xn(t,"endAt()","Query.endAt()")}}isEqual(e){return hD(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=$j(this._delegate):(e==null?void 0:e.source)==="server"?t=Gj(this._delegate):t=Hj(this._delegate),t.then(r=>new IE(this.firestore,new Ya(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=PD(e),r=OD(e,i=>new IE(this.firestore,new Ya(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return AD(this._delegate,t,r)}withConverter(e){return new Yn(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class hz{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new pf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new pf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new hz(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new pf(this._firestore,r))})}isEqual(e){return SD(this._delegate,e._delegate)}}class _c extends Yn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $r(this.firestore,e):null}doc(e){try{return e===void 0?new $r(this.firestore,Lg(this._delegate)):new $r(this.firestore,Lg(this._delegate,e))}catch(t){throw Xn(t,"doc()","CollectionReference.doc()")}}add(e){return Wj(this._delegate,e).then(t=>new $r(this.firestore,t))}isEqual(e){return cD(this._delegate,e._delegate)}withConverter(e){return new _c(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function il(n){return Ze(n,Mt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(...e){this._delegate=new Qa(...e)}static documentId(){return new Lw(Ct.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof Qa?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static serverTimestamp(){const e=nz();return e._methodName="FieldValue.serverTimestamp",new el(e)}static delete(){const e=tz();return e._methodName="FieldValue.delete",new el(e)}static arrayUnion(...e){const t=rz(...e);return t._methodName="FieldValue.arrayUnion",new el(t)}static arrayRemove(...e){const t=iz(...e);return t._methodName="FieldValue.arrayRemove",new el(t)}static increment(e){const t=sz(e);return t._methodName="FieldValue.increment",new el(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz={Firestore:RD,GeoPoint:Iy,Timestamp:Pt,Blob:ID,Transaction:CD,WriteBatch:xD,DocumentReference:$r,DocumentSnapshot:ff,Query:Yn,QueryDocumentSnapshot:pf,QuerySnapshot:IE,CollectionReference:_c,FieldPath:Lw,FieldValue:el,setLogLevel:cz,CACHE_SIZE_UNLIMITED:yj};function fz(n,e){n.INTERNAL.registerComponent(new Wi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},dz)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(n){fz(n,(e,t)=>new RD(e,t,new uz)),n.registerVersion(az,oz)}pz(Ic);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=2e3;async function gz(n,e,t){var r;const{BuildInfo:i}=bl();li(e.sessionId,"AuthEvent did not contain a session ID");const o=await bz(e.sessionId),u={};return If()?u.ibi=i.packageName:Af()?u.apn=i.packageName:Rn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,Q0(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function yz(n){const{BuildInfo:e}=bl(),t={};If()?t.iosBundleId=e.packageName:Af()?t.androidPackageName=e.packageName:Rn(n,"operation-not-supported-in-this-environment"),await jP(n,t)}function _z(n){const{cordova:e}=bl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,n5()?"_blank":"_system","location=yes"),t(i)})})}async function vz(n,e,t){const{cordova:r}=bl();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function f(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function d(){h||(h=window.setTimeout(()=>{u(yn(n,"redirect-cancelled-by-user"))},mz))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(f),document.addEventListener("resume",d,!1),Af()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function Ez(n){var e,t,r,i,o,u,h,f,d,g;const _=bl();ye(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((f=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((g=(d=_==null?void 0:_.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function bz(n){const e=wz(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function wz(n){if(li(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=20;class Sz extends BP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Az(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:Cz(),postBody:null,tenantId:n.tenantId,error:yn(n,"no-auth-event")}}function Iz(n,e){return RE()._set(CE(n),e)}async function jR(n){const e=await RE()._get(CE(n));return e&&await RE()._remove(CE(n)),e}function Rz(n,e){var t,r;const i=Pz(e);if(i.includes("/__/auth/callback")){const o=Zm(i),u=o.firebaseError?xz(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],f=h?yn(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function Cz(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Tz;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function RE(){return Ir(iy)}function CE(n){return al("authEvent",n.config.apiKey,n.name)}function xz(n){try{return JSON.parse(n)}catch{return null}}function Pz(n){const e=Zm(n),t=e.link?decodeURIComponent(e.link):void 0,r=Zm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Zm(i).link||i||r||t||n}function Zm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Bu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=500;class Dz{constructor(){this._redirectPersistence=ja,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ly,this._overrideRedirectResult=Ib}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new Sz(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){Ez(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),iU(),await this._originValidation(e);const u=Az(e,r,i);await Iz(e,u);const h=await gz(e,u,t),f=await _z(h);return vz(e,o,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yz(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=bl(),u=setTimeout(async()=>{await jR(e),t.onEvent(zR())},Oz),h=async g=>{clearTimeout(u);const _=await jR(e);let v=null;_&&(g!=null&&g.url)&&(v=Rz(_,g.url)),t.onEvent(v||zR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=i,d=`${o.packageName.toLowerCase()}://`;bl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(d)&&h({url:g}),typeof f=="function")try{f(g)}catch(_){console.error(_)}}}}const Nz=Dz;function zR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(n,e){Lt(n)._logFramework(e)}var Mz="@firebase/auth-compat",Vz="0.5.26";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=1e3;function zd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function Uz(){return zd()==="http:"||zd()==="https:"}function DD(n=Vt()){return!!((zd()==="file:"||zd()==="ionic:"||zd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bz(){return sb()||Qg()}function Fz(){return Dx()&&(document==null?void 0:document.documentMode)===11}function jz(n=Vt()){return/Edge\/\d+/.test(n)}function zz(n=Vt()){return Fz()||jz(n)}function ND(){try{const n=self.localStorage,e=xf();if(n)return n.setItem(e,"1"),n.removeItem(e),zz()?Gd():!0}catch{return Uw()&&Gd()}return!1}function Uw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function I0(){return(Uz()||Ox()||DD())&&!Bz()&&ND()&&!Uw()}function kD(){return DD()&&typeof document<"u"}async function qz(){return kD()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},Lz);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function Hz(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={LOCAL:"local",NONE:"none",SESSION:"session"},id=ye,MD="persistence";function $z(n,e){if(id(Object.values(Sr).includes(e),n,"invalid-persistence-type"),sb()){id(e!==Sr.SESSION,n,"unsupported-persistence-type");return}if(Qg()){id(e===Sr.NONE,n,"unsupported-persistence-type");return}if(Uw()){id(e===Sr.NONE||e===Sr.LOCAL&&Gd(),n,"unsupported-persistence-type");return}id(e===Sr.NONE||ND(),n,"unsupported-persistence-type")}async function xE(n){await n._initializationPromise;const e=VD(),t=al(MD,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function Gz(n,e){const t=VD();if(!t)return[];const r=al(MD,n,e);switch(t.getItem(r)){case Sr.NONE:return[Xu];case Sr.LOCAL:return[Zu,ja];case Sr.SESSION:return[ja];default:return[]}}function VD(){var n;try{return((n=Hz())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=ye;class Da{constructor(){this.browserResolver=Ir(zP),this.cordovaResolver=Ir(Nz),this.underlyingResolver=null,this._redirectPersistence=ja,this._completeRedirectFn=ly,this._overrideRedirectResult=Ib}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return kD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Kz(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await qz();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(n){return n.unwrap()}function Wz(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(n){return UD(n)}function Yz(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Xz(n,v6(n,e))}else if(r){const i=UD(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function UD(n){const{_tokenResponse:e}=n instanceof Jn?n.customData:n;if(!e)return null;if(!(n instanceof Jn)&&"temporaryProof"in e&&"phoneNumber"in e)return hl.credentialFromResult(n);const t=e.providerId;if(!t||t===Xh.PASSWORD)return null;let r;switch(t){case Xh.GOOGLE:r=Li;break;case Xh.FACEBOOK:r=Vi;break;case Xh.GITHUB:r=Ui;break;case Xh.TWITTER:r=Bi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:f}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?Ju._create(t,h):Qi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new qu(t).credential({idToken:i,accessToken:o,rawNonce:f})}return n instanceof Jn?r.credentialFromError(n):r.credentialFromResult(n)}function sr(n,e){return e.catch(t=>{throw t instanceof Jn&&Yz(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:Qz(t),additionalUserInfo:g6(t),user:Os.getOrCreate(i)}})}async function PE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>sr(n,t.confirm(r))}}class Xz{constructor(e,t){this.resolver=t,this.auth=Wz(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return sr(LD(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._delegate=e,this.multiFactor=w6(e)}static getOrCreate(e){return Os.USER_MAP.has(e)||Os.USER_MAP.set(e,new Os(e)),Os.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return sr(this.auth,wP(this._delegate,e))}async linkWithPhoneNumber(e,t){return PE(this.auth,$6(this._delegate,e,t))}async linkWithPopup(e){return sr(this.auth,eU(this._delegate,e,Da))}async linkWithRedirect(e){return await xE(Lt(this.auth)),uU(this._delegate,e,Da)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return sr(this.auth,TP(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return PE(this.auth,G6(this._delegate,e,t))}reauthenticateWithPopup(e){return sr(this.auth,Z6(this._delegate,e,Da))}async reauthenticateWithRedirect(e){return await xE(Lt(this.auth)),oU(this._delegate,e,Da)}sendEmailVerification(e){return s6(this._delegate,e)}async unlink(e){return await K5(this._delegate,e),this}updateEmail(e){return u6(this._delegate,e)}updatePassword(e){return c6(this._delegate,e)}updatePhoneNumber(e){return K6(this._delegate,e)}updateProfile(e){return l6(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return a6(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Os.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=ye;let OE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;sd(r,"invalid-api-key",{appName:e.name}),sd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Da:void 0;this._delegate=t.initialize({options:{persistence:Jz(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(V3),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Os.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){pP(this._delegate,e,t)}applyActionCode(e){return J5(this._delegate,e)}checkActionCode(e){return SP(this._delegate,e)}confirmPasswordReset(e,t){return X5(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return sr(this._delegate,AP(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return i6(this._delegate,e)}isSignInWithEmailLink(e){return t6(this._delegate,e)}async getRedirectResult(){sd(I0(),this._delegate,"operation-not-supported-in-this-environment");const e=await hU(this._delegate,Da);return e?sr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){kz(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=qR(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=qR(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return e6(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Y5(this._delegate,e,t||void 0)}async setPersistence(e){$z(this._delegate,e);let t;switch(e){case Sr.SESSION:t=ja;break;case Sr.LOCAL:t=await Ir(Zu)._isAvailable()?Zu:iy;break;case Sr.NONE:t=Xu;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return sr(this._delegate,G5(this._delegate))}signInWithCredential(e){return sr(this._delegate,ny(this._delegate,e))}signInWithCustomToken(e){return sr(this._delegate,Q5(this._delegate,e))}signInWithEmailAndPassword(e,t){return sr(this._delegate,IP(this._delegate,e,t))}signInWithEmailLink(e,t){return sr(this._delegate,n6(this._delegate,e,t))}signInWithPhoneNumber(e,t){return PE(this._delegate,H6(this._delegate,e,t))}async signInWithPopup(e){return sd(I0(),this._delegate,"operation-not-supported-in-this-environment"),sr(this._delegate,J6(this._delegate,e,Da))}async signInWithRedirect(e){return sd(I0(),this._delegate,"operation-not-supported-in-this-environment"),await xE(this._delegate),sU(this._delegate,e,Da)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Z5(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};OE.Persistence=Sr;function qR(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Os.getOrCreate(u)),error:e,complete:t}}function Jz(n,e){const t=Gz(n,e);if(typeof self<"u"&&!t.includes(Zu)&&t.push(Zu),typeof window<"u")for(const r of[iy,ja])t.includes(r)||t.push(r);return t.includes(Xu)||t.push(Xu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{static credential(e,t){return hl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new hl(LD(Ic.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Bw.PHONE_SIGN_IN_METHOD=hl.PHONE_SIGN_IN_METHOD;Bw.PROVIDER_ID=hl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=ye;class e8{constructor(e,t,r=Ic.app()){var i;Zz((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new z6(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="auth-compat";function n8(n){n.INTERNAL.registerComponent(new Wi(t8,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new OE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:wu.EMAIL_SIGNIN,PASSWORD_RESET:wu.PASSWORD_RESET,RECOVER_EMAIL:wu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:wu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:wu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:wu.VERIFY_EMAIL}},EmailAuthProvider:no,FacebookAuthProvider:Vi,GithubAuthProvider:Ui,GoogleAuthProvider:Li,OAuthProvider:qu,SAMLAuthProvider:_g,PhoneAuthProvider:Bw,PhoneMultiFactorGenerator:qP,RecaptchaVerifier:e8,TwitterAuthProvider:Bi,Auth:OE,AuthCredential:Cc,Error:Jn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(Mz,Vz)}n8(Ic);const r8={apiKey:"AIzaSyD0fT5DTXoQEIgHcQX4IaEVlPs6excOhnI",authDomain:"clone-134c1.firebaseapp.com",projectId:"clone-134c1",storageBucket:"clone-134c1.firebasestorage.app",messagingSenderId:"924784592366",appId:"1:924784592366:web:ca0788351c2c0b97613aff"},DE=Ic.initializeApp(r8),Bg=KU(DE),BD=DE.firestore(DE),i8=()=>{var i;const[{user:n,basket:e},t]=W.useContext(zs),r=e==null?void 0:e.reduce((o,u)=>u.amount+o,0);return B.jsxs("section",{className:Oi.header_all_wrapper,children:[B.jsxs("section",{className:Oi.header_container,children:[B.jsxs("div",{className:Oi.logo_container,children:[B.jsx(Fi,{to:"/",children:B.jsx("img",{src:CL,alt:"Amazon Logo",className:Oi.logo})}),B.jsxs("div",{className:Oi.delivery,children:[B.jsx("span",{children:B.jsx(UL,{})}),B.jsxs("div",{children:[B.jsx("p",{children:"Deliver to"}),B.jsx("span",{children:"Ethiopia"})]})]})]}),B.jsxs("div",{className:Oi.search,children:[B.jsx("select",{name:"",id:"",children:B.jsx("option",{value:"",children:"All"})}),B.jsx("input",{type:"text",placeholder:"Search"}),B.jsx("button",{children:B.jsx(LL,{size:25})})]}),B.jsxs("div",{className:Oi.order_container,children:[B.jsxs("div",{className:Oi.language,children:[B.jsx("img",{src:xL,alt:"Flag"}),B.jsx("select",{children:B.jsx("option",{value:"EN",children:"EN"})})]}),B.jsx(Fi,{to:!n&&"/Auth",children:B.jsx("div",{children:n?B.jsxs(B.Fragment,{children:[B.jsxs("p",{children:["Hello ",(i=n==null?void 0:n.email)==null?void 0:i.split("@")[0]]}),B.jsx("span",{onClick:()=>Bg.signOut(),children:"Sign Out"})]}):B.jsxs(B.Fragment,{children:[B.jsx("p",{children:"Hello, sign in"}),B.jsx("span",{children:"Account & Lists"})]})})}),B.jsx(Fi,{to:"/Order",children:B.jsxs("div",{children:[B.jsx("p",{children:"Returns"}),B.jsx("span",{children:"& Orders"})]})}),B.jsxs(Fi,{to:"/Cart",className:Oi.cart,children:[B.jsx(BL,{size:35}),B.jsx("span",{children:r})]})]})]}),B.jsx(jL,{})]})},s8="_footer_wrapper_1hjnk_1",a8="_footer_h2_1hjnk_33",o8="_Footer_button_1hjnk_47",l8="_footer_Customer_1hjnk_85",u8="_backto_top_1hjnk_109",Ad={footer_wrapper:s8,footer_h2:a8,Footer_button:o8,footer_Customer:l8,backto_top:u8},c8=()=>B.jsxs("section",{className:Ad.footer_wrapper,children:[B.jsx("div",{className:Ad.footer_h2,children:B.jsx("h2",{children:"see personalized recommendation"})}),B.jsx("div",{children:B.jsx("button",{className:Ad.Footer_button,children:B.jsx("a",{href:"#",children:" sign in"})})}),B.jsxs("div",{className:Ad.footer_Customer,children:[B.jsx("p",{children:"new customer?"}),B.jsx("a",{href:"#",children:"start here"})]})]});function h8(){return B.jsx("div",{children:B.jsx("div",{className:Ad.backto_top,children:B.jsx("span",{children:"Back to Top"})})})}const wl=({children:n})=>B.jsxs("div",{children:[B.jsx(i8,{}),n,B.jsx(c8,{}),B.jsx(h8,{})]});function FD(n,e){return function(){return n.apply(e,arguments)}}const{toString:d8}=Object.prototype,{getPrototypeOf:Fw}=Object,{iterator:Vy,toStringTag:jD}=Symbol,Ly=(n=>e=>{const t=d8.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ui=n=>(n=n.toLowerCase(),e=>Ly(e)===n),Uy=n=>e=>typeof e===n,{isArray:Uc}=Array,mf=Uy("undefined");function f8(n){return n!==null&&!mf(n)&&n.constructor!==null&&!mf(n.constructor)&&ur(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const zD=ui("ArrayBuffer");function p8(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&zD(n.buffer),e}const m8=Uy("string"),ur=Uy("function"),qD=Uy("number"),By=n=>n!==null&&typeof n=="object",g8=n=>n===!0||n===!1,eg=n=>{if(Ly(n)!=="object")return!1;const e=Fw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(jD in n)&&!(Vy in n)},y8=ui("Date"),_8=ui("File"),v8=ui("Blob"),E8=ui("FileList"),b8=n=>By(n)&&ur(n.pipe),w8=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ur(n.append)&&((e=Ly(n))==="formdata"||e==="object"&&ur(n.toString)&&n.toString()==="[object FormData]"))},T8=ui("URLSearchParams"),[S8,A8,I8,R8]=["ReadableStream","Request","Response","Headers"].map(ui),C8=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $f(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Uc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function HD(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const sl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$D=n=>!mf(n)&&n!==sl;function NE(){const{caseless:n}=$D(this)&&this||{},e={},t=(r,i)=>{const o=n&&HD(e,i)||i;eg(e[o])&&eg(r)?e[o]=NE(e[o],r):eg(r)?e[o]=NE({},r):Uc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&$f(arguments[r],t);return e}const x8=(n,e,t,{allOwnKeys:r}={})=>($f(e,(i,o)=>{t&&ur(i)?n[o]=FD(i,t):n[o]=i},{allOwnKeys:r}),n),P8=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),O8=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},D8=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&Fw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},N8=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},k8=n=>{if(!n)return null;if(Uc(n))return n;let e=n.length;if(!qD(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},M8=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Fw(Uint8Array)),V8=(n,e)=>{const r=(n&&n[Vy]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},L8=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},U8=ui("HTMLFormElement"),B8=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),HR=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),F8=ui("RegExp"),GD=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};$f(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},j8=n=>{GD(n,(e,t)=>{if(ur(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ur(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},z8=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Uc(n)?r(n):r(String(n).split(e)),t},q8=()=>{},H8=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function $8(n){return!!(n&&ur(n.append)&&n[jD]==="FormData"&&n[Vy])}const G8=n=>{const e=new Array(10),t=(r,i)=>{if(By(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Uc(r)?[]:{};return $f(r,(u,h)=>{const f=t(u,i+1);!mf(f)&&(o[h]=f)}),e[i]=void 0,o}}return r};return t(n,0)},K8=ui("AsyncFunction"),W8=n=>n&&(By(n)||ur(n))&&ur(n.then)&&ur(n.catch),KD=((n,e)=>n?setImmediate:e?((t,r)=>(sl.addEventListener("message",({source:i,data:o})=>{i===sl&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),sl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ur(sl.postMessage)),Q8=typeof queueMicrotask<"u"?queueMicrotask.bind(sl):typeof process<"u"&&process.nextTick||KD,Y8=n=>n!=null&&ur(n[Vy]),oe={isArray:Uc,isArrayBuffer:zD,isBuffer:f8,isFormData:w8,isArrayBufferView:p8,isString:m8,isNumber:qD,isBoolean:g8,isObject:By,isPlainObject:eg,isReadableStream:S8,isRequest:A8,isResponse:I8,isHeaders:R8,isUndefined:mf,isDate:y8,isFile:_8,isBlob:v8,isRegExp:F8,isFunction:ur,isStream:b8,isURLSearchParams:T8,isTypedArray:M8,isFileList:E8,forEach:$f,merge:NE,extend:x8,trim:C8,stripBOM:P8,inherits:O8,toFlatObject:D8,kindOf:Ly,kindOfTest:ui,endsWith:N8,toArray:k8,forEachEntry:V8,matchAll:L8,isHTMLForm:U8,hasOwnProperty:HR,hasOwnProp:HR,reduceDescriptors:GD,freezeMethods:j8,toObjectSet:z8,toCamelCase:B8,noop:q8,toFiniteNumber:H8,findKey:HD,global:sl,isContextDefined:$D,isSpecCompliantForm:$8,toJSONObject:G8,isAsyncFn:K8,isThenable:W8,setImmediate:KD,asap:Q8,isIterable:Y8};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const WD=Me.prototype,QD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{QD[n]={value:n}});Object.defineProperties(Me,QD);Object.defineProperty(WD,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,o)=>{const u=Object.create(WD);return oe.toFlatObject(n,u,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Me.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const X8=null;function kE(n){return oe.isPlainObject(n)||oe.isArray(n)}function YD(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function $R(n,e,t){return n?n.concat(e).map(function(i,o){return i=YD(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function J8(n){return oe.isArray(n)&&!n.some(kE)}const Z8=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Fy(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,P){return!oe.isUndefined(P[A])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(oe.isDate(b))return b.toISOString();if(!f&&oe.isBlob(b))throw new Me("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(b)||oe.isTypedArray(b)?f&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function g(b,A,P){let L=b;if(b&&!P&&typeof b=="object"){if(oe.endsWith(A,"{}"))A=r?A:A.slice(0,-2),b=JSON.stringify(b);else if(oe.isArray(b)&&J8(b)||(oe.isFileList(b)||oe.endsWith(A,"[]"))&&(L=oe.toArray(b)))return A=YD(A),L.forEach(function(V,H){!(oe.isUndefined(V)||V===null)&&e.append(u===!0?$R([A],H,o):u===null?A:A+"[]",d(V))}),!1}return kE(b)?!0:(e.append($R(P,A,o),d(b)),!1)}const _=[],v=Object.assign(Z8,{defaultVisitor:g,convertValue:d,isVisitable:kE});function T(b,A){if(!oe.isUndefined(b)){if(_.indexOf(b)!==-1)throw Error("Circular reference detected in "+A.join("."));_.push(b),oe.forEach(b,function(L,U){(!(oe.isUndefined(L)||L===null)&&i.call(e,L,oe.isString(U)?U.trim():U,A,v))===!0&&T(L,A?A.concat(U):[U])}),_.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return T(n),e}function GR(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jw(n,e){this._pairs=[],n&&Fy(n,this,e)}const XD=jw.prototype;XD.append=function(e,t){this._pairs.push([e,t])};XD.toString=function(e){const t=e?function(r){return e.call(this,r,GR)}:GR;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function e7(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JD(n,e,t){if(!e)return n;const r=t&&t.encode||e7;oe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=oe.isURLSearchParams(e)?e.toString():new jw(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class KR{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ZD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t7=typeof URLSearchParams<"u"?URLSearchParams:jw,n7=typeof FormData<"u"?FormData:null,r7=typeof Blob<"u"?Blob:null,i7={isBrowser:!0,classes:{URLSearchParams:t7,FormData:n7,Blob:r7},protocols:["http","https","file","blob","url","data"]},zw=typeof window<"u"&&typeof document<"u",ME=typeof navigator=="object"&&navigator||void 0,s7=zw&&(!ME||["ReactNative","NativeScript","NS"].indexOf(ME.product)<0),a7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o7=zw&&window.location.href||"http://localhost",l7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zw,hasStandardBrowserEnv:s7,hasStandardBrowserWebWorkerEnv:a7,navigator:ME,origin:o7},Symbol.toStringTag,{value:"Module"})),qn={...l7,...i7};function u7(n,e){return Fy(n,new qn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return qn.isNode&&oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function c7(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function h7(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function eN(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),f=o>=t.length;return u=!u&&oe.isArray(i)?i.length:u,f?(oe.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!oe.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&oe.isArray(i[u])&&(i[u]=h7(i[u])),!h)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(r,i)=>{e(c7(r),i,t,0)}),t}return null}function d7(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Gf={transitional:ZD,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=oe.isObject(e);if(o&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(eN(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return u7(e,this.formSerializer).toString();if((h=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Fy(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),d7(e)):e}],transformResponse:[function(e){const t=this.transitional||Gf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Me.from(h,Me.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{Gf.headers[n]={}});const f7=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p7=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&f7[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},WR=Symbol("internals");function ad(n){return n&&String(n).trim().toLowerCase()}function tg(n){return n===!1||n==null?n:oe.isArray(n)?n.map(tg):String(n)}function m7(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const g7=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function R0(n,e,t,r,i){if(oe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function y7(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function _7(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let cr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,f,d){const g=ad(f);if(!g)throw new Error("header name must be a non-empty string");const _=oe.findKey(i,g);(!_||i[_]===void 0||d===!0||d===void 0&&i[_]!==!1)&&(i[_||f]=tg(h))}const u=(h,f)=>oe.forEach(h,(d,g)=>o(d,g,f));if(oe.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(oe.isString(e)&&(e=e.trim())&&!g7(e))u(p7(e),t);else if(oe.isObject(e)&&oe.isIterable(e)){let h={},f,d;for(const g of e){if(!oe.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[d=g[0]]=(f=h[d])?oe.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}u(h,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=ad(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return m7(i);if(oe.isFunction(t))return t.call(this,i,r);if(oe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ad(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||R0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=ad(u),u){const h=oe.findKey(r,u);h&&(!t||R0(r,r[h],h,t))&&(delete r[h],i=!0)}}return oe.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||R0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return oe.forEach(this,(i,o)=>{const u=oe.findKey(r,o);if(u){t[u]=tg(i),delete t[o];return}const h=e?y7(o):String(o).trim();h!==o&&delete t[o],t[h]=tg(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[WR]=this[WR]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=ad(u);r[h]||(_7(i,u),r[h]=!0)}return oe.isArray(e)?e.forEach(o):o(e),this}};cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(cr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});oe.freezeMethods(cr);function C0(n,e){const t=this||Gf,r=e||t,i=cr.from(r.headers);let o=r.data;return oe.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function tN(n){return!!(n&&n.__CANCEL__)}function Bc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Bc,Me,{__CANCEL__:!0});function nN(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function v7(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function E7(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),g=r[o];u||(u=d),t[i]=f,r[i]=d;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),d-u<e)return;const T=g&&d-g;return T?Math.round(v*1e3/T):void 0}}function b7(n,e){let t=0,r=1e3/e,i,o;const u=(d,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,d)};return[(...d)=>{const g=Date.now(),_=g-t;_>=r?u(d,g):(i=d,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const Fg=(n,e,t=3)=>{let r=0;const i=E7(50,250);return b7(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,f=u-r,d=i(f),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:f,rate:d||void 0,estimated:d&&h&&g?(h-u)/d:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},QR=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},YR=n=>(...e)=>oe.asap(()=>n(...e)),w7=qn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,qn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,T7=qn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),oe.isString(r)&&u.push("path="+r),oe.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S7(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function A7(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function rN(n,e,t){let r=!S7(e);return n&&(r||t==!1)?A7(n,e):e}const XR=n=>n instanceof cr?{...n}:n;function Tl(n,e){e=e||{};const t={};function r(d,g,_,v){return oe.isPlainObject(d)&&oe.isPlainObject(g)?oe.merge.call({caseless:v},d,g):oe.isPlainObject(g)?oe.merge({},g):oe.isArray(g)?g.slice():g}function i(d,g,_,v){if(oe.isUndefined(g)){if(!oe.isUndefined(d))return r(void 0,d,_,v)}else return r(d,g,_,v)}function o(d,g){if(!oe.isUndefined(g))return r(void 0,g)}function u(d,g){if(oe.isUndefined(g)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,g)}function h(d,g,_){if(_ in e)return r(d,g);if(_ in n)return r(void 0,d)}const f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(d,g,_)=>i(XR(d),XR(g),_,!0)};return oe.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=f[g]||i,v=_(n[g],e[g],g);oe.isUndefined(v)&&_!==h||(t[g]=v)}),t}const iN=n=>{const e=Tl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=cr.from(u),e.url=JD(rN(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(oe.isFormData(t)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[d,...g]=f?f.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([d||"multipart/form-data",...g].join("; "))}}if(qn.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&w7(e.url))){const d=i&&o&&T7.read(o);d&&u.set(i,d)}return e},I7=typeof XMLHttpRequest<"u",R7=I7&&function(n){return new Promise(function(t,r){const i=iN(n);let o=i.data;const u=cr.from(i.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:d}=i,g,_,v,T,b;function A(){T&&T(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function L(){if(!P)return;const V=cr.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),j={data:!h||h==="text"||h==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:V,config:n,request:P};nN(function(M){t(M),A()},function(M){r(M),A()},j),P=null}"onloadend"in P?P.onloadend=L:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(L)},P.onabort=function(){P&&(r(new Me("Request aborted",Me.ECONNABORTED,n,P)),P=null)},P.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,P)),P=null},P.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||ZD;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Me(H,j.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,P)),P=null},o===void 0&&u.setContentType(null),"setRequestHeader"in P&&oe.forEach(u.toJSON(),function(H,j){P.setRequestHeader(j,H)}),oe.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),h&&h!=="json"&&(P.responseType=i.responseType),d&&([v,b]=Fg(d,!0),P.addEventListener("progress",v)),f&&P.upload&&([_,T]=Fg(f),P.upload.addEventListener("progress",_),P.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=V=>{P&&(r(!V||V.type?new Bc(null,n,P):V),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const U=v7(i.url);if(U&&qn.protocols.indexOf(U)===-1){r(new Me("Unsupported protocol "+U+":",Me.ERR_BAD_REQUEST,n));return}P.send(o||null)})},C7=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(d){if(!i){i=!0,h();const g=d instanceof Error?d:this.reason;r.abort(g instanceof Me?g:new Bc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),n=null)};n.forEach(d=>d.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>oe.asap(h),f}},x7=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},P7=async function*(n,e){for await(const t of O7(n))yield*x7(t,e)},O7=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},JR=(n,e,t,r)=>{const i=P7(n,e);let o=0,u,h=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:d,value:g}=await i.next();if(d){h(),f.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}f.enqueue(new Uint8Array(g))}catch(d){throw h(d),d}},cancel(f){return h(f),i.return()}},{highWaterMark:2})},jy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sN=jy&&typeof ReadableStream=="function",D7=jy&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),aN=(n,...e)=>{try{return!!n(...e)}catch{return!1}},N7=sN&&aN(()=>{let n=!1;const e=new Request(qn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),ZR=64*1024,VE=sN&&aN(()=>oe.isReadableStream(new Response("").body)),jg={stream:VE&&(n=>n.body)};jy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!jg[e]&&(jg[e]=oe.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const k7=async n=>{if(n==null)return 0;if(oe.isBlob(n))return n.size;if(oe.isSpecCompliantForm(n))return(await new Request(qn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(n)||oe.isArrayBuffer(n))return n.byteLength;if(oe.isURLSearchParams(n)&&(n=n+""),oe.isString(n))return(await D7(n)).byteLength},M7=async(n,e)=>{const t=oe.toFiniteNumber(n.getContentLength());return t??k7(e)},V7=jy&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:f,responseType:d,headers:g,withCredentials:_="same-origin",fetchOptions:v}=iN(n);d=d?(d+"").toLowerCase():"text";let T=C7([i,o&&o.toAbortSignal()],u),b;const A=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let P;try{if(f&&N7&&t!=="get"&&t!=="head"&&(P=await M7(g,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),K;if(oe.isFormData(r)&&(K=j.headers.get("content-type"))&&g.setContentType(K),j.body){const[M,R]=QR(P,Fg(YR(f)));r=JR(j.body,ZR,M,R)}}oe.isString(_)||(_=_?"include":"omit");const L="credentials"in Request.prototype;b=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:L?_:void 0});let U=await fetch(b);const V=VE&&(d==="stream"||d==="response");if(VE&&(h||V&&A)){const j={};["status","statusText","headers"].forEach(x=>{j[x]=U[x]});const K=oe.toFiniteNumber(U.headers.get("content-length")),[M,R]=h&&QR(K,Fg(YR(h),!0))||[];U=new Response(JR(U.body,ZR,M,()=>{R&&R(),A&&A()}),j)}d=d||"text";let H=await jg[oe.findKey(jg,d)||"text"](U,n);return!V&&A&&A(),await new Promise((j,K)=>{nN(j,K,{data:H,headers:cr.from(U.headers),status:U.status,statusText:U.statusText,config:n,request:b})})}catch(L){throw A&&A(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,b),{cause:L.cause||L}):Me.from(L,L&&L.code,n,b)}}),LE={http:X8,xhr:R7,fetch:V7};oe.forEach(LE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const eC=n=>`- ${n}`,L7=n=>oe.isFunction(n)||n===null||n===!1,oN={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!L7(t)&&(r=LE[(u=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(eC).join(`
`):" "+eC(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:LE};function x0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Bc(null,n)}function tC(n){return x0(n),n.headers=cr.from(n.headers),n.data=C0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),oN.getAdapter(n.adapter||Gf.adapter)(n).then(function(r){return x0(n),r.data=C0.call(n,n.transformResponse,r),r.headers=cr.from(r.headers),r},function(r){return tN(r)||(x0(n),r&&r.response&&(r.response.data=C0.call(n,n.transformResponse,r.response),r.response.headers=cr.from(r.response.headers))),Promise.reject(r)})}const lN="1.9.0",zy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{zy[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const nC={};zy.transitional=function(e,t,r){function i(o,u){return"[Axios v"+lN+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Me(i(u," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!nC[u]&&(nC[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};zy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function U7(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],f=h===void 0||u(h,o,n);if(f!==!0)throw new Me("option "+o+" must be "+f,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const ng={assertOptions:U7,validators:zy},Ci=ng.validators;let ul=class{constructor(e){this.defaults=e||{},this.interceptors={request:new KR,response:new KR}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Tl(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&ng.assertOptions(r,{silentJSONParsing:Ci.transitional(Ci.boolean),forcedJSONParsing:Ci.transitional(Ci.boolean),clarifyTimeoutError:Ci.transitional(Ci.boolean)},!1),i!=null&&(oe.isFunction(i)?t.paramsSerializer={serialize:i}:ng.assertOptions(i,{encode:Ci.function,serialize:Ci.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ng.assertOptions(t,{baseUrl:Ci.spelling("baseURL"),withXsrfToken:Ci.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&oe.merge(o.common,o[t.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),t.headers=cr.concat(u,o);const h=[];let f=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(f=f&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const d=[];this.interceptors.response.forEach(function(A){d.push(A.fulfilled,A.rejected)});let g,_=0,v;if(!f){const b=[tC.bind(this),void 0];for(b.unshift.apply(b,h),b.push.apply(b,d),v=b.length,g=Promise.resolve(t);_<v;)g=g.then(b[_++],b[_++]);return g}v=h.length;let T=t;for(_=0;_<v;){const b=h[_++],A=h[_++];try{T=b(T)}catch(P){A.call(this,P);break}}try{g=tC.call(this,T)}catch(b){return Promise.reject(b)}for(_=0,v=d.length;_<v;)g=g.then(d[_++],d[_++]);return g}getUri(e){e=Tl(this.defaults,e);const t=rN(e.baseURL,e.url,e.allowAbsoluteUrls);return JD(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){ul.prototype[e]=function(t,r){return this.request(Tl(r||{},{method:e,url:t,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(Tl(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}ul.prototype[e]=t(),ul.prototype[e+"Form"]=t(!0)});let B7=class uN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Bc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new uN(function(i){e=i}),cancel:e}}};function F7(n){return function(t){return n.apply(null,t)}}function j7(n){return oe.isObject(n)&&n.isAxiosError===!0}const UE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(UE).forEach(([n,e])=>{UE[e]=n});function cN(n){const e=new ul(n),t=FD(ul.prototype.request,e);return oe.extend(t,ul.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return cN(Tl(n,i))},t}const Ot=cN(Gf);Ot.Axios=ul;Ot.CanceledError=Bc;Ot.CancelToken=B7;Ot.isCancel=tN;Ot.VERSION=lN;Ot.toFormData=Fy;Ot.AxiosError=Me;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=F7;Ot.isAxiosError=j7;Ot.mergeConfig=Tl;Ot.AxiosHeaders=cr;Ot.formToJSON=n=>eN(oe.isHTMLForm(n)?new FormData(n):n);Ot.getAdapter=oN.getAdapter;Ot.HttpStatusCode=UE;Ot.default=Ot;const{Axios:UW,AxiosError:BW,CanceledError:FW,isCancel:jW,CancelToken:zW,VERSION:qW,all:HW,Cancel:$W,isAxiosError:GW,spread:KW,toFormData:WW,AxiosHeaders:QW,HttpStatusCode:YW,formToJSON:XW,getAdapter:JW,mergeConfig:ZW}=Ot;var P0={exports:{}},O0,rC;function z7(){if(rC)return O0;rC=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return O0=n,O0}var D0,iC;function q7(){if(iC)return D0;iC=1;var n=z7();function e(){}function t(){}return t.resetWarningCache=e,D0=function(){function r(u,h,f,d,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},D0}var sC;function hN(){return sC||(sC=1,P0.exports=q7()()),P0.exports}var H7=hN();const Nt=XE(H7);function dN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=dN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function cl(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=dN(n))&&(r&&(r+=" "),r+=e);return r}function fN(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const $7={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function pN(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let f=0;f<o.length;f+=1){const d=o[f];d&&(u+=(h===!0?"":" ")+e(d),h=!1,t&&t[d]&&(u+=" "+t[d]))}r[i]=u}return r}const G7=W.createContext(),K7=()=>W.useContext(G7)??!1;function aC(n){try{return n.matches(":focus-visible")}catch{}return!1}const oC=n=>n,W7=()=>{let n=oC;return{configure(e){n=e},generate(e){return n(e)},reset(){n=oC}}},Q7=W7();function Sl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Xa(n){if(typeof n!="string")throw new Error(Sl(7));return n.charAt(0).toUpperCase()+n.slice(1)}var N0={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function Y7(){if(lC)return pt;lC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function b(A){if(typeof A=="object"&&A!==null){var P=A.$$typeof;switch(P){case n:switch(A=A.type,A){case t:case i:case r:case f:case d:case v:return A;default:switch(A=A&&A.$$typeof,A){case u:case h:case _:case g:return A;case o:return A;default:return P}}case e:return P}}}return pt.ContextConsumer=o,pt.ContextProvider=u,pt.Element=n,pt.ForwardRef=h,pt.Fragment=t,pt.Lazy=_,pt.Memo=g,pt.Portal=e,pt.Profiler=i,pt.StrictMode=r,pt.Suspense=f,pt.SuspenseList=d,pt.isContextConsumer=function(A){return b(A)===o},pt.isContextProvider=function(A){return b(A)===u},pt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},pt.isForwardRef=function(A){return b(A)===h},pt.isFragment=function(A){return b(A)===t},pt.isLazy=function(A){return b(A)===_},pt.isMemo=function(A){return b(A)===g},pt.isPortal=function(A){return b(A)===e},pt.isProfiler=function(A){return b(A)===i},pt.isStrictMode=function(A){return b(A)===r},pt.isSuspense=function(A){return b(A)===f},pt.isSuspenseList=function(A){return b(A)===d},pt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===f||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===_||A.$$typeof===g||A.$$typeof===u||A.$$typeof===o||A.$$typeof===h||A.$$typeof===T||A.getModuleId!==void 0)},pt.typeOf=b,pt}var uC;function X7(){return uC||(uC=1,N0.exports=Y7()),N0.exports}var mN=X7();function Cs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function gN(n){if(W.isValidElement(n)||mN.isValidElementType(n)||!Cs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=gN(n[t])}),e}function Rr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Cs(n)&&Cs(e)&&Object.keys(e).forEach(i=>{W.isValidElement(e[i])||mN.isValidElementType(e[i])?r[i]=e[i]:Cs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Cs(n[i])?r[i]=Rr(n[i],e[i],t):t.clone?r[i]=Cs(e[i])?gN(e[i]):e[i]:r[i]=e[i]}),r}function qd(n,e){return e?Rr(n,e,{clone:!1}):n}function J7(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function Z7(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function eq(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function tq(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const f=e(n.breakpoints.not(...h),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const qy={xs:0,sm:600,md:900,lg:1200,xl:1536},cC={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${qy[n]}px)`},nq={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:qy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function js(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||cC;return e.reduce((u,h,f)=>(u[o.up(o.keys[f])]=t(e[f]),u),{})}if(typeof e=="object"){const o=r.breakpoints||cC;return Object.keys(e).reduce((u,h)=>{if(Z7(o.keys,h)){const f=eq(r.containerQueries?r:nq,h);f&&(u[f]=t(e[h],h))}else if(Object.keys(o.values||qy).includes(h)){const f=o.up(h);u[f]=t(e[h],h)}else{const f=h;u[f]=e[f]}return u},{})}return t(e)}function rq(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function iq(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Hy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function zg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Hy(n,t)||r,e&&(i=e(i,r,n)),i}function Zt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],f=u.theme,d=Hy(f,r)||{};return js(u,h,_=>{let v=zg(d,i,_);return _===v&&typeof _=="string"&&(v=zg(d,i,`${e}${_==="default"?"":Xa(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function sq(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const aq={m:"margin",p:"padding"},oq={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},hC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},lq=sq(n=>{if(n.length>2)if(hC[n])n=hC[n];else return[n];const[e,t]=n.split(""),r=aq[e],i=oq[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),qw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Hw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qw,...Hw];function Kf(n,e,t,r){const i=Hy(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof i=="function"?i:()=>{}}function $w(n){return Kf(n,"spacing",8)}function Wf(n,e){return typeof e=="string"||e==null?e:n(e)}function uq(n,e){return t=>n.reduce((r,i)=>(r[i]=Wf(e,t),r),{})}function cq(n,e,t,r){if(!e.includes(t))return null;const i=lq(t),o=uq(i,r),u=n[t];return js(n,u,o)}function yN(n,e){const t=$w(n.theme);return Object.keys(n).map(r=>cq(n,e,r,t)).reduce(qd,{})}function Ft(n){return yN(n,qw)}Ft.propTypes={};Ft.filterProps=qw;function jt(n){return yN(n,Hw)}jt.propTypes={};jt.filterProps=Hw;function $y(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?qd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Hr(n){return typeof n!="number"?n:`${n}px solid`}function Wr(n,e){return Zt({prop:n,themeKey:"borders",transform:e})}const hq=Wr("border",Hr),dq=Wr("borderTop",Hr),fq=Wr("borderRight",Hr),pq=Wr("borderBottom",Hr),mq=Wr("borderLeft",Hr),gq=Wr("borderColor"),yq=Wr("borderTopColor"),_q=Wr("borderRightColor"),vq=Wr("borderBottomColor"),Eq=Wr("borderLeftColor"),bq=Wr("outline",Hr),wq=Wr("outlineColor"),Gy=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Kf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Wf(e,r)});return js(n,n.borderRadius,t)}return null};Gy.propTypes={};Gy.filterProps=["borderRadius"];$y(hq,dq,fq,pq,mq,gq,yq,_q,vq,Eq,Gy,bq,wq);const Ky=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Kf(n.theme,"spacing",8),t=r=>({gap:Wf(e,r)});return js(n,n.gap,t)}return null};Ky.propTypes={};Ky.filterProps=["gap"];const Wy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Kf(n.theme,"spacing",8),t=r=>({columnGap:Wf(e,r)});return js(n,n.columnGap,t)}return null};Wy.propTypes={};Wy.filterProps=["columnGap"];const Qy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Kf(n.theme,"spacing",8),t=r=>({rowGap:Wf(e,r)});return js(n,n.rowGap,t)}return null};Qy.propTypes={};Qy.filterProps=["rowGap"];const Tq=Zt({prop:"gridColumn"}),Sq=Zt({prop:"gridRow"}),Aq=Zt({prop:"gridAutoFlow"}),Iq=Zt({prop:"gridAutoColumns"}),Rq=Zt({prop:"gridAutoRows"}),Cq=Zt({prop:"gridTemplateColumns"}),xq=Zt({prop:"gridTemplateRows"}),Pq=Zt({prop:"gridTemplateAreas"}),Oq=Zt({prop:"gridArea"});$y(Ky,Wy,Qy,Tq,Sq,Aq,Iq,Rq,Cq,xq,Pq,Oq);function Ku(n,e){return e==="grey"?e:n}const Dq=Zt({prop:"color",themeKey:"palette",transform:Ku}),Nq=Zt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ku}),kq=Zt({prop:"backgroundColor",themeKey:"palette",transform:Ku});$y(Dq,Nq,kq);function Ar(n){return n<=1&&n!==0?`${n*100}%`:n}const Mq=Zt({prop:"width",transform:Ar}),Gw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,f;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||qy[t];return r?((f=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ar(t)}};return js(n,n.maxWidth,e)}return null};Gw.filterProps=["maxWidth"];const Vq=Zt({prop:"minWidth",transform:Ar}),Lq=Zt({prop:"height",transform:Ar}),Uq=Zt({prop:"maxHeight",transform:Ar}),Bq=Zt({prop:"minHeight",transform:Ar});Zt({prop:"size",cssProperty:"width",transform:Ar});Zt({prop:"size",cssProperty:"height",transform:Ar});const Fq=Zt({prop:"boxSizing"});$y(Mq,Gw,Vq,Lq,Uq,Bq,Fq);const Yy={border:{themeKey:"borders",transform:Hr},borderTop:{themeKey:"borders",transform:Hr},borderRight:{themeKey:"borders",transform:Hr},borderBottom:{themeKey:"borders",transform:Hr},borderLeft:{themeKey:"borders",transform:Hr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Hr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Gy},color:{themeKey:"palette",transform:Ku},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ku},backgroundColor:{themeKey:"palette",transform:Ku},p:{style:jt},pt:{style:jt},pr:{style:jt},pb:{style:jt},pl:{style:jt},px:{style:jt},py:{style:jt},padding:{style:jt},paddingTop:{style:jt},paddingRight:{style:jt},paddingBottom:{style:jt},paddingLeft:{style:jt},paddingX:{style:jt},paddingY:{style:jt},paddingInline:{style:jt},paddingInlineStart:{style:jt},paddingInlineEnd:{style:jt},paddingBlock:{style:jt},paddingBlockStart:{style:jt},paddingBlockEnd:{style:jt},m:{style:Ft},mt:{style:Ft},mr:{style:Ft},mb:{style:Ft},ml:{style:Ft},mx:{style:Ft},my:{style:Ft},margin:{style:Ft},marginTop:{style:Ft},marginRight:{style:Ft},marginBottom:{style:Ft},marginLeft:{style:Ft},marginX:{style:Ft},marginY:{style:Ft},marginInline:{style:Ft},marginInlineStart:{style:Ft},marginInlineEnd:{style:Ft},marginBlock:{style:Ft},marginBlockStart:{style:Ft},marginBlockEnd:{style:Ft},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ky},rowGap:{style:Qy},columnGap:{style:Wy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ar},maxWidth:{style:Gw},minWidth:{transform:Ar},height:{transform:Ar},maxHeight:{transform:Ar},minHeight:{transform:Ar},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function jq(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function zq(n,e){return typeof n=="function"?n(e):n}function qq(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:f=t,themeKey:d,transform:g,style:_}=h;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const v=Hy(i,d)||{};return _?_(u):js(u,r,b=>{let A=zg(v,g,b);return b===A&&typeof b=="string"&&(A=zg(v,g,`${t}${b==="default"?"":Xa(b)}`,b)),f===!1?A:{[f]:A}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Yy;function u(h){let f=h;if(typeof h=="function")f=h(i);else if(typeof h!="object")return h;if(!f)return null;const d=rq(i.breakpoints),g=Object.keys(d);let _=d;return Object.keys(f).forEach(v=>{const T=zq(f[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=qd(_,n(v,T,i,o));else{const b=js({theme:i},T,A=>({[v]:A}));jq(b,T)?_[v]=e({sx:T,theme:i}):_=qd(_,b)}else _=qd(_,n(v,T,i,o))}),J7(i,iq(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const vc=qq();vc.filterProps=["sx"];function BE(){return BE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BE.apply(null,arguments)}function Hq(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function $q(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Gq=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($q(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Hq(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),jn="-ms-",qg="-moz-",tt="-webkit-",_N="comm",Kw="rule",Ww="decl",Kq="@import",vN="@keyframes",Wq="@layer",Qq=Math.abs,Xy=String.fromCharCode,Yq=Object.assign;function Xq(n,e){return kn(n,0)^45?(((e<<2^kn(n,0))<<2^kn(n,1))<<2^kn(n,2))<<2^kn(n,3):0}function EN(n){return n.trim()}function Jq(n,e){return(n=e.exec(n))?n[0]:n}function nt(n,e,t){return n.replace(e,t)}function FE(n,e){return n.indexOf(e)}function kn(n,e){return n.charCodeAt(e)|0}function gf(n,e,t){return n.slice(e,t)}function ki(n){return n.length}function Qw(n){return n.length}function xm(n,e){return e.push(n),n}function Zq(n,e){return n.map(e).join("")}var Jy=1,Ec=1,bN=0,hr=0,un=0,Fc="";function Zy(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Jy,column:Ec,length:u,return:""}}function od(n,e){return Yq(Zy("",null,null,"",null,null,0),n,{length:-n.length},e)}function eH(){return un}function tH(){return un=hr>0?kn(Fc,--hr):0,Ec--,un===10&&(Ec=1,Jy--),un}function Cr(){return un=hr<bN?kn(Fc,hr++):0,Ec++,un===10&&(Ec=1,Jy++),un}function Gi(){return kn(Fc,hr)}function rg(){return hr}function Qf(n,e){return gf(Fc,n,e)}function yf(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wN(n){return Jy=Ec=1,bN=ki(Fc=n),hr=0,[]}function TN(n){return Fc="",n}function ig(n){return EN(Qf(hr-1,jE(n===91?n+2:n===40?n+1:n)))}function nH(n){for(;(un=Gi())&&un<33;)Cr();return yf(n)>2||yf(un)>3?"":" "}function rH(n,e){for(;--e&&Cr()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return Qf(n,rg()+(e<6&&Gi()==32&&Cr()==32))}function jE(n){for(;Cr();)switch(un){case n:return hr;case 34:case 39:n!==34&&n!==39&&jE(un);break;case 40:n===41&&jE(n);break;case 92:Cr();break}return hr}function iH(n,e){for(;Cr()&&n+un!==57;)if(n+un===84&&Gi()===47)break;return"/*"+Qf(e,hr-1)+"*"+Xy(n===47?n:Cr())}function sH(n){for(;!yf(Gi());)Cr();return Qf(n,hr)}function aH(n){return TN(sg("",null,null,null,[""],n=wN(n),0,[0],n))}function sg(n,e,t,r,i,o,u,h,f){for(var d=0,g=0,_=u,v=0,T=0,b=0,A=1,P=1,L=1,U=0,V="",H=i,j=o,K=r,M=V;P;)switch(b=U,U=Cr()){case 40:if(b!=108&&kn(M,_-1)==58){FE(M+=nt(ig(U),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:M+=ig(U);break;case 9:case 10:case 13:case 32:M+=nH(b);break;case 92:M+=rH(rg()-1,7);continue;case 47:switch(Gi()){case 42:case 47:xm(oH(iH(Cr(),rg()),e,t),f);break;default:M+="/"}break;case 123*A:h[d++]=ki(M)*L;case 125*A:case 59:case 0:switch(U){case 0:case 125:P=0;case 59+g:L==-1&&(M=nt(M,/\f/g,"")),T>0&&ki(M)-_&&xm(T>32?fC(M+";",r,t,_-1):fC(nt(M," ","")+";",r,t,_-2),f);break;case 59:M+=";";default:if(xm(K=dC(M,e,t,d,g,i,h,V,H=[],j=[],_),o),U===123)if(g===0)sg(M,e,K,K,H,o,_,h,j);else switch(v===99&&kn(M,3)===110?100:v){case 100:case 108:case 109:case 115:sg(n,K,K,r&&xm(dC(n,K,K,0,0,i,h,V,i,H=[],_),j),i,j,_,h,r?H:j);break;default:sg(M,K,K,K,[""],j,0,h,j)}}d=g=T=0,A=L=1,V=M="",_=u;break;case 58:_=1+ki(M),T=b;default:if(A<1){if(U==123)--A;else if(U==125&&A++==0&&tH()==125)continue}switch(M+=Xy(U),U*A){case 38:L=g>0?1:(M+="\f",-1);break;case 44:h[d++]=(ki(M)-1)*L,L=1;break;case 64:Gi()===45&&(M+=ig(Cr())),v=Gi(),g=_=ki(V=M+=sH(rg())),U++;break;case 45:b===45&&ki(M)==2&&(A=0)}}return o}function dC(n,e,t,r,i,o,u,h,f,d,g){for(var _=i-1,v=i===0?o:[""],T=Qw(v),b=0,A=0,P=0;b<r;++b)for(var L=0,U=gf(n,_+1,_=Qq(A=u[b])),V=n;L<T;++L)(V=EN(A>0?v[L]+" "+U:nt(U,/&\f/g,v[L])))&&(f[P++]=V);return Zy(n,e,t,i===0?Kw:h,f,d,g)}function oH(n,e,t){return Zy(n,e,t,_N,Xy(eH()),gf(n,2,-2),0)}function fC(n,e,t,r){return Zy(n,e,t,Ww,gf(n,0,r),gf(n,r+1,-1),r)}function Wu(n,e){for(var t="",r=Qw(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function lH(n,e,t,r){switch(n.type){case Wq:if(n.children.length)break;case Kq:case Ww:return n.return=n.return||n.value;case _N:return"";case vN:return n.return=n.value+"{"+Wu(n.children,r)+"}";case Kw:n.value=n.props.join(",")}return ki(t=Wu(n.children,r))?n.return=n.value+"{"+t+"}":""}function uH(n){var e=Qw(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function cH(n){return function(e){e.root||(e=e.return)&&n(e)}}function SN(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var hH=function(e,t,r){for(var i=0,o=0;i=o,o=Gi(),i===38&&o===12&&(t[r]=1),!yf(o);)Cr();return Qf(e,hr)},dH=function(e,t){var r=-1,i=44;do switch(yf(i)){case 0:i===38&&Gi()===12&&(t[r]=1),e[r]+=hH(hr-1,t,r);break;case 2:e[r]+=ig(i);break;case 4:if(i===44){e[++r]=Gi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Xy(i)}while(i=Cr());return e},fH=function(e,t){return TN(dH(wN(e),t))},pC=new WeakMap,pH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!pC.get(r))&&!i){pC.set(e,!0);for(var o=[],u=fH(t,o),h=r.props,f=0,d=0;f<u.length;f++)for(var g=0;g<h.length;g++,d++)e.props[d]=o[f]?u[f].replace(/&\f/g,h[g]):h[g]+" "+u[f]}}},mH=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function AN(n,e){switch(Xq(n,e)){case 5103:return tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+n+qg+n+jn+n+n;case 6828:case 4268:return tt+n+jn+n+n;case 6165:return tt+n+jn+"flex-"+n+n;case 5187:return tt+n+nt(n,/(\w+).+(:[^]+)/,tt+"box-$1$2"+jn+"flex-$1$2")+n;case 5443:return tt+n+jn+"flex-item-"+nt(n,/flex-|-self/,"")+n;case 4675:return tt+n+jn+"flex-line-pack"+nt(n,/align-content|flex-|-self/,"")+n;case 5548:return tt+n+jn+nt(n,"shrink","negative")+n;case 5292:return tt+n+jn+nt(n,"basis","preferred-size")+n;case 6060:return tt+"box-"+nt(n,"-grow","")+tt+n+jn+nt(n,"grow","positive")+n;case 4554:return tt+nt(n,/([^-])(transform)/g,"$1"+tt+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+jn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+n+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ki(n)-1-e>6)switch(kn(n,e+1)){case 109:if(kn(n,e+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+qg+(kn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~FE(n,"stretch")?AN(nt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(kn(n,e+1)!==115)break;case 6444:switch(kn(n,ki(n)-3-(~FE(n,"!important")&&10))){case 107:return nt(n,":",":"+tt)+n;case 101:return nt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(kn(n,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+jn+"$2box$3")+n}break;case 5936:switch(kn(n,e+11)){case 114:return tt+n+jn+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return tt+n+jn+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return tt+n+jn+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return tt+n+jn+n+n}return n}var gH=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Ww:e.return=AN(e.value,e.length);break;case vN:return Wu([od(e,{value:nt(e.value,"@","@"+tt)})],i);case Kw:if(e.length)return Zq(e.props,function(o){switch(Jq(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Wu([od(e,{props:[nt(o,/:(read-\w+)/,":"+qg+"$1")]})],i);case"::placeholder":return Wu([od(e,{props:[nt(o,/:(plac\w+)/,":"+tt+"input-$1")]}),od(e,{props:[nt(o,/:(plac\w+)/,":"+qg+"$1")]}),od(e,{props:[nt(o,/:(plac\w+)/,jn+"input-$1")]})],i)}return""})}},yH=[gH],_H=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(A){var P=A.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var i=e.stylisPlugins||yH,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(A){for(var P=A.getAttribute("data-emotion").split(" "),L=1;L<P.length;L++)o[P[L]]=!0;h.push(A)});var f,d=[pH,mH];{var g,_=[lH,cH(function(A){g.insert(A)})],v=uH(d.concat(i,_)),T=function(P){return Wu(aH(P),v)};f=function(P,L,U,V){g=U,T(P?P+"{"+L.styles+"}":L.styles),V&&(b.inserted[L.name]=!0)}}var b={key:t,sheet:new Gq({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return b.sheet.hydrate(h),b},vH=!0;function EH(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var IN=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||vH===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},bH=function(e,t,r){IN(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function wH(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var TH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},SH=/[A-Z]|^ms/g,AH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,RN=function(e){return e.charCodeAt(1)===45},mC=function(e){return e!=null&&typeof e!="boolean"},k0=SN(function(n){return RN(n)?n:n.replace(SH,"-$&").toLowerCase()}),gC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(AH,function(r,i,o){return Mi={name:i,styles:o,next:Mi},i})}return TH[e]!==1&&!RN(e)&&typeof t=="number"&&t!==0?t+"px":t};function _f(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Mi={name:i.name,styles:i.styles,next:Mi},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Mi={name:u.name,styles:u.styles,next:Mi},u=u.next;var h=o.styles+";";return h}return IH(n,e,t)}case"function":{if(n!==void 0){var f=Mi,d=t(n);return Mi=f,_f(n,e,d)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function IH(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=_f(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":mC(h)&&(r+=k0(o)+":"+gC(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)mC(u[f])&&(r+=k0(o)+":"+gC(o,u[f])+";");else{var d=_f(n,e,u);switch(o){case"animation":case"animationName":{r+=k0(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var yC=/label:\s*([^\s;{]+)\s*(;|$)/g,Mi;function CN(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Mi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=_f(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=_f(t,e,n[h]),r){var f=o;i+=f[h]}yC.lastIndex=0;for(var d="",g;(g=yC.exec(i))!==null;)d+="-"+g[1];var _=wH(i)+d;return{name:_,styles:i,next:Mi}}var RH=function(e){return e()},CH=j0.useInsertionEffect?j0.useInsertionEffect:!1,xH=CH||RH,xN=W.createContext(typeof HTMLElement<"u"?_H({key:"css"}):null);xN.Provider;var PH=function(e){return W.forwardRef(function(t,r){var i=W.useContext(xN);return e(t,i,r)})},OH=W.createContext({}),DH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,NH=SN(function(n){return DH.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),kH=NH,MH=function(e){return e!=="theme"},_C=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?kH:MH},vC=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},VH=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return IN(t,r,i),xH(function(){return bH(t,r,i)}),null},LH=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=vC(e,t,r),f=h||_C(i),d=!f("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,b=1;b<T;b++)_.push(g[b],v[b])}var A=PH(function(P,L,U){var V=d&&P.as||i,H="",j=[],K=P;if(P.theme==null){K={};for(var M in P)K[M]=P[M];K.theme=W.useContext(OH)}typeof P.className=="string"?H=EH(L.registered,j,P.className):P.className!=null&&(H=P.className+" ");var R=CN(_.concat(j),L.registered,K);H+=L.key+"-"+R.name,u!==void 0&&(H+=" "+u);var x=d&&h===void 0?_C(V):f,w={};for(var O in P)d&&O==="as"||x(O)&&(w[O]=P[O]);return w.className=H,U&&(w.ref=U),W.createElement(W.Fragment,null,W.createElement(VH,{cache:L,serialized:R,isStringTag:typeof V=="string"}),W.createElement(V,w))});return A.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",A.defaultProps=e.defaultProps,A.__emotion_real=A,A.__emotion_base=i,A.__emotion_styles=_,A.__emotion_forwardProp=h,Object.defineProperty(A,"toString",{value:function(){return"."+u}}),A.withComponent=function(P,L){var U=n(P,BE({},t,L,{shouldForwardProp:vC(A,L,!0)}));return U.apply(void 0,_)},A}},UH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],zE=LH.bind(null);UH.forEach(function(n){zE[n]=zE(n)});function BH(n,e){return zE(n,e)}function FH(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const EC=[];function bC(n){return EC[0]=n,CN(EC)}const jH=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function zH(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=jH(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function f(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function d(v,T){const b=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(b!==-1&&typeof e[u[b]]=="number"?e[u[b]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?d(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?f(u[T]):d(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:f,between:d,only:g,not:_,unit:t,...i}}const qH={borderRadius:4};function PN(n=8,e=$w({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function HH(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function ON(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=zH(t),f=PN(i);let d=Rr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...qH,...o}},u);return d=tq(d),d.applyStyles=HH,d=e.reduce((g,_)=>Rr(g,_),d),d.unstable_sxConfig={...Yy,...u==null?void 0:u.unstable_sxConfig},d.unstable_sx=function(_){return vc({sx:_,theme:this})},d}const $H={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Yw(n,e,t="Mui"){const r=$H[e];return r?`${t}-${r}`:`${Q7.generate(n)}-${e}`}function DN(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Yw(n,i,t)}),r}function NN(n){const{variants:e,...t}=n,r={variants:e,style:bC(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=bC(i.style))}),r}const GH=ON();function M0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function KH(n){return n?(e,t)=>t[n]:null}function WH(n,e,t){n.theme=XH(n.theme)?t:n.theme[e]||n.theme}function ag(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>ag(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return kN(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function kN(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function QH(n={}){const{themeId:e,defaultTheme:t=GH,rootShouldForwardProp:r=M0,slotShouldForwardProp:i=M0}=n;function o(h){WH(h,e,t)}return(h,f={})=>{FH(h,j=>j.filter(K=>K!==vc));const{name:d,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=KH(ZH(g)),...b}=f,A=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,P=v||!1;let L=M0;g==="Root"||g==="root"?L=r:g?L=i:JH(h)&&(L=void 0);const U=BH(h,{shouldForwardProp:L,label:YH(),...b}),V=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(M){return ag(M,j)};if(Cs(j)){const K=NN(j);return K.variants?function(R){return ag(R,K)}:K.style}return j},H=(...j)=>{const K=[],M=j.map(V),R=[];if(K.push(o),d&&T&&R.push(function(C){var $,J;const se=(J=($=C.theme.components)==null?void 0:$[d])==null?void 0:J.styleOverrides;if(!se)return null;const F={};for(const le in se)F[le]=ag(C,se[le]);return T(C,F)}),d&&!A&&R.push(function(C){var F,$;const D=C.theme,se=($=(F=D==null?void 0:D.components)==null?void 0:F[d])==null?void 0:$.variants;return se?kN(C,se):null}),P||R.push(vc),Array.isArray(M[0])){const O=M.shift(),C=new Array(K.length).fill(""),D=new Array(R.length).fill("");let se;se=[...C,...O,...D],se.raw=[...C,...O.raw,...D],K.unshift(se)}const x=[...K,...M,...R],w=U(...x);return h.muiName&&(w.muiName=h.muiName),w};return U.withConfig&&(H.withConfig=U.withConfig),H}}function YH(n,e){return void 0}function XH(n){for(const e in n)return!1;return!0}function JH(n){return typeof n=="string"&&n.charCodeAt(0)>96}function ZH(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function qE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const f=h;t[i][f]=qE(o[f],u[f])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function Xw(n,e=0,t=1){return fN(n,e,t)}function e$(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ja(n){if(n.type)return n;if(n.charAt(0)==="#")return Ja(e$(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Sl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Sl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const t$=n=>{const e=Ja(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Id=(n,e)=>{try{return t$(n)}catch{return n}};function e_(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function MN(n){n=Ja(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(d,g=(d+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",f.push(e[3])),e_({type:h,values:f})}function HE(n){n=Ja(n);let e=n.type==="hsl"||n.type==="hsla"?Ja(MN(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function n$(n,e){const t=HE(n),r=HE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function r$(n,e){return n=Ja(n),e=Xw(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,e_(n)}function Pm(n,e,t){try{return r$(n,e)}catch{return n}}function Jw(n,e){if(n=Ja(n),e=Xw(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return e_(n)}function gt(n,e,t){try{return Jw(n,e)}catch{return n}}function Zw(n,e){if(n=Ja(n),e=Xw(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return e_(n)}function yt(n,e,t){try{return Zw(n,e)}catch{return n}}function i$(n,e=.15){return HE(n)>.5?Jw(n,e):Zw(n,e)}function Om(n,e,t){try{return i$(n,e)}catch{return n}}const s$=W.createContext(void 0);function a$(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?qE(i.defaultProps,r):!i.styleOverrides&&!i.variants?qE(i,r):r}function o$({props:n,name:e}){const t=W.useContext(s$);return a$({props:n,name:e,theme:{components:t}})}const wC={theme:void 0};function l$(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(wC.theme=i.theme,o=NN(n(wC)),e=o,t=i.theme),o}}function u$(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const TC=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},c$=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,f])=>{(!t||t&&!t([...o,h]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,h],Array.isArray(f)?[...u,h]:u):e([...o,h],f,u))})}r(n)},h$=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function V0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return c$(n,(h,f,d)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(h,f))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=h$(h,f);Object.assign(i,{[g]:_}),TC(o,h,`var(${g})`,d),TC(u,h,`var(${g}, ${_})`,d)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function d$(n,e={}){const{getSelector:t=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...f}=n,{vars:d,css:g,varsWithDefaults:_}=V0(f,e);let v=_;const T={},{[h]:b,...A}=o;if(Object.entries(A||{}).forEach(([V,H])=>{const{vars:j,css:K,varsWithDefaults:M}=V0(H,e);v=Rr(v,M),T[V]={css:K,vars:j}}),b){const{css:V,vars:H,varsWithDefaults:j}=V0(b,e);v=Rr(v,j),T[h]={css:V,vars:H}}function P(V,H){var K,M;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),V){if(j==="media")return n.defaultColorScheme===V?":root":{[`@media (prefers-color-scheme: ${((M=(K=o[V])==null?void 0:K.palette)==null?void 0:M.mode)||V})`]:{":root":H}};if(j)return n.defaultColorScheme===V?`:root, ${j.replace("%s",String(V))}`:j.replace("%s",String(V))}return":root"}return{vars:v,generateThemeVars:()=>{let V={...d};return Object.entries(T).forEach(([,{vars:H}])=>{V=Rr(V,H)}),V},generateStyleSheets:()=>{var R,x;const V=[],H=n.defaultColorScheme||"light";function j(w,O){Object.keys(O).length&&V.push(typeof w=="string"?{[w]:{...O}}:w)}j(t(void 0,{...g}),g);const{[H]:K,...M}=T;if(K){const{css:w}=K,O=(x=(R=o[H])==null?void 0:R.palette)==null?void 0:x.mode,C=!r&&O?{colorScheme:O,...w}:{...w};j(t(H,{...C}),C)}return Object.entries(M).forEach(([w,{css:O}])=>{var se,F;const C=(F=(se=o[w])==null?void 0:se.palette)==null?void 0:F.mode,D=!r&&C?{colorScheme:C,...O}:{...O};j(t(w,{...D}),D)}),V}}}function f$(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const vf={black:"#000",white:"#fff"},p$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},xu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Pu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ld={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ou={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Du={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Nu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function VN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vf.white,default:vf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const m$=VN();function LN(){return{text:{primary:vf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const SC=LN();function AC(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Zw(n.main,i):e==="dark"&&(n.dark=Jw(n.main,o)))}function g$(n="light"){return n==="dark"?{main:Ou[200],light:Ou[50],dark:Ou[400]}:{main:Ou[700],light:Ou[400],dark:Ou[800]}}function y$(n="light"){return n==="dark"?{main:xu[200],light:xu[50],dark:xu[400]}:{main:xu[500],light:xu[300],dark:xu[700]}}function _$(n="light"){return n==="dark"?{main:Pu[500],light:Pu[300],dark:Pu[700]}:{main:Pu[700],light:Pu[400],dark:Pu[800]}}function v$(n="light"){return n==="dark"?{main:Du[400],light:Du[300],dark:Du[700]}:{main:Du[700],light:Du[500],dark:Du[900]}}function E$(n="light"){return n==="dark"?{main:Nu[400],light:Nu[300],dark:Nu[700]}:{main:Nu[800],light:Nu[500],dark:Nu[900]}}function b$(n="light"){return n==="dark"?{main:ld[400],light:ld[300],dark:ld[700]}:{main:"#ed6c02",light:ld[500],dark:ld[900]}}function eT(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||g$(e),u=n.secondary||y$(e),h=n.error||_$(e),f=n.info||v$(e),d=n.success||E$(e),g=n.warning||b$(e);function _(A){return n$(A,SC.text.primary)>=t?SC.text.primary:m$.text.primary}const v=({color:A,name:P,mainShade:L=500,lightShade:U=300,darkShade:V=700})=>{if(A={...A},!A.main&&A[L]&&(A.main=A[L]),!A.hasOwnProperty("main"))throw new Error(Sl(11,P?` (${P})`:"",L));if(typeof A.main!="string")throw new Error(Sl(12,P?` (${P})`:"",JSON.stringify(A.main)));return AC(A,"light",U,r),AC(A,"dark",V,r),A.contrastText||(A.contrastText=_(A.main)),A};let T;return e==="light"?T=VN():e==="dark"&&(T=LN()),Rr({common:{...vf},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:p$,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function w$(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function T$(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function S$(n){return Math.round(n*1e5)/1e5}const IC={textTransform:"uppercase"},RC='"Roboto", "Helvetica", "Arial", sans-serif';function A$(n,e){const{fontFamily:t=RC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:d,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(P=>`${P/f*v}rem`),b=(P,L,U,V,H)=>({fontFamily:t,fontWeight:P,fontSize:T(L),lineHeight:U,...t===RC?{letterSpacing:`${S$(V/L)}em`}:{},...H,...d}),A={h1:b(i,96,1.167,-1.5),h2:b(i,60,1.2,-.5),h3:b(o,48,1.167,0),h4:b(o,34,1.235,.25),h5:b(o,24,1.334,0),h6:b(u,20,1.6,.15),subtitle1:b(o,16,1.75,.15),subtitle2:b(u,14,1.57,.1),body1:b(o,16,1.5,.15),body2:b(o,14,1.43,.15),button:b(u,14,1.75,.4,IC),caption:b(o,12,1.66,.4),overline:b(o,12,2.66,1,IC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rr({htmlFontSize:f,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...A},_,{clone:!1})}const I$=.2,R$=.14,C$=.12;function At(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${I$})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${R$})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${C$})`].join(",")}const x$=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],P$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},O$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function CC(n){return`${Math.round(n)}ms`}function D$(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function N$(n){const e={...P$,...n.easing},t={...O$,...n.duration};return{getAutoHeightDuration:D$,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:f=0,...d}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:CC(u)} ${h} ${typeof f=="string"?f:CC(f)}`).join(",")},...n,easing:e,duration:t}}const k$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function M$(n){return Cs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function UN(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!M$(h)||u.startsWith("unstable_")?delete r[u]:Cs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function $E(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:f,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Sl(20));const g=eT(o),_=ON(n);let v=Rr(_,{mixins:T$(_.breakpoints,r),palette:g,shadows:x$.slice(),typography:A$(g,h),transitions:N$(u),zIndex:{...k$}});return v=Rr(v,d),v=e.reduce((T,b)=>Rr(T,b),v),v.unstable_sxConfig={...Yy,...d==null?void 0:d.unstable_sxConfig},v.unstable_sx=function(b){return vc({sx:b,theme:this})},v.toRuntimeSource=UN,v}function V$(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const L$=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=V$(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function BN(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function FN(n){return n==="dark"?L$:[]}function U$(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=eT(e);return{palette:o,opacity:{...BN(o.mode),...t},overlays:r||FN(o.mode),...i}}function B$(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const F$=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],j$=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return F$(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function z$(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ue(n,e,t){!n[e]&&t&&(n[e]=t)}function Rd(n){return typeof n!="string"||!n.startsWith("hsl")?n:MN(n)}function Rs(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Id(Rd(n[e])))}function q$(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const xi=n=>{try{return n()}catch{}},H$=(n="mui")=>u$(n);function L0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=U$({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=$E({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...BN(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||FN(i)},u}function $$(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=B$,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...d}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=H$(o),{[_]:T,light:b,dark:A,...P}=t,L={...P};let U=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(U=!0),!U)throw new Error(Sl(21,_));const V=L0(L,U,d,_);b&&!L.light&&L0(L,b,void 0,"light"),A&&!L.dark&&L0(L,A,void 0,"dark");let H={defaultColorScheme:_,...V,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:f,getCssVar:v,colorSchemes:L,font:{...w$(V.typography),...V.font},spacing:q$(d.spacing)};Object.keys(H.colorSchemes).forEach(x=>{const w=H.colorSchemes[x].palette,O=C=>{const D=C.split("-"),se=D[1],F=D[2];return v(C,w[se][F])};if(w.mode==="light"&&(ue(w.common,"background","#fff"),ue(w.common,"onBackground","#000")),w.mode==="dark"&&(ue(w.common,"background","#000"),ue(w.common,"onBackground","#fff")),z$(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){ue(w.Alert,"errorColor",gt(w.error.light,.6)),ue(w.Alert,"infoColor",gt(w.info.light,.6)),ue(w.Alert,"successColor",gt(w.success.light,.6)),ue(w.Alert,"warningColor",gt(w.warning.light,.6)),ue(w.Alert,"errorFilledBg",O("palette-error-main")),ue(w.Alert,"infoFilledBg",O("palette-info-main")),ue(w.Alert,"successFilledBg",O("palette-success-main")),ue(w.Alert,"warningFilledBg",O("palette-warning-main")),ue(w.Alert,"errorFilledColor",xi(()=>w.getContrastText(w.error.main))),ue(w.Alert,"infoFilledColor",xi(()=>w.getContrastText(w.info.main))),ue(w.Alert,"successFilledColor",xi(()=>w.getContrastText(w.success.main))),ue(w.Alert,"warningFilledColor",xi(()=>w.getContrastText(w.warning.main))),ue(w.Alert,"errorStandardBg",yt(w.error.light,.9)),ue(w.Alert,"infoStandardBg",yt(w.info.light,.9)),ue(w.Alert,"successStandardBg",yt(w.success.light,.9)),ue(w.Alert,"warningStandardBg",yt(w.warning.light,.9)),ue(w.Alert,"errorIconColor",O("palette-error-main")),ue(w.Alert,"infoIconColor",O("palette-info-main")),ue(w.Alert,"successIconColor",O("palette-success-main")),ue(w.Alert,"warningIconColor",O("palette-warning-main")),ue(w.AppBar,"defaultBg",O("palette-grey-100")),ue(w.Avatar,"defaultBg",O("palette-grey-400")),ue(w.Button,"inheritContainedBg",O("palette-grey-300")),ue(w.Button,"inheritContainedHoverBg",O("palette-grey-A100")),ue(w.Chip,"defaultBorder",O("palette-grey-400")),ue(w.Chip,"defaultAvatarColor",O("palette-grey-700")),ue(w.Chip,"defaultIconColor",O("palette-grey-700")),ue(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ue(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ue(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ue(w.LinearProgress,"primaryBg",yt(w.primary.main,.62)),ue(w.LinearProgress,"secondaryBg",yt(w.secondary.main,.62)),ue(w.LinearProgress,"errorBg",yt(w.error.main,.62)),ue(w.LinearProgress,"infoBg",yt(w.info.main,.62)),ue(w.LinearProgress,"successBg",yt(w.success.main,.62)),ue(w.LinearProgress,"warningBg",yt(w.warning.main,.62)),ue(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),ue(w.Slider,"primaryTrack",yt(w.primary.main,.62)),ue(w.Slider,"secondaryTrack",yt(w.secondary.main,.62)),ue(w.Slider,"errorTrack",yt(w.error.main,.62)),ue(w.Slider,"infoTrack",yt(w.info.main,.62)),ue(w.Slider,"successTrack",yt(w.success.main,.62)),ue(w.Slider,"warningTrack",yt(w.warning.main,.62));const C=Om(w.background.default,.8);ue(w.SnackbarContent,"bg",C),ue(w.SnackbarContent,"color",xi(()=>w.getContrastText(C))),ue(w.SpeedDialAction,"fabHoverBg",Om(w.background.paper,.15)),ue(w.StepConnector,"border",O("palette-grey-400")),ue(w.StepContent,"border",O("palette-grey-400")),ue(w.Switch,"defaultColor",O("palette-common-white")),ue(w.Switch,"defaultDisabledColor",O("palette-grey-100")),ue(w.Switch,"primaryDisabledColor",yt(w.primary.main,.62)),ue(w.Switch,"secondaryDisabledColor",yt(w.secondary.main,.62)),ue(w.Switch,"errorDisabledColor",yt(w.error.main,.62)),ue(w.Switch,"infoDisabledColor",yt(w.info.main,.62)),ue(w.Switch,"successDisabledColor",yt(w.success.main,.62)),ue(w.Switch,"warningDisabledColor",yt(w.warning.main,.62)),ue(w.TableCell,"border",yt(Pm(w.divider,1),.88)),ue(w.Tooltip,"bg",Pm(w.grey[700],.92))}if(w.mode==="dark"){ue(w.Alert,"errorColor",yt(w.error.light,.6)),ue(w.Alert,"infoColor",yt(w.info.light,.6)),ue(w.Alert,"successColor",yt(w.success.light,.6)),ue(w.Alert,"warningColor",yt(w.warning.light,.6)),ue(w.Alert,"errorFilledBg",O("palette-error-dark")),ue(w.Alert,"infoFilledBg",O("palette-info-dark")),ue(w.Alert,"successFilledBg",O("palette-success-dark")),ue(w.Alert,"warningFilledBg",O("palette-warning-dark")),ue(w.Alert,"errorFilledColor",xi(()=>w.getContrastText(w.error.dark))),ue(w.Alert,"infoFilledColor",xi(()=>w.getContrastText(w.info.dark))),ue(w.Alert,"successFilledColor",xi(()=>w.getContrastText(w.success.dark))),ue(w.Alert,"warningFilledColor",xi(()=>w.getContrastText(w.warning.dark))),ue(w.Alert,"errorStandardBg",gt(w.error.light,.9)),ue(w.Alert,"infoStandardBg",gt(w.info.light,.9)),ue(w.Alert,"successStandardBg",gt(w.success.light,.9)),ue(w.Alert,"warningStandardBg",gt(w.warning.light,.9)),ue(w.Alert,"errorIconColor",O("palette-error-main")),ue(w.Alert,"infoIconColor",O("palette-info-main")),ue(w.Alert,"successIconColor",O("palette-success-main")),ue(w.Alert,"warningIconColor",O("palette-warning-main")),ue(w.AppBar,"defaultBg",O("palette-grey-900")),ue(w.AppBar,"darkBg",O("palette-background-paper")),ue(w.AppBar,"darkColor",O("palette-text-primary")),ue(w.Avatar,"defaultBg",O("palette-grey-600")),ue(w.Button,"inheritContainedBg",O("palette-grey-800")),ue(w.Button,"inheritContainedHoverBg",O("palette-grey-700")),ue(w.Chip,"defaultBorder",O("palette-grey-700")),ue(w.Chip,"defaultAvatarColor",O("palette-grey-300")),ue(w.Chip,"defaultIconColor",O("palette-grey-300")),ue(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ue(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ue(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ue(w.LinearProgress,"primaryBg",gt(w.primary.main,.5)),ue(w.LinearProgress,"secondaryBg",gt(w.secondary.main,.5)),ue(w.LinearProgress,"errorBg",gt(w.error.main,.5)),ue(w.LinearProgress,"infoBg",gt(w.info.main,.5)),ue(w.LinearProgress,"successBg",gt(w.success.main,.5)),ue(w.LinearProgress,"warningBg",gt(w.warning.main,.5)),ue(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),ue(w.Slider,"primaryTrack",gt(w.primary.main,.5)),ue(w.Slider,"secondaryTrack",gt(w.secondary.main,.5)),ue(w.Slider,"errorTrack",gt(w.error.main,.5)),ue(w.Slider,"infoTrack",gt(w.info.main,.5)),ue(w.Slider,"successTrack",gt(w.success.main,.5)),ue(w.Slider,"warningTrack",gt(w.warning.main,.5));const C=Om(w.background.default,.98);ue(w.SnackbarContent,"bg",C),ue(w.SnackbarContent,"color",xi(()=>w.getContrastText(C))),ue(w.SpeedDialAction,"fabHoverBg",Om(w.background.paper,.15)),ue(w.StepConnector,"border",O("palette-grey-600")),ue(w.StepContent,"border",O("palette-grey-600")),ue(w.Switch,"defaultColor",O("palette-grey-300")),ue(w.Switch,"defaultDisabledColor",O("palette-grey-600")),ue(w.Switch,"primaryDisabledColor",gt(w.primary.main,.55)),ue(w.Switch,"secondaryDisabledColor",gt(w.secondary.main,.55)),ue(w.Switch,"errorDisabledColor",gt(w.error.main,.55)),ue(w.Switch,"infoDisabledColor",gt(w.info.main,.55)),ue(w.Switch,"successDisabledColor",gt(w.success.main,.55)),ue(w.Switch,"warningDisabledColor",gt(w.warning.main,.55)),ue(w.TableCell,"border",gt(Pm(w.divider,1),.68)),ue(w.Tooltip,"bg",Pm(w.grey[700],.92))}Rs(w.background,"default"),Rs(w.background,"paper"),Rs(w.common,"background"),Rs(w.common,"onBackground"),Rs(w,"divider"),Object.keys(w).forEach(C=>{const D=w[C];C!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&ue(w[C],"mainChannel",Id(Rd(D.main))),D.light&&ue(w[C],"lightChannel",Id(Rd(D.light))),D.dark&&ue(w[C],"darkChannel",Id(Rd(D.dark))),D.contrastText&&ue(w[C],"contrastTextChannel",Id(Rd(D.contrastText))),C==="text"&&(Rs(w[C],"primary"),Rs(w[C],"secondary")),C==="action"&&(D.active&&Rs(w[C],"active"),D.selected&&Rs(w[C],"selected")))})}),H=e.reduce((x,w)=>Rr(x,w),H);const j={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:j$(H)},{vars:K,generateThemeVars:M,generateStyleSheets:R}=d$(H,j);return H.vars=K,Object.entries(H.colorSchemes[H.defaultColorScheme]).forEach(([x,w])=>{H[x]=w}),H.generateThemeVars=M,H.generateStyleSheets=R,H.generateSpacing=function(){return PN(d.spacing,$w(this))},H.getColorSchemeSelector=f$(h),H.spacing=H.generateSpacing(),H.shouldSkipGeneratingVar=u,H.unstable_sxConfig={...Yy,...d==null?void 0:d.unstable_sxConfig},H.unstable_sx=function(w){return vc({sx:w,theme:this})},H.toRuntimeSource=UN,H}function xC(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:eT({...t===!0?{}:t.palette,mode:e})})}function G$(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",f=i==null?void 0:i[h],d={...i,...t?{[h]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return $E(n,...e);let g=t;"palette"in n||d[h]&&(d[h]!==!0?g=d[h].palette:h==="dark"&&(g={mode:"dark"}));const _=$E({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=d,_.palette.mode==="light"&&(_.colorSchemes.light={...d.light!==!0&&d.light,palette:_.palette},xC(_,"dark",d.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:_.palette},xC(_,"light",d.light)),_}return!t&&!("light"in d)&&h==="light"&&(d.light=!0),$$({...u,colorSchemes:d,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const K$=G$(),W$="$$material";function jN(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Q$=n=>jN(n)&&n!=="classes",Yf=QH({themeId:W$,defaultTheme:K$,rootShouldForwardProp:Q$}),tT=l$;function zN(n){return o$(n)}function Y$(n){return Yw("MuiSvgIcon",n)}DN("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const X$=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Xa(e)}`,`fontSize${Xa(t)}`]};return pN(i,Y$,r)},J$=Yf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Xa(t.color)}`],e[`fontSize${Xa(t.fontSize)}`]]}})(tT(({theme:n})=>{var e,t,r,i,o,u,h,f,d,g,_,v,T,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:f.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:g.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,A])=>A&&A.main).map(([A])=>{var P,L;return{props:{color:A},style:{color:(L=(P=(n.vars??n).palette)==null?void 0:P[A])==null?void 0:L.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(b=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),GE=W.forwardRef(function(e,t){const r=zN({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:f="medium",htmlColor:d,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,b=W.isValidElement(i)&&i.type==="svg",A={...r,color:u,component:h,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:b},P={};g||(P.viewBox=v);const L=X$(A);return B.jsxs(J$,{as:h,className:cl(L.root,o),focusable:"false",color:d,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...P,...T,...b&&i.props,ownerState:A,children:[b?i.props.children:i,_?B.jsx("title",{children:_}):null]})});GE.muiName="SvgIcon";function qN(n,e){function t(r,i){return B.jsx(GE,{"data-testid":void 0,ref:i,...r,children:n})}return t.muiName=GE.muiName,W.memo(W.forwardRef(t))}let PC=0;function Z$(n){const[e,t]=W.useState(n),r=n||e;return W.useEffect(()=>{e==null&&(PC+=1,t(`mui-${PC}`))},[e]),r}const eG={...j0},OC=eG.useId;function HN(n){if(OC!==void 0){const e=OC();return n??e}return Z$(n)}function tG(n){const{controlled:e,default:t}=n,{current:r}=W.useRef(e!==void 0),[i,o]=W.useState(t),u=r?e:i,h=W.useCallback(f=>{r||o(f)},[]);return[u,h]}function $N(...n){const e=W.useRef(void 0),t=W.useCallback(r=>{const i=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,h=u(r);return typeof h=="function"?h:()=>{u(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},n);return W.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}const nG=qN(B.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),rG=qN(B.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function iG(n){return Yw("MuiRating",n)}const ud=DN("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function sG(n){return typeof n=="string"}function aG(n,e,t){return n===void 0||sG(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function oG(n,e,t){return typeof n=="function"?n(e,t):n}function lG(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function DC(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function uG(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const T=cl(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),b={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},A={...t,...i,...r};return T.length>0&&(A.className=T),Object.keys(b).length>0&&(A.style=b),{props:A,internalRef:void 0}}const u=lG({...i,...r}),h=DC(r),f=DC(i),d=e(u),g=cl(d==null?void 0:d.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),_={...d==null?void 0:d.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...d,...t,...f,...h};return g.length>0&&(v.className=g),Object.keys(_).length>0&&(v.style=_),{props:v,internalRef:d.ref}}function Hd(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:h=!1,...f}=e,{component:d,slots:g={[n]:void 0},slotProps:_={[n]:void 0},...v}=o,T=g[n]||r,b=oG(_[n],i),{props:{component:A,...P},internalRef:L}=uG({className:t,...f,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:b}),U=$N(L,b==null?void 0:b.ref,e.ref),V=n==="root"?A||d:A,H=aG(T,{...n==="root"&&!d&&!g[n]&&u,...n!=="root"&&!g[n]&&u,...P,...V&&!h&&{as:V},...V&&h&&{component:V},ref:U},i);return[T,H]}function cG(n){const e=n.toString().split(".")[1];return e?e.length:0}function U0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(cG(e)))}const hG=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${Xa(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return pN(h,iG,e)},dG=Yf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${ud.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Xa(t.size)}`],t.readOnly&&e.readOnly]}})(tT(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${ud.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ud.focusVisible} .${ud.iconActive}`]:{outline:"1px solid #999"},[`& .${ud.visuallyHidden}`]:$7,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),GN=Yf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),fG=Yf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(tT(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),pG=Yf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>jN(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function mG(n){const{value:e,...t}=n;return B.jsx("span",{...t})}function NC(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:f,IconContainerComponent:d,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:b,onChange:A,onClick:P,onFocus:L,readOnly:U,ownerState:V,ratingValue:H,ratingValueRounded:j,slots:K={},slotProps:M={}}=n,R=u?_===H:_<=H,x=_<=h,w=_<=i,O=_===j,C=`${T}-${HN()}`,D={slots:K,slotProps:M},[se,F]=Hd("icon",{elementType:fG,className:cl(e.icon,R?e.iconFilled:e.iconEmpty,x&&e.iconHover,w&&e.iconFocus,g&&e.iconActive),externalForwardedProps:D,ownerState:{...V,iconEmpty:!R,iconFilled:R,iconHover:x,iconFocus:w,iconActive:g},additionalProps:{value:_},internalForwardedProps:{as:d}}),[$,J]=Hd("label",{elementType:GN,externalForwardedProps:D,ownerState:{...V,emptyValueFocused:void 0},additionalProps:{style:v==null?void 0:v.style,htmlFor:C}}),le=B.jsx(se,{...F,children:r&&!R?r:f});return U?B.jsx("span",{...v,children:le}):B.jsxs(W.Fragment,{children:[B.jsxs($,{...J,children:[le,B.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),B.jsx("input",{className:e.visuallyHidden,onFocus:L,onBlur:b,onChange:A,onClick:P,disabled:t,value:_,id:C,type:"radio",name:T,checked:O})]})}const gG=B.jsx(nG,{fontSize:"inherit"}),yG=B.jsx(rG,{fontSize:"inherit"});function _G(n){return`${n||"0"} Star${n!==1?"s":""}`}const KN=W.forwardRef(function(e,t){const r=zN({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:f=yG,emptyLabelText:d="Empty",getLabelText:g=_G,highlightSelectedOnly:_=!1,icon:v=gG,IconContainerComponent:T=mG,max:b=5,name:A,onChange:P,onChangeActive:L,onMouseLeave:U,onMouseMove:V,precision:H=1,readOnly:j=!1,size:K="medium",value:M,slots:R={},slotProps:x={},...w}=r,O=HN(A),[C,D]=tG({controlled:M,default:u}),se=U0(C,H),F=K7(),[{hover:$,focus:J},le]=W.useState({hover:-1,focus:-1});let be=se;$!==-1&&(be=$),J!==-1&&(be=J);const[q,re]=W.useState(!1),ge=W.useRef(),me=$N(ge,t),Te=Fe=>{V&&V(Fe);const _t=ge.current,{right:wt,left:hi,width:Yr}=_t.getBoundingClientRect();let st;F?st=(wt-Fe.clientX)/Yr:st=(Fe.clientX-hi)/Yr;let Ue=U0(b*st+H/2,H);Ue=fN(Ue,H,b),le(Gt=>Gt.hover===Ue&&Gt.focus===Ue?Gt:{hover:Ue,focus:Ue}),re(!1),L&&$!==Ue&&L(Fe,Ue)},ke=Fe=>{U&&U(Fe);const _t=-1;le({hover:_t,focus:_t}),L&&$!==_t&&L(Fe,_t)},xe=Fe=>{let _t=Fe.target.value===""?null:parseFloat(Fe.target.value);$!==-1&&(_t=$),D(_t),P&&P(Fe,_t)},$t=Fe=>{Fe.clientX===0&&Fe.clientY===0||(le({hover:-1,focus:-1}),D(null),P&&parseFloat(Fe.target.value)===se&&P(Fe,null))},rt=Fe=>{aC(Fe.target)&&re(!0);const _t=parseFloat(Fe.target.value);le(wt=>({hover:wt.hover,focus:_t}))},Pr=Fe=>{if($!==-1)return;aC(Fe.target)||re(!1);const _t=-1;le(wt=>({hover:wt.hover,focus:_t}))},[ci,Or]=W.useState(!1),dr={...r,component:i,defaultValue:u,disabled:h,emptyIcon:f,emptyLabelText:d,emptyValueFocused:ci,focusVisible:q,getLabelText:g,icon:v,IconContainerComponent:T,max:b,precision:H,readOnly:j,size:K},Ln=hG(dr),Qr={slots:R,slotProps:x},[lo,Ol]=Hd("root",{ref:me,className:cl(Ln.root,o),elementType:dG,externalForwardedProps:{...Qr,...w,component:i},getSlotProps:Fe=>({...Fe,onMouseMove:_t=>{var wt;Te(_t),(wt=Fe.onMouseMove)==null||wt.call(Fe,_t)},onMouseLeave:_t=>{var wt;ke(_t),(wt=Fe.onMouseLeave)==null||wt.call(Fe,_t)}}),ownerState:dr,additionalProps:{role:j?"img":null,"aria-label":j?g(be):null}}),[tr,jc]=Hd("label",{className:cl(Ln.label,Ln.labelEmptyValue),elementType:GN,externalForwardedProps:Qr,ownerState:dr}),[uo,ts]=Hd("decimal",{className:Ln.decimal,elementType:pG,externalForwardedProps:Qr,ownerState:dr});return B.jsxs(lo,{...Ol,children:[Array.from(new Array(b)).map((Fe,_t)=>{const wt=_t+1,hi={classes:Ln,disabled:h,emptyIcon:f,focus:J,getLabelText:g,highlightSelectedOnly:_,hover:$,icon:v,IconContainerComponent:T,name:O,onBlur:Pr,onChange:xe,onClick:$t,onFocus:rt,ratingValue:be,ratingValueRounded:se,readOnly:j,ownerState:dr,slots:R,slotProps:x},Yr=wt===Math.ceil(be)&&($!==-1||J!==-1);if(H<1){const st=Array.from(new Array(1/H));return W.createElement(uo,{...ts,key:wt,className:cl(ts.className,Yr&&Ln.iconActive),iconActive:Yr},st.map((Ue,Gt)=>{const en=U0(wt-1+(Gt+1)*H,H);return B.jsx(NC,{...hi,isActive:!1,itemValue:en,labelProps:{style:st.length-1===Gt?{}:{width:en===be?`${(Gt+1)*H*100}%`:"0%",overflow:"hidden",position:"absolute"}}},en)}))}return B.jsx(NC,{...hi,isActive:Yr,itemValue:wt},wt)}),!j&&!h&&B.jsxs(tr,{...jc,children:[B.jsx("input",{className:Ln.visuallyHidden,value:"",id:`${O}-empty`,type:"radio",name:O,checked:se==null,onFocus:()=>Or(!0),onBlur:()=>Or(!1),onChange:xe}),B.jsx("span",{className:Ln.visuallyHidden,children:d})]})]})});var og={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var vG=og.exports,kC;function EG(){return kC||(kC=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(vG,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function f(d,g){this._input=d,this._value=g}return e=function(d){var g,_,v,T;if(e.isNumeral(d))g=d.value();else if(d===0||typeof d>"u")g=0;else if(d===null||t.isNaN(d))g=null;else if(typeof d=="string")if(h.zeroFormat&&d===h.zeroFormat)g=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&d.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(d)}else g=Number(d)||null;return new f(d,g)},e.version=r,e.isNumeral=function(d){return d instanceof f},e._=t={numberToFormat:function(d,g,_){var v=o[e.options.currentLocale],T=!1,b=!1,A=0,P="",L=1e12,U=1e9,V=1e6,H=1e3,j="",K=!1,M,R,x,w,O,C,D;if(d=d||0,R=Math.abs(d),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(O=e._.includes(g,"+")?g.indexOf("+"):d<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(M=g.match(/a(k|m|b|t)?/),M=M?M[1]:!1,e._.includes(g," a")&&(P=" "),g=g.replace(new RegExp(P+"a[kmbt]?"),""),R>=L&&!M||M==="t"?(P+=v.abbreviations.trillion,d=d/L):R<L&&R>=U&&!M||M==="b"?(P+=v.abbreviations.billion,d=d/U):R<U&&R>=V&&!M||M==="m"?(P+=v.abbreviations.million,d=d/V):(R<V&&R>=H&&!M||M==="k")&&(P+=v.abbreviations.thousand,d=d/H)),e._.includes(g,"[.]")&&(b=!0,g=g.replace("[.]",".")),x=d.toString().split(".")[0],w=g.split(".")[1],C=g.indexOf(","),A=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,w?(e._.includes(w,"[")?(w=w.replace("]",""),w=w.split("["),j=e._.toFixed(d,w[0].length+w[1].length,_,w[1].length)):j=e._.toFixed(d,w.length,_),x=j.split(".")[0],e._.includes(j,".")?j=v.delimiters.decimal+j.split(".")[1]:j="",b&&Number(j.slice(1))===0&&(j="")):x=e._.toFixed(d,0,_),P&&!M&&Number(x)>=1e3&&P!==v.abbreviations.trillion)switch(x=String(Number(x)/1e3),P){case v.abbreviations.thousand:P=v.abbreviations.million;break;case v.abbreviations.million:P=v.abbreviations.billion;break;case v.abbreviations.billion:P=v.abbreviations.trillion;break}if(e._.includes(x,"-")&&(x=x.slice(1),K=!0),x.length<A)for(var se=A-x.length;se>0;se--)x="0"+x;return C>-1&&(x=x.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(x=""),D=x+j+(P||""),T?D=(T&&K?"(":"")+D+(T&&K?")":""):O>=0?D=O===0?(K?"-":"+")+D:D+(K?"-":"+"):K&&(D="-"+D),D},stringToNumber:function(d){var g=o[h.currentLocale],_=d,v={thousand:3,million:6,billion:9,trillion:12},T,b,A;if(h.zeroFormat&&d===h.zeroFormat)b=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)b=null;else{b=1,g.delimiters.decimal!=="."&&(d=d.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(A=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(A)){b*=Math.pow(10,v[T]);break}b*=(d.split("-").length+Math.min(d.split("(").length-1,d.split(")").length-1))%2?1:-1,d=d.replace(/[^0-9\.]+/g,""),b*=Number(d)}return b},isNaN:function(d){return typeof d=="number"&&isNaN(d)},includes:function(d,g){return d.indexOf(g)!==-1},insert:function(d,g,_){return d.slice(0,_)+g+d.slice(_)},reduce:function(d,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(d),v=_.length>>>0,T=0,b;if(arguments.length===3)b=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");b=_[T++]}for(;T<v;T++)T in _&&(b=g(b,_[T],T,_));return b},multiplier:function(d){var g=d.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var d=Array.prototype.slice.call(arguments);return d.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(d,g,_,v){var T=d.toString().split("."),b=g-(v||0),A,P,L,U;return T.length===2?A=Math.min(Math.max(T[1].length,b),g):A=b,L=Math.pow(10,A),U=(_(d+"e+"+A)/L).toFixed(A),v>g-A&&(P=new RegExp("\\.?0{1,"+(v-(g-A))+"}$"),U=U.replace(P,"")),U}},e.options=h,e.formats=i,e.locales=o,e.locale=function(d){return d&&(h.currentLocale=d.toLowerCase()),h.currentLocale},e.localeData=function(d){if(!d)return o[h.currentLocale];if(d=d.toLowerCase(),!o[d])throw new Error("Unknown locale : "+d);return o[d]},e.reset=function(){for(var d in u)h[d]=u[d]},e.zeroFormat=function(d){h.zeroFormat=typeof d=="string"?d:null},e.nullFormat=function(d){h.nullFormat=typeof d=="string"?d:null},e.defaultFormat=function(d){h.defaultFormat=typeof d=="string"?d:"0.0"},e.register=function(d,g,_){if(g=g.toLowerCase(),this[d+"s"][g])throw new TypeError(g+" "+d+" already registered.");return this[d+"s"][g]=_,_},e.validate=function(d,g){var _,v,T,b,A,P,L,U;if(typeof d!="string"&&(d+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",d)),d=d.trim(),d.match(/^\d+$/))return!0;if(d==="")return!1;try{L=e.localeData(g)}catch{L=e.localeData(e.locale())}return T=L.currency.symbol,A=L.abbreviations,_=L.delimiters.decimal,L.delimiters.thousands==="."?v="\\.":v=L.delimiters.thousands,U=d.match(/^[^\d]+/),U!==null&&(d=d.substr(1),U[0]!==T)||(U=d.match(/[^\d]+$/),U!==null&&(d=d.slice(0,-1),U[0]!==A.thousand&&U[0]!==A.million&&U[0]!==A.billion&&U[0]!==A.trillion))?!1:(P=new RegExp(v+"{2}"),d.match(/[^\d.,]/g)?!1:(b=d.split(_),b.length>2?!1:b.length<2?!!b[0].match(/^\d+.*\d$/)&&!b[0].match(P):b[0].length===1?!!b[0].match(/^\d+$/)&&!b[0].match(P)&&!!b[1].match(/^\d+$/):!!b[0].match(/^\d+.*\d$/)&&!b[0].match(P)&&!!b[1].match(/^\d+$/)))},e.fn=f.prototype={clone:function(){return e(this)},format:function(d,g){var _=this._value,v=d||h.defaultFormat,T,b,A;if(g=g||Math.round,_===0&&h.zeroFormat!==null)b=h.zeroFormat;else if(_===null&&h.nullFormat!==null)b=h.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){A=i[T].format;break}A=A||e._.numberToFormat,b=A(_,v,g)}return b},value:function(){return this._value},input:function(){return this._input},set:function(d){return this._value=Number(d),this},add:function(d){var g=t.correctionFactor.call(null,this._value,d);function _(v,T,b,A){return v+Math.round(g*T)}return this._value=t.reduce([this._value,d],_,0)/g,this},subtract:function(d){var g=t.correctionFactor.call(null,this._value,d);function _(v,T,b,A){return v-Math.round(g*T)}return this._value=t.reduce([d],_,Math.round(this._value*g))/g,this},multiply:function(d){function g(_,v,T,b){var A=t.correctionFactor(_,v);return Math.round(_*A)*Math.round(v*A)/Math.round(A*A)}return this._value=t.reduce([this._value,d],g,1),this},divide:function(d){function g(_,v,T,b){var A=t.correctionFactor(_,v);return Math.round(_*A)/Math.round(v*A)}return this._value=t.reduce([this._value,d],g),this},difference:function(d){return Math.abs(e(this._value).subtract(d).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(d){var g=d%10;return~~(d%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(d,g,_){var v=e._.includes(g," BPS")?" ":"",T;return d=d*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(d,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(d){return+(e._.stringToNumber(d)*1e-4).toFixed(15)}})}(),function(){var d={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=d.suffixes.concat(g.suffixes.filter(function(T){return d.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,b,A){var P,L=e._.includes(b,"ib")?g:d,U=e._.includes(b," b")||e._.includes(b," ib")?" ":"",V,H,j;for(b=b.replace(/\s?i?b/,""),V=0;V<=L.suffixes.length;V++)if(H=Math.pow(L.base,V),j=Math.pow(L.base,V+1),T===null||T===0||T>=H&&T<j){U+=L.suffixes[V],H>0&&(T=T/H);break}return P=e._.numberToFormat(T,b,A),P+U},unformat:function(T){var b=e._.stringToNumber(T),A,P;if(b){for(A=d.suffixes.length-1;A>=0;A--){if(e._.includes(T,d.suffixes[A])){P=Math.pow(d.base,A);break}if(e._.includes(T,g.suffixes[A])){P=Math.pow(g.base,A);break}}b*=P||1}return b}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(d,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},b,A,P;for(g=g.replace(/\s?\$\s?/,""),b=e._.numberToFormat(d,g,_),d>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):d<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),P=0;P<T.before.length;P++)switch(A=T.before[P],A){case"$":b=e._.insert(b,v.currency.symbol,P);break;case" ":b=e._.insert(b," ",P+v.currency.symbol.length-1);break}for(P=T.after.length-1;P>=0;P--)switch(A=T.after[P],A){case"$":b=P===T.after.length-1?b+v.currency.symbol:e._.insert(b,v.currency.symbol,-(T.after.length-(1+P)));break;case" ":b=P===T.after.length-1?b+" ":e._.insert(b," ",-(T.after.length-(1+P)+v.currency.symbol.length-1));break}return b}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(d,g,_){var v,T=typeof d=="number"&&!e._.isNaN(d)?d.toExponential():"0e+0",b=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(b[0]),g,_),v+"e"+b[1]},unformat:function(d){var g=e._.includes(d,"e+")?d.split("e+"):d.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(d,"e-")?v*=-1:v;function T(b,A,P,L){var U=e._.correctionFactor(b,A),V=b*U*(A*U)/(U*U);return V}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(d,g,_){var v=e.locales[e.options.currentLocale],T,b=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),b+=v.ordinal(d),T=e._.numberToFormat(d,g,_),T+b}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(d,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(d=d*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(d,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(d){var g=e._.stringToNumber(d);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(d,g,_){var v=Math.floor(d/60/60),T=Math.floor((d-v*60*60)/60),b=Math.round(d-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(b<10?"0"+b:b)},unformat:function(d){var g=d.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(og)),og.exports}var bG=EG();const wG=XE(bG),nT=({amount:n,className:e})=>{const t=wG(n).format("$0,0.00");return B.jsxs("span",{className:e,children:["Price ",t]})},TG="_productCard_container_6ccda_5",SG="_rating_6ccda_49",AG="_Button_6ccda_63",IG="_product_container_6ccda_103",lg={productCard_container:TG,rating:SG,Button:AG,product_container:IG};var RG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function WN(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return RG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Fu(n){var e=WN(n);return"".concat(e.value).concat(e.unit)}var QN=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},Hg=function(){return Hg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Hg.apply(this,arguments)},CG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},xG=QN("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function KE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,d=n.size,g=d===void 0?35:d,_=CG(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Hg({background:"transparent !important",width:Fu(g),height:Fu(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(xG," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},f);return t?W.createElement("span",Hg({style:v},_)):null}var an=function(){return an=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},an.apply(this,arguments)},PG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},OG=QN("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function DG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,d=n.height,g=d===void 0?15:d,_=n.width,v=_===void 0?5:_,T=n.radius,b=T===void 0?2:T,A=n.margin,P=A===void 0?2:A,L=PG(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),U=WN(P).value,V=U+18,H=V/2+V/5.5,j=an({display:"inherit",position:"relative",fontSize:"0",top:V,left:V,width:"".concat(V*3,"px"),height:"".concat(V*3,"px")},f),K=function(F){return{position:"absolute",width:Fu(v),height:Fu(g),margin:Fu(P),backgroundColor:i,borderRadius:Fu(b),transition:"2s",animationFillMode:"both",animation:"".concat(OG," ").concat(1.2/u,"s ").concat(F*.12,"s infinite ease-in-out")}},M=an(an({},K(1)),{top:"".concat(V,"px"),left:"0"}),R=an(an({},K(2)),{top:"".concat(H,"px"),left:"".concat(H,"px"),transform:"rotate(-45deg)"}),x=an(an({},K(3)),{top:"0",left:"".concat(V,"px"),transform:"rotate(90deg)"}),w=an(an({},K(4)),{top:"".concat(-1*H,"px"),left:"".concat(H,"px"),transform:"rotate(45deg)"}),O=an(an({},K(5)),{top:"".concat(-1*V,"px"),left:"0"}),C=an(an({},K(6)),{top:"".concat(-1*H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(-45deg)"}),D=an(an({},K(7)),{top:"0",left:"".concat(-1*V,"px"),transform:"rotate(90deg)"}),se=an(an({},K(8)),{top:"".concat(H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(45deg)"});return t?W.createElement("span",an({style:j},L),W.createElement("span",{style:M}),W.createElement("span",{style:R}),W.createElement("span",{style:x}),W.createElement("span",{style:w}),W.createElement("span",{style:O}),W.createElement("span",{style:C}),W.createElement("span",{style:D}),W.createElement("span",{style:se})):null}const rT=()=>B.jsx("div",{style:{display:"Flex",alignItem:"center",justifyContent:"Center",height:"50vh"},children:B.jsx(DG,{color:"#7be0b7"})}),Xf=({product:n,renderAdd:e})=>{const{image:t,title:r,id:i,rating:o,price:u}=n,[h,f]=W.useContext(zs),d=()=>{f({type:si.ADD_TO_BASKET,item:{image:t,title:r,id:i,rating:o,price:u}})};return B.jsx("div",{className:lg.productCard_container,children:B.jsxs("div",{children:[B.jsx(Fi,{to:`/products/${i}`,children:B.jsx("img",{src:t,alt:r})}),B.jsxs("div",{children:[B.jsx("h3",{children:r}),B.jsxs("div",{className:lg.rating,children:[B.jsx(KN,{value:(o==null?void 0:o.rate)||0,precision:.1,readOnly:!0}),B.jsx("small",{children:(o==null?void 0:o.count)||0})]}),B.jsx("div",{children:B.jsx(nT,{amount:u})}),e&&B.jsx("button",{className:lg.Button,onClick:d,children:"Add to Cart"})]})]})})},NG=()=>{const[n,e]=W.useState([]),[t,r]=W.useState(!1);return W.useEffect(()=>{Ot.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.error("Error fetching products:",i),setError("Failed to fetch products."),r(!1)})},[]),B.jsx(B.Fragment,{children:t?B.jsx(rT,{}):B.jsx("section",{className:lg.product_container,children:n.map(i=>B.jsx(Xf,{product:i,renderAdd:!0},i.id))})})},kG=[{title:"Electronics",name:"electronics",category:"electronics",imageLink:"https://www.shift4shop.com/2015/images/sell-online/electronics/selling-charge-up.jpg"},{title:"discovery fashion trends",name:"women's clothing",imageLink:"https://sourcingjournal.com/wp-content/uploads/2023/07/AnderssonBell6.jpeg?w=492&h=656&crop=1"},{title:"Mens_clothing",name:"mens clothings",imageLink:"https://www.axul.com/cdn/shop/collections/18_3760ca10-2427-4884-a13b-b5d9749fe97b_1024x1024.png?v=1647440489"},{title:"Jewelery",name:"jewery",imageLink:"https://cdn.vadasabi.com/images/tadema/600/87859678c94eb72aa8047fa6a7d1dec3.jpg"}],MG="_category_1ur8x_1",VG="_catagory_container_1ur8x_25",WE={category:MG,catagory_container:VG},LG=({data:n})=>B.jsx("section",{className:WE.blended_product_wrapper,children:B.jsx("div",{className:WE.category,children:B.jsxs(Fi,{to:`category/${n.name}`,children:[B.jsx("span",{children:B.jsx("h2",{children:n.title})}),B.jsx("img",{src:n.imageLink,alt:n.title}),B.jsx("p",{children:"Shop now"})]})})}),UG=()=>B.jsx("section",{className:WE.catagory_container,children:kG.map((n,e)=>B.jsx(LG,{data:n},e))});var B0={},cd={},Dm={},Nm={},MC;function BG(){return MC||(MC=1,function(n){(function(e,t){t(n,Za(),hN())})(Nm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=b;var i=u(t),o=u(r);function u(U){return U&&U.__esModule?U:{default:U}}var h=Object.assign||function(U){for(var V=1;V<arguments.length;V++){var H=arguments[V];for(var j in H)Object.prototype.hasOwnProperty.call(H,j)&&(U[j]=H[j])}return U};function f(U,V){var H={};for(var j in U)V.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(U,j)&&(H[j]=U[j]);return H}function d(U,V){if(!(U instanceof V))throw new TypeError("Cannot call a class as a function")}var g=function(){function U(V,H){for(var j=0;j<H.length;j++){var K=H[j];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(V,K.key,K)}}return function(V,H,j){return H&&U(V.prototype,H),j&&U(V,j),V}}();function _(U,V){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:U}function v(U,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);U.prototype=Object.create(V&&V.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(U,V):U.__proto__=V)}var T=!1;function b(U){T=U}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){b(!0)}}))}catch{}function A(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?U:U.capture}function P(U){if("touches"in U){var V=U.touches[0],H=V.pageX,j=V.pageY;return{x:H,y:j}}var K=U.screenX,M=U.screenY;return{x:K,y:M}}var L=function(U){v(V,U);function V(){var H;d(this,V);for(var j=arguments.length,K=Array(j),M=0;M<j;M++)K[M]=arguments[M];var R=_(this,(H=V.__proto__||Object.getPrototypeOf(V)).call.apply(H,[this].concat(K)));return R._handleSwipeStart=R._handleSwipeStart.bind(R),R._handleSwipeMove=R._handleSwipeMove.bind(R),R._handleSwipeEnd=R._handleSwipeEnd.bind(R),R._onMouseDown=R._onMouseDown.bind(R),R._onMouseMove=R._onMouseMove.bind(R),R._onMouseUp=R._onMouseUp.bind(R),R._setSwiperRef=R._setSwiperRef.bind(R),R}return g(V,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var K=P(j),M=K.x,R=K.y;this.moveStart={x:M,y:R},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var K=P(j),M=K.x,R=K.y,x=M-this.moveStart.x,w=R-this.moveStart.y;this.moving=!0;var O=this.props.onSwipeMove({x,y:w},j);O&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:x,deltaY:w}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var K=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-K?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>K&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-K?this.props.onSwipeUp(1,j):this.movePosition.deltaY>K&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var K=j.className,M=j.style,R=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var x=f(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:K,style:M},x),R)}}]),V}(t.Component);L.displayName="ReactSwipe",L.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},L.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=L})}(Nm)),Nm}var VC;function YN(){return VC||(VC=1,function(n){(function(e,t){t(n,BG())})(Dm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Dm)),Dm}var hd={},F0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var LC;function FG(){return LC||(LC=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(F0)),F0.exports}var UC;function XN(){if(UC)return hd;UC=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.default=void 0;var n=e(FG());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return hd.default=r,hd}var dd={},fd={},BC;function jG(){if(BC)return fd;BC=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return fd.outerWidth=n,fd}var pd={},FC;function iT(){if(FC)return pd;FC=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",f="("+u.join(",")+")";return h+f};return pd.default=n,pd}var md={},jC;function JN(){if(jC)return md;jC=1,Object.defineProperty(md,"__esModule",{value:!0}),md.default=void 0;var n=function(){return window};return md.default=n,md}var zC;function ZN(){if(zC)return dd;zC=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.default=void 0;var n=f(Za()),e=u(XN()),t=jG(),r=u(iT()),i=u(YN()),o=u(JN());function u(R){return R&&R.__esModule?R:{default:R}}function h(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return h=function(){return R},R}function f(R){if(R&&R.__esModule)return R;if(R===null||d(R)!=="object"&&typeof R!="function")return{default:R};var x=h();if(x&&x.has(R))return x.get(R);var w={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in R)if(Object.prototype.hasOwnProperty.call(R,C)){var D=O?Object.getOwnPropertyDescriptor(R,C):null;D&&(D.get||D.set)?Object.defineProperty(w,C,D):w[C]=R[C]}return w.default=R,x&&x.set(R,w),w}function d(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(w){return typeof w}:d=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},d(R)}function g(){return g=Object.assign||function(R){for(var x=1;x<arguments.length;x++){var w=arguments[x];for(var O in w)Object.prototype.hasOwnProperty.call(w,O)&&(R[O]=w[O])}return R},g.apply(this,arguments)}function _(R,x){if(!(R instanceof x))throw new TypeError("Cannot call a class as a function")}function v(R,x){for(var w=0;w<x.length;w++){var O=x[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(R,O.key,O)}}function T(R,x,w){return x&&v(R.prototype,x),R}function b(R,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(x&&x.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),x&&A(R,x)}function A(R,x){return A=Object.setPrototypeOf||function(O,C){return O.__proto__=C,O},A(R,x)}function P(R){var x=V();return function(){var O=H(R),C;if(x){var D=H(this).constructor;C=Reflect.construct(O,arguments,D)}else C=O.apply(this,arguments);return L(this,C)}}function L(R,x){return x&&(d(x)==="object"||typeof x=="function")?x:U(R)}function U(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function H(R){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},H(R)}function j(R,x,w){return x in R?Object.defineProperty(R,x,{value:w,enumerable:!0,configurable:!0,writable:!0}):R[x]=w,R}var K=function(x){return x.hasOwnProperty("key")},M=function(R){b(w,R);var x=P(w);function w(O){var C;return _(this,w),C=x.call(this,O),j(U(C),"itemsWrapperRef",void 0),j(U(C),"itemsListRef",void 0),j(U(C),"thumbsRef",void 0),j(U(C),"setItemsWrapperRef",function(D){C.itemsWrapperRef=D}),j(U(C),"setItemsListRef",function(D){C.itemsListRef=D}),j(U(C),"setThumbsRef",function(D,se){C.thumbsRef||(C.thumbsRef=[]),C.thumbsRef[se]=D}),j(U(C),"updateSizes",function(){if(!(!C.props.children||!C.itemsWrapperRef||!C.thumbsRef)){var D=n.Children.count(C.props.children),se=C.itemsWrapperRef.clientWidth,F=C.props.thumbWidth?C.props.thumbWidth:(0,t.outerWidth)(C.thumbsRef[0]),$=Math.floor(se/F),J=$<D,le=J?D-$:0;C.setState(function(be,q){return{itemSize:F,visibleItems:$,firstItem:J?C.getFirstItem(q.selectedItem):0,lastPosition:le,showArrows:J}})}}),j(U(C),"handleClickItem",function(D,se,F){if(!K(F)||F.key==="Enter"){var $=C.props.onSelectItem;typeof $=="function"&&$(D,se)}}),j(U(C),"onSwipeStart",function(){C.setState({swiping:!0})}),j(U(C),"onSwipeEnd",function(){C.setState({swiping:!1})}),j(U(C),"onSwipeMove",function(D){var se=D.x;if(!C.state.itemSize||!C.itemsWrapperRef||!C.state.visibleItems)return!1;var F=0,$=n.Children.count(C.props.children),J=-(C.state.firstItem*100)/C.state.visibleItems,le=Math.max($-C.state.visibleItems,0),be=-le*100/C.state.visibleItems;J===F&&se>0&&(se=0),J===be&&se<0&&(se=0);var q=C.itemsWrapperRef.clientWidth,re=J+100/(q/se);return C.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ge){C.itemsListRef.style[ge]=(0,r.default)(re,"%",C.props.axis)}),!0}),j(U(C),"slideRight",function(D){C.moveTo(C.state.firstItem-(typeof D=="number"?D:1))}),j(U(C),"slideLeft",function(D){C.moveTo(C.state.firstItem+(typeof D=="number"?D:1))}),j(U(C),"moveTo",function(D){D=D<0?0:D,D=D>=C.state.lastPosition?C.state.lastPosition:D,C.setState({firstItem:D})}),C.state={selectedItem:O.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},C}return T(w,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(C){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==C.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(C){var D=C;return C>=this.state.lastPosition&&(D=this.state.lastPosition),C<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),C<this.state.firstItem&&(D=C),D}},{key:"renderItems",value:function(){var C=this;return this.props.children.map(function(D,se){var F=e.default.ITEM(!1,se===C.state.selectedItem),$={key:se,ref:function(le){return C.setThumbsRef(le,se)},className:F,onClick:C.handleClickItem.bind(C,se,C.props.children[se]),onKeyDown:C.handleClickItem.bind(C,se,C.props.children[se]),"aria-label":"".concat(C.props.labels.item," ").concat(se+1),style:{width:C.props.thumbWidth}};return n.default.createElement("li",g({},$,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var C=this;if(!this.props.children)return null;var D=n.Children.count(this.props.children)>1,se=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,$={},J=-this.state.firstItem*(this.state.itemSize||0),le=(0,r.default)(J,"px",this.props.axis),be=this.props.transitionTime+"ms";return $={WebkitTransform:le,MozTransform:le,MsTransform:le,OTransform:le,transform:le,msTransform:le,WebkitTransitionDuration:be,MozTransitionDuration:be,MsTransitionDuration:be,OTransitionDuration:be,transitionDuration:be,msTransitionDuration:be},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!se),onClick:function(){return C.slideRight()},"aria-label":this.props.labels.leftArrow}),D?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:$,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(re){return C.setItemsListRef(re)},style:$},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return C.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),w}(n.Component);return dd.default=M,j(M,"displayName","Thumbs"),j(M,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),dd}var gd={},qC;function zG(){if(qC)return gd;qC=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.default=void 0;var n=function(){return document};return gd.default=n,gd}var br={},HC;function ek(){if(HC)return br;HC=1,Object.defineProperty(br,"__esModule",{value:!0}),br.setPosition=br.getPosition=br.isKeyboardEvent=br.defaultStatusFormatter=br.noop=void 0;var n=Za(),e=t(iT());function t(f){return f&&f.__esModule?f:{default:f}}var r=function(){};br.noop=r;var i=function(d,g){return"".concat(d," of ").concat(g)};br.defaultStatusFormatter=i;var o=function(d){return d?d.hasOwnProperty("key"):!1};br.isKeyboardEvent=o;var u=function(d,g){if(g.infiniteLoop&&++d,d===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-d*g.centerSlidePercentage,T=_-1;return d&&(d!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:d===T&&(v+=100-g.centerSlidePercentage),v}return-d*100};br.getPosition=u;var h=function(d,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(d,"%",g)}),_};return br.setPosition=h,br}var ri={},$C;function qG(){if($C)return ri;$C=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.fadeAnimationHandler=ri.slideStopSwipingHandler=ri.slideSwipeAnimationHandler=ri.slideAnimationHandler=void 0;var n=Za(),e=r(iT()),t=ek();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(_);v&&(b=b.filter(function(A){return Object.getOwnPropertyDescriptor(_,A).enumerable})),T.push.apply(T,b)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(b){u(_,b,T[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(b){Object.defineProperty(_,b,Object.getOwnPropertyDescriptor(T,b))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var b={},A=T.selectedItem,P=A,L=n.Children.count(v.children)-1,U=v.infiniteLoop&&(A<0||A>L);if(U)return P<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?b.itemListStyle=(0,t.setPosition)(-(L+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):b.itemListStyle=(0,t.setPosition)(-(L+2)*100,v.axis):P>L&&(b.itemListStyle=(0,t.setPosition)(0,v.axis)),b;var V=(0,t.getPosition)(A,v),H=(0,e.default)(V,"%",v.axis),j=v.transitionTime+"ms";return b.itemListStyle={WebkitTransform:H,msTransform:H,OTransform:H,transform:H},T.swiping||(b.itemListStyle=o(o({},b.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),b};ri.slideAnimationHandler=h;var f=function(v,T,b,A){var P={},L=T.axis==="horizontal",U=n.Children.count(T.children),V=0,H=(0,t.getPosition)(b.selectedItem,T),j=T.infiniteLoop?(0,t.getPosition)(U-1,T)-100:(0,t.getPosition)(U-1,T),K=L?v.x:v.y,M=K;H===V&&K>0&&(M=0),H===j&&K<0&&(M=0);var R=H+100/(b.itemSize/M),x=Math.abs(K)>T.swipeScrollTolerance;return T.infiniteLoop&&x&&(b.selectedItem===0&&R>-100?R-=U*100:b.selectedItem===U-1&&R<-U*100&&(R+=U*100)),(!T.preventMovementUntilSwipeScrollTolerance||x||b.swipeMovementStarted)&&(b.swipeMovementStarted||A({swipeMovementStarted:!0}),P.itemListStyle=(0,t.setPosition)(R,T.axis)),x&&!b.cancelClick&&A({cancelClick:!0}),P};ri.slideSwipeAnimationHandler=f;var d=function(v,T){var b=(0,t.getPosition)(T.selectedItem,v),A=(0,t.setPosition)(b,v.axis);return{itemListStyle:A}};ri.slideStopSwipingHandler=d;var g=function(v,T){var b=v.transitionTime+"ms",A="ease-in-out",P={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:A,msTransitionTimingFunction:A,MozTransitionTimingFunction:A,WebkitTransitionTimingFunction:A,OTransitionTimingFunction:A};return T.swiping||(P=o(o({},P),{},{WebkitTransitionDuration:b,MozTransitionDuration:b,OTransitionDuration:b,transitionDuration:b,msTransitionDuration:b})),{slideStyle:P,selectedStyle:o(o({},P),{},{opacity:1,position:"relative"}),prevStyle:o({},P)}};return ri.fadeAnimationHandler=g,ri}var GC;function HG(){if(GC)return cd;GC=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=void 0;var n=g(Za()),e=f(YN()),t=f(XN()),r=f(ZN()),i=f(zG()),o=f(JN()),u=ek(),h=qG();function f(O){return O&&O.__esModule?O:{default:O}}function d(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return d=function(){return O},O}function g(O){if(O&&O.__esModule)return O;if(O===null||_(O)!=="object"&&typeof O!="function")return{default:O};var C=d();if(C&&C.has(O))return C.get(O);var D={},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in O)if(Object.prototype.hasOwnProperty.call(O,F)){var $=se?Object.getOwnPropertyDescriptor(O,F):null;$&&($.get||$.set)?Object.defineProperty(D,F,$):D[F]=O[F]}return D.default=O,C&&C.set(O,D),D}function _(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(D){return typeof D}:_=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},_(O)}function v(){return v=Object.assign||function(O){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var se in D)Object.prototype.hasOwnProperty.call(D,se)&&(O[se]=D[se])}return O},v.apply(this,arguments)}function T(O,C){var D=Object.keys(O);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(O);C&&(se=se.filter(function(F){return Object.getOwnPropertyDescriptor(O,F).enumerable})),D.push.apply(D,se)}return D}function b(O){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?T(Object(D),!0).forEach(function(se){x(O,se,D[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(D)):T(Object(D)).forEach(function(se){Object.defineProperty(O,se,Object.getOwnPropertyDescriptor(D,se))})}return O}function A(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function P(O,C){for(var D=0;D<C.length;D++){var se=C[D];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(O,se.key,se)}}function L(O,C,D){return C&&P(O.prototype,C),O}function U(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&V(O,C)}function V(O,C){return V=Object.setPrototypeOf||function(se,F){return se.__proto__=F,se},V(O,C)}function H(O){var C=M();return function(){var se=R(O),F;if(C){var $=R(this).constructor;F=Reflect.construct(se,arguments,$)}else F=se.apply(this,arguments);return j(this,F)}}function j(O,C){return C&&(_(C)==="object"||typeof C=="function")?C:K(O)}function K(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(O){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},R(O)}function x(O,C,D){return C in O?Object.defineProperty(O,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):O[C]=D,O}var w=function(O){U(D,O);var C=H(D);function D(se){var F;A(this,D),F=C.call(this,se),x(K(F),"thumbsRef",void 0),x(K(F),"carouselWrapperRef",void 0),x(K(F),"listRef",void 0),x(K(F),"itemsRef",void 0),x(K(F),"timer",void 0),x(K(F),"animationHandler",void 0),x(K(F),"setThumbsRef",function(J){F.thumbsRef=J}),x(K(F),"setCarouselWrapperRef",function(J){F.carouselWrapperRef=J}),x(K(F),"setListRef",function(J){F.listRef=J}),x(K(F),"setItemsRef",function(J,le){F.itemsRef||(F.itemsRef=[]),F.itemsRef[le]=J}),x(K(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),x(K(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),x(K(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),x(K(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),x(K(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),x(K(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),x(K(F),"navigateWithKeyboard",function(J){if(F.isFocusWithinTheCarousel()){var le=F.props.axis,be=le==="horizontal",q={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},re=be?q.ArrowRight:q.ArrowDown,ge=be?q.ArrowLeft:q.ArrowUp;re===J.keyCode?F.increment():ge===J.keyCode&&F.decrement()}}),x(K(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var J=F.props.axis==="horizontal",le=F.itemsRef[0];if(le){var be=J?le.clientWidth:le.clientHeight;F.setState({itemSize:be}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),x(K(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),x(K(F),"handleClickItem",function(J,le){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(J,le),J!==F.state.selectedItem&&F.setState({selectedItem:J})}}),x(K(F),"handleOnChange",function(J,le){n.Children.count(F.props.children)<=1||F.props.onChange(J,le)}),x(K(F),"handleClickThumb",function(J,le){F.props.onClickThumb(J,le),F.moveTo(J)}),x(K(F),"onSwipeStart",function(J){F.setState({swiping:!0}),F.props.onSwipeStart(J)}),x(K(F),"onSwipeEnd",function(J){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(J),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),x(K(F),"onSwipeMove",function(J,le){F.props.onSwipeMove(le);var be=F.props.swipeAnimationHandler(J,F.props,F.state,F.setState.bind(K(F)));return F.setState(b({},be)),!!Object.keys(be).length}),x(K(F),"decrement",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof J=="number"?J:1))}),x(K(F),"increment",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof J=="number"?J:1))}),x(K(F),"moveTo",function(J){if(typeof J=="number"){var le=n.Children.count(F.props.children)-1;J<0&&(J=F.props.infiniteLoop?le:0),J>le&&(J=F.props.infiniteLoop?0:le),F.selectItem({selectedItem:J}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),x(K(F),"onClickNext",function(){F.increment(1)}),x(K(F),"onClickPrev",function(){F.decrement(1)}),x(K(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),x(K(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),x(K(F),"changeItem",function(J){return function(le){(!(0,u.isKeyboardEvent)(le)||le.key==="Enter")&&F.moveTo(J)}}),x(K(F),"selectItem",function(J){F.setState(b({previousItem:F.state.selectedItem},J),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(J.selectedItem,n.Children.toArray(F.props.children)[J.selectedItem])}),x(K(F),"getInitialImage",function(){var J=F.props.selectedItem,le=F.itemsRef&&F.itemsRef[J],be=le&&le.getElementsByTagName("img")||[];return be[0]}),x(K(F),"getVariableItemHeight",function(J){var le=F.itemsRef&&F.itemsRef[J];if(F.state.hasMount&&le&&le.children.length){var be=le.children[0].getElementsByTagName("img")||[];if(be.length>0){var q=be[0];if(!q.complete){var re=function Te(){F.forceUpdate(),q.removeEventListener("load",Te)};q.addEventListener("load",re)}}var ge=be[0]||le.children[0],me=ge.clientHeight;return me>0?me:null}return null});var $={initialized:!1,previousItem:se.selectedItem,selectedItem:se.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:se.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof se.animationHandler=="function"&&se.animationHandler||se.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,F.state=b(b({},$),F.animationHandler(se,$)),F}return L(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,$){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),$.swiping&&!this.state.swiping&&this.setState(b({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var $=F.getInitialImage();$&&!$.complete?$.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var $=this;return this.props.children?n.Children.map(this.props.children,function(J,le){var be=le===$.state.selectedItem,q=le===$.state.previousItem,re=be&&$.state.selectedStyle||q&&$.state.prevStyle||$.state.slideStyle||{};$.props.centerMode&&$.props.axis==="horizontal"&&(re=b(b({},re),{},{minWidth:$.props.centerSlidePercentage+"%"})),$.state.swiping&&$.state.swipeMovementStarted&&(re=b(b({},re),{},{pointerEvents:"none"}));var ge={ref:function(Te){return $.setItemsRef(Te,le)},key:"itemKey"+le+(F?"clone":""),className:t.default.ITEM(!0,le===$.state.selectedItem,le===$.state.previousItem),onClick:$.handleClickItem.bind($,le,J),style:re};return n.default.createElement("li",ge,$.props.renderItem(J,{isSelected:le===$.state.selectedItem,isPrevious:le===$.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,$=this.props,J=$.showIndicators,le=$.labels,be=$.renderIndicator,q=$.children;return J?n.default.createElement("ul",{className:"control-dots"},n.Children.map(q,function(re,ge){return be&&be(F.changeItem(ge),ge===F.state.selectedItem,ge,le.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var $=this.props.swipeable&&n.Children.count(this.props.children)>1,J=this.props.axis==="horizontal",le=this.props.showArrows&&n.Children.count(this.props.children)>1,be=le&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,q=le&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,re=this.renderItems(!0),ge=re.shift(),me=re.pop(),Te={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},ke={};if(J){if(Te.onSwipeLeft=this.onSwipeForward,Te.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var xe=this.getVariableItemHeight(this.state.selectedItem);ke.height=xe||"auto"}}else Te.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Te.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Te.style=b(b({},Te.style),{},{height:this.state.itemSize}),ke.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,be,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:ke},$?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},Te,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ge):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(rt){return F.setListRef(rt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ge)),this.props.renderArrowNext(this.onClickNext,q,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(n.default.Component);return cd.default=w,x(w,"displayName","Carousel"),x(w,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(C,D,se){return n.default.createElement("button",{type:"button","aria-label":se,className:t.default.ARROW_PREV(!D),onClick:C})},renderArrowNext:function(C,D,se){return n.default.createElement("button",{type:"button","aria-label":se,className:t.default.ARROW_NEXT(!D),onClick:C})},renderIndicator:function(C,D,se,F){return n.default.createElement("li",{className:t.default.DOT(D),onClick:C,onKeyDown:C,value:se,key:se,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(se+1)})},renderItem:function(C){return C},renderThumbs:function(C){var D=n.Children.map(C,function(se){var F=se;if(se.type!=="img"&&(F=n.Children.toArray(se.props.children).find(function($){return $.type==="img"})),!!F)return F});return D.filter(function(se){return se}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),cd}var KC={},WC;function $G(){return WC||(WC=1),KC}var QC;function GG(){return QC||(QC=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(HG()),t=$G(),r=i(ZN());function i(o){return o&&o.__esModule?o:{default:o}}}(B0)),B0}var KG=GG();const WG="/Amazon_clone__frontend/assets/10001-bl35EseN.jpg",QG="/Amazon_clone__frontend/assets/10002-CO6XiwvK.jpg",YG="/Amazon_clone__frontend/assets/10003-CKEg0SWO.jpg",XG="/Amazon_clone__frontend/assets/10004-Fp0oaH3y.jpg",JG="/Amazon_clone__frontend/assets/10005-DFW8ojyC.jpg",ZG=[WG,QG,YG,XG,JG],eK="_hero_img_1s5az_3",tK={hero_img:eK},nK=()=>B.jsxs("div",{children:[B.jsx(KG.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:ZG.map((n,e)=>B.jsx("div",{children:B.jsx("img",{src:n,alt:`slide-${e}`})},e))}),B.jsx("div",{className:tK.hero_img})]}),rK=()=>B.jsxs(wl,{children:[B.jsx(nK,{}),B.jsx(UG,{}),B.jsx(NG,{})]}),iK="_Payment_header_15typ_1",sK="_payment_15typ_15",aK="_flex_15typ_21",oK="_payment_image_15typ_43",lK="_payment_card_container_15typ_83",uK="_payment_price_15typ_91",cK="_payment_Detail_15typ_107",hK="_Loading_15typ_127",Pi={Payment_header:iK,payment:sK,flex:aK,payment_image:oK,payment_card_container:lK,payment_price:uK,payment_Detail:cK,Loading:hK};function YC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function XC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(t),!0).forEach(function(r){tk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ug(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ug=function(e){return typeof e}:ug=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(n)}function tk(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function fK(n,e){if(n==null)return{};var t=dK(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function nk(n,e){return pK(n)||mK(n,e)||gK(n,e)||yK()}function pK(n){if(Array.isArray(n))return n}function mK(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(f){o=!0,h=f}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function gK(n,e){if(n){if(typeof n=="string")return JC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return JC(n,e)}}function JC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wr=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},QE=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},bc=function(e){return e!==null&&ug(e)==="object"},_K=function(e){return bc(e)&&typeof e.then=="function"},vK=function(e){return bc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ZC="[object Object]",EK=function n(e,t){if(!bc(e)||!bc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===ZC,u=Object.prototype.toString.call(t)===ZC;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),f=Object.keys(t);if(h.length!==f.length)return!1;for(var d={},g=0;g<h.length;g+=1)d[h[g]]=!0;for(var _=0;_<f.length;_+=1)d[f[_]]=!0;var v=Object.keys(d);if(v.length!==h.length)return!1;var T=e,b=t,A=function(L){return n(T[L],b[L])};return v.every(A)},rk=function(e,t,r){return bc(e)?Object.keys(e).reduce(function(i,o){var u=!bc(t)||!EK(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?XC(XC({},i||{}),{},tk({},o,e[o])):i},null):null},ik="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ex=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ik;if(e===null||vK(e))return e;throw new Error(t)},bK=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ik;if(_K(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return ex(i,t)})};var r=ex(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},wK=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},t_=Ke.createContext(null);t_.displayName="ElementsContext";var sk=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},ak=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return bK(t)},[t]),u=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=nk(u,2),f=h[0],d=h[1];Ke.useEffect(function(){var v=!0,T=function(A){d(function(P){return P.stripe?P:{stripe:A,elements:A.elements(r)}})};return o.tag==="async"&&!f.stripe?o.stripePromise.then(function(b){b&&v&&T(b)}):o.tag==="sync"&&!f.stripe&&T(o.stripe),function(){v=!1}},[o,f,r]);var g=QE(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=QE(r);return Ke.useEffect(function(){if(f.elements){var v=rk(r,_,["clientSecret","fonts"]);v&&f.elements.update(v)}},[r,_,f.elements]),Ke.useEffect(function(){wK(f.stripe)},[f.stripe]),Ke.createElement(t_.Provider,{value:f},i)};ak.propTypes={stripe:Nt.any,options:Nt.object};var TK=function(e){var t=Ke.useContext(t_);return sk(t,e)},SK=function(){var e=TK("calls useElements()"),t=e.elements;return t};Nt.func.isRequired;var ok=Ke.createContext(null);ok.displayName="CheckoutSdkContext";var AK=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},IK=Ke.createContext(null);IK.displayName="CheckoutContext";Nt.any,Nt.shape({fetchClientSecret:Nt.func.isRequired,elementsOptions:Nt.object}).isRequired;var YE=function(e){var t=Ke.useContext(ok),r=Ke.useContext(t_);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?AK(t,e):sk(r,e)},RK=["mode"],CK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},cn=function(e,t){var r="".concat(CK(e),"Element"),i=function(f){var d=f.id,g=f.className,_=f.options,v=_===void 0?{}:_,T=f.onBlur,b=f.onFocus,A=f.onReady,P=f.onChange,L=f.onEscape,U=f.onClick,V=f.onLoadError,H=f.onLoaderStart,j=f.onNetworksChange,K=f.onConfirm,M=f.onCancel,R=f.onShippingAddressChange,x=f.onShippingRateChange,w=YE("mounts <".concat(r,">")),O="elements"in w?w.elements:null,C="checkoutSdk"in w?w.checkoutSdk:null,D=Ke.useState(null),se=nk(D,2),F=se[0],$=se[1],J=Ke.useRef(null),le=Ke.useRef(null);wr(F,"blur",T),wr(F,"focus",b),wr(F,"escape",L),wr(F,"click",U),wr(F,"loaderror",V),wr(F,"loaderstart",H),wr(F,"networkschange",j),wr(F,"confirm",K),wr(F,"cancel",M),wr(F,"shippingaddresschange",R),wr(F,"shippingratechange",x),wr(F,"change",P);var be;A&&(e==="expressCheckout"?be=A:be=function(){A(F)}),wr(F,"ready",be),Ke.useLayoutEffect(function(){if(J.current===null&&le.current!==null&&(O||C)){var re=null;if(C)switch(e){case"payment":re=C.createPaymentElement(v);break;case"address":if("mode"in v){var ge=v.mode,me=fK(v,RK);if(ge==="shipping")re=C.createShippingAddressElement(me);else if(ge==="billing")re=C.createBillingAddressElement(me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":re=C.createExpressCheckoutElement(v);break;case"currencySelector":re=C.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else O&&(re=O.create(e,v));J.current=re,$(re),re&&re.mount(le.current)}},[O,C,v]);var q=QE(v);return Ke.useEffect(function(){if(J.current){var re=rk(v,q,["paymentRequest"]);re&&"update"in J.current&&J.current.update(re)}},[v,q]),Ke.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),Ke.createElement("div",{id:d,className:g,ref:le})},o=function(f){YE("mounts <".concat(r,">"));var d=f.id,g=f.className;return Ke.createElement("div",{id:d,className:g})},u=t?o:i;return u.propTypes={id:Nt.string,className:Nt.string,onChange:Nt.func,onBlur:Nt.func,onFocus:Nt.func,onReady:Nt.func,onEscape:Nt.func,onClick:Nt.func,onLoadError:Nt.func,onLoaderStart:Nt.func,onNetworksChange:Nt.func,onConfirm:Nt.func,onCancel:Nt.func,onShippingAddressChange:Nt.func,onShippingRateChange:Nt.func,options:Nt.object},u.displayName=r,u.__elementType=e,u},hn=typeof window>"u",xK=Ke.createContext(null);xK.displayName="EmbeddedCheckoutProviderContext";var PK=function(){var e=YE("calls useStripe()"),t=e.stripe;return t};cn("auBankAccount",hn);var tx=cn("card",hn);cn("cardNumber",hn);cn("cardExpiry",hn);cn("cardCvc",hn);cn("fpxBank",hn);cn("iban",hn);cn("idealBank",hn);cn("p24Bank",hn);cn("epsBank",hn);cn("payment",hn);cn("expressCheckout",hn);cn("currencySelector",hn);cn("paymentRequestButton",hn);cn("linkAuthentication",hn);cn("address",hn);cn("shippingAddress",hn);cn("paymentMethodMessaging",hn);cn("affirmMessage",hn);cn("afterpayClearpayMessage",hn);const OK=Ot.create({baseURL:"https://amazon-backend-c3xd.onrender.com/"});function DK(){const[{user:n,basket:e},t]=W.useContext(zs),[r,i]=W.useState(!1),o=Gg(),u=e.reduce((b,A)=>A.price*A.amount+b,0),h=async b=>{var A;b.preventDefault();try{i(!0);const L=(A=(await OK({method:"POST",url:`/payment/create?total=${u*100}`})).data)==null?void 0:A.client_secret,V=(await v.confirmCardPayment(L,{payment_method:{card:_.getElement(tx)}})).paymentIntent;await BD.collection("users").doc(n.uid).collection("orders").doc(V.id).set({basket:e,amount:V.amount,created:V.created}),t({type:Type.EMPTY_BASKET}),i(!1),o("/Order",{state:{msg:"you have placed new order"}})}catch(P){console.log(P),i(!1)}},f=e==null?void 0:e.reduce((b,A)=>A.amount+b,0),[d,g]=W.useState(null),_=SK(),v=PK(),T=b=>{var A;g((A=b==null?void 0:b.error)!=null&&A.message?b.error.message:"")};return B.jsxs(wl,{children:[B.jsxs("div",{className:Pi.Payment_header,children:["Cheackout (",f,") items"]}),B.jsxs("section",{className:Pi.payment,children:[B.jsxs("div",{className:Pi.flex,children:[B.jsx("h3",{children:"Delivery Address"}),B.jsxs("div",{children:[B.jsx("div",{children:n==null?void 0:n.email}),B.jsx("div",{children:"123 React Lame"}),B.jsx("div",{children:"chicago, Il"})]})]}),B.jsx("hr",{}),B.jsxs("div",{className:Pi.flex,children:[B.jsx("h3",{children:"Review item and Delivery "}),B.jsx("div",{className:Pi.payment_image,children:e==null?void 0:e.map(b=>B.jsx(Xf,{product:b,flex:!0},b.id))})]}),B.jsx("hr",{}),B.jsxs("div",{className:Pi.flex,children:[B.jsx("h3",{children:"Payment Methods"}),B.jsx("div",{className:Pi.payment_card_container,children:B.jsx("div",{className:Pi.payment_Detail,children:B.jsxs("form",{onSubmit:h,action:"",children:[d&&B.jsx("small",{style:{color:"red"},children:d}),B.jsx(tx,{onChange:T}),B.jsxs("div",{className:Pi.payment_price,children:[B.jsx("div",{children:B.jsxs("span",{children:["Total Order |",B.jsx(nT,{amount:u})]})}),B.jsxs("button",{type:"submit",children:["Pay Now",r?B.jsxs("div",{className:Pi.Loading,children:[B.jsx(KE,{color:"gray",size:12}),B.jsx("p",{children:"Please wait ..."})]}):" Pay Now"]})]})]})})})]})]})]})}const NK="/Amazon_clone__frontend/assets/amazon_PNG7-DV3wl11C.png",kK="_login_fxgqf_1",MK="_login_container_fxgqf_23",VK="_signIn_button_fxgqf_91",LK="_signIn_create_Button_fxgqf_133",km={login:kK,login_container:MK,signIn_button:VK,signIn_create_Button:LK};function UK(){var T,b;const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(""),[u,h]=W.useState({signIn:!1,signUp:!1}),[{user:f},d]=W.useContext(zs);console.log(f);const g=Gg(),_=eo();console.log(_);const v=async A=>{A.preventDefault(),console.log(A.target.name),A.target.name=="signin"?(h({...u,signin:!0}),IP(Bg,n,t).then(P=>{var L;d({type:si.SET_USER,user:P.user}),h({...u,signIn:!1}),g(((L=_==null?void 0:_.state)==null?void 0:L.redirect)||"/")}).catch(P=>{o(P.message),h({...u,signIn:!1})})):(h({...u,signUp:!1}),g(),AP(Bg,n,t).then(P=>{var L;d({type:si.SET_USER,user:P.user}),h({...u,signUp:!1}),g(((L=_==null?void 0:_.state)==null?void 0:L.redirect)||"/")}).catch(P=>{o(P.message),h({...u,signUp:!1})}))};return B.jsxs("section",{className:km.login,children:[B.jsx(Fi,{to:"/",children:B.jsx("img",{src:NK,alt:""})}),B.jsxs("div",{className:km.login_container,children:[B.jsx("h1",{children:"Sign-in"}),((T=_==null?void 0:_.state)==null?void 0:T.msg)&&B.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(b=_==null?void 0:_.state)==null?void 0:b.msg}),B.jsxs("form",{action:"#",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",children:"Email"})," ",B.jsx("br",{}),B.jsx("input",{value:n,onChange:A=>e(A.target.value),type:"email",id:"email",name:"email",placeholder:"Enter your email",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"password",children:"Password"})," ",B.jsx("br",{}),B.jsx("input",{value:t,onChange:A=>r(A.target.value),type:"password",id:"password",placeholder:"enter your password"})]}),B.jsx("button",{type:"submit",name:"signin",onClick:v,className:km.signIn_button,children:u.signIn?B.jsx(KE,{color:"#fff",size:50}):"Sign-In"})]}),B.jsx("p",{children:"By signing in you agree to the AMAZON FAKE CLONE condition of use & sale.Please see our privicy Notice, our cookies Notice and our Intrest-Based Ads Notice"}),B.jsx("button",{type:"submit",name:"signup",onClick:v,className:km.signIn_create_Button,children:u.signIn?B.jsxs(KE,{children:[' color="#000", size=',15]}):" Create Your Amazon Account"}),i&&B.jsx("small",{style:{paddingTop:"50px",color:"red"},children:i})]})]})}const BK="_container_17hbe_1",FK="_Orders_container_17hbe_11",nx={container:BK,Orders_container:FK};function jK(){const[{user:n},e]=W.useContext(zs),[t,r]=W.useState([]);return W.useEffect(()=>{n?BD.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),B.jsx(wl,{children:B.jsx("section",{className:nx.container,children:B.jsxs("div",{className:nx.Orders_container,children:[B.jsx("h2",{children:"Your orders"}),(t==null?void 0:t.length)==0&&B.jsx("div",{style:{padding:"20px",color:"yellow"},children:"You don't have order yet"}),B.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var u;return B.jsxs("div",{children:[B.jsx("hr",{}),B.jsxs("p",{children:["Order ID: ",i.id]}),(u=i==null?void 0:i.data)==null?void 0:u.basket.map(h=>B.jsx(Xf,{flex:!0,product:h},h.id))]},o)})})]})})})}function zK(n){return Sc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"},child:[]}]})(n)}const qK="_container_19eg7_1",HK="_cart_container_19eg7_13",$K="_subtotal_19eg7_21",GK="_cart_product_19eg7_109",KK="_btn_container_19eg7_117",WK="_btn_19eg7_117",$o={container:qK,cart_container:HK,subtotal:$K,cart_product:GK,btn_container:KK,btn:WK};function QK(n){return Sc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}const YK=()=>{const[{basket:n,user:e},t]=W.useContext(zs),r=n.reduce((u,h)=>h.price*h.amount+u,0),i=u=>{t({type:si.ADD_TO_BASKET,item:u})},o=u=>{t({type:si.REMOVE_FROM_BASKET,id:u})};return B.jsx(wl,{children:B.jsxs("section",{className:$o.container,children:[B.jsxs("div",{className:$o.cart_container,children:[B.jsx("h3",{children:"Your shopping Basket"}),B.jsx("hr",{}),(n==null?void 0:n.length)==0?B.jsx("p",{children:"Opps ! no Item in your cart"}):n==null?void 0:n.map((u,h)=>B.jsxs("section",{className:$o.cart_product,children:[B.jsx(Xf,{product:u,renderDesc:!0,renderAdd:!1,flex:!0},h),B.jsxs("div",{className:$o.btn_container,children:[B.jsx("button",{className:$o.btn,onClick:()=>i(u),children:B.jsx(zK,{size:30})}),B.jsx("span",{children:u.amount}),B.jsx("button",{className:$o.btn,onClick:()=>o(u.id),children:B.jsx(QK,{size:30})})]})]}))]}),(n==null?void 0:n.length)!==0&&B.jsxs("div",{className:$o.subtotal,children:[B.jsxs("div",{children:[B.jsxs("p",{children:["Subtotal (",n==null?void 0:n.length,"items) "]}),B.jsx(nT,{amount:r})]}),B.jsxs("span",{children:[B.jsx("input",{type:"checkbox"}),B.jsx("small",{children:"This order contains a gift"})]}),B.jsx(Fi,{to:"/Payment",children:"continue to checkout"})]})]})})},XK="_product_container_18o90_39",JK={product_container:XK},lk="https://fakestoreapi.com",ZK=()=>{const[n,e]=W.useState([]),[t,r]=W.useState(!1),{categoryName:i}=px();return W.useEffect(()=>{let o=!1;return(async()=>{r(!0);try{const h=await Ot.get(`${lk}/products/category/${i}`);o||e(h.data)}catch(h){o||console.error(h)}finally{o||r(!1)}})(),()=>{o=!0}},[i]),B.jsx(wl,{children:B.jsxs("section",{children:[B.jsx("h1",{style:{padding:"30px"},children:"Results"}),B.jsxs("p",{style:{padding:"30px"},children:["Category: ",i]}),B.jsx("hr",{}),t?B.jsx(rT,{}):B.jsx("div",{className:JK.product_container,children:n==null?void 0:n.map(o=>B.jsx(Xf,{product:o,renderAdd:!0},o.id))})]})})},eW="_product_detail_12fki_1",tW="_product_wrapper_12fki_19",nW="_product_image_12fki_43",rW="_product_info_12fki_67",iW="_product_price_12fki_101",sW="_product_rating_12fki_115",aW="_product_buttons_12fki_129",Go={product_detail:eW,product_wrapper:tW,product_image:nW,product_info:rW,product_price:iW,product_rating:sW,product_buttons:aW},oW=()=>{var o,u;const{productId:n}=px(),[e,t]=W.useState(null),[r,i]=W.useState(!0);return W.useEffect(()=>{let h=!1;return(async()=>{i(!0);try{const d=await Ot.get(`${lk}/products/${n}`);h||t(d.data)}catch(d){h||console.error("Error fetching product:",d)}finally{h||i(!1)}})(),()=>{h=!0}},[n]),r||!e?B.jsx(wl,{children:B.jsx(rT,{})}):B.jsx(wl,{children:B.jsx("div",{className:Go.product_detail,children:B.jsxs("div",{className:Go.product_wrapper,children:[B.jsx("div",{className:Go.product_image,children:B.jsx("img",{src:e.image,alt:e.title,renderAdd:!0})}),B.jsxs("div",{className:Go.product_info,children:[B.jsx("h1",{children:e.title}),B.jsx("p",{children:e.description}),B.jsxs("div",{className:Go.product_price,children:["$",e.price]}),B.jsxs("div",{className:Go.product_rating,children:[B.jsx(KN,{value:((o=e.rating)==null?void 0:o.rate)||0,precision:.1,readOnly:!0}),B.jsxs("span",{children:["(",((u=e.rating)==null?void 0:u.count)||0,")"]})]}),B.jsx("div",{className:Go.product_buttons,children:B.jsx("button",{children:"Add to Cart"})})]})]})})})};var uk="basil",lW=function(e){return e===3?"v3":e},ck="https://js.stripe.com",uW="".concat(ck,"/").concat(uk,"/stripe.js"),cW=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,hW=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var dW=function(e){return cW.test(e)||hW.test(e)},fW=function(){for(var e=document.querySelectorAll('script[src^="'.concat(ck,'"]')),t=0;t<e.length;t++){var r=e[t];if(dW(r.src))return r}return null},rx=function(e){var t="",r=document.createElement("script");r.src="".concat(uW).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},pW=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:t})},yd=null,Mm=null,Vm=null,mW=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},gW=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},yW=function(e){return yd!==null?yd:(yd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=fW();if(!(i&&e)){if(!i)i=rx(e);else if(i&&Vm!==null&&Mm!==null){var o;i.removeEventListener("load",Vm),i.removeEventListener("error",Mm),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=rx(e)}}Vm=gW(t,r),Mm=mW(r),i.addEventListener("load",Vm),i.addEventListener("error",Mm)}catch(u){r(u);return}}),yd.catch(function(t){return yd=null,Promise.reject(t)}))},_W=function(e,t,r){if(e===null)return null;var i=t[0],o=i.match(/^pk_test/),u=lW(e.version),h=uk;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,t);return pW(f,r),f},_d,hk=!1,dk=function(){return _d||(_d=yW(null).catch(function(e){return _d=null,Promise.reject(e)}),_d)};Promise.resolve().then(function(){return dk()}).catch(function(n){hk||console.warn(n)});var vW=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];hk=!0;var i=Date.now();return dk().then(function(o){return _W(o,t,i)})};const ix=({children:n,msg:e,redirect:t})=>{const r=Gg(),[{user:i},o]=W.useContext(zs);return W.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},EW=vW("pk_test_51RUSzJPV1Un2O8ICsIfGJmcc98rC28tM1Y4p24m18GYz9qRwcY0KVDngxMIAVGziVeuMuDrcnRWyzifdWG098ub000uEZAhvdb"),bW=()=>B.jsx(lL,{basename:"/Amazon_clone__frontend/",children:B.jsxs(UV,{children:[B.jsx(Ca,{path:"/",element:B.jsx(rK,{})}),B.jsx(Ca,{path:"/Payment",element:B.jsxs(ix,{msg:"you must log in topay",children:["redirect=","/payments",B.jsx(ak,{stripe:EW,children:B.jsx(DK,{})})]})}),B.jsx(Ca,{path:"/Order",element:B.jsx(ix,{msg:"you must log in to see your orders",redirect:"/Order",children:B.jsx(jK,{})})}),B.jsx(Ca,{path:"/Auth",element:B.jsx(UK,{})}),B.jsx(Ca,{path:"/Cart",element:B.jsx(YK,{})}),B.jsx(Ca,{path:"/category/:categoryName",element:B.jsx(ZK,{})}),B.jsx(Ca,{path:"/products/:productId",element:B.jsx(oW,{})})]})}),wW=()=>{const[{user:n},e]=W.useContext(zs);return W.useEffect(()=>{Bg.onAuthStateChanged(t=>{e(t?{Type:si.SET_USER,user:t}:{Type:si.SET_USER,user:null})})},[]),B.jsx(B.Fragment,{children:B.jsx(bW,{})})};KM.createRoot(document.getElementById("root")).render(B.jsx(W.StrictMode,{children:B.jsx(HL,{reducer:qL,initialState:zL,children:B.jsx(wW,{})})}));
